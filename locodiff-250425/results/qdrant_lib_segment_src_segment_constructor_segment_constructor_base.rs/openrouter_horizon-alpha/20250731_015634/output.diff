
index 5dbd9e9bd..c8b229276 100644
--- a/qdrant_lib_segment_src_segment_constructor_segment_constructor_base.rs_expectedoutput.txt (expected):tmp/tmpidb5ig32_expected.txt	
+++ b/qdrant_lib_segment_src_segment_constructor_segment_constructor_base.rs_extracted.txt (actual):tmp/tmpzupbl72v_actual.txt	
@@ -7,7 +7,6 @@ use std::sync::atomic::AtomicBool;
 
 use atomic_refcell::AtomicRefCell;
 use common::budget::ResourcePermit;
-use common::flags::FeatureFlags;
 use io::storage_version::StorageVersion;
 use log::info;
 use parking_lot::{Mutex, RwLock};
@@ -360,12 +359,6 @@ pub(crate) fn create_rocksdb_id_tracker(
     SimpleIdTracker::open(database)
 }
 
-pub(crate) fn create_immutable_id_tracker(
-    segment_path: &Path,
-) -> OperationResult<ImmutableIdTracker> {
-    ImmutableIdTracker::open(segment_path)
-}
-
 pub(crate) fn get_payload_index_path(segment_path: &Path) -> PathBuf {
     segment_path.join(PAYLOAD_INDEX_PATH)
 }
@@ -385,7 +378,7 @@ pub struct VectorIndexBuildArgs<'a> {
     pub old_indices: &'a [Arc<AtomicRefCell<VectorIndexEnum>>],
     pub gpu_device: Option<&'a LockedGpuDevice<'a>>,
     pub stopped: &'a AtomicBool,
-    pub feature_flags: FeatureFlags,
+    pub feature_flags: common::flags::FeatureFlags,
 }
 
 pub(crate) fn open_vector_index(
@@ -704,8 +697,8 @@ fn create_segment(
         vector_data.insert(
             vector_name.to_owned(),
             VectorData {
-                vector_storage,
                 vector_index,
+                vector_storage,
                 quantized_vectors: sp(None),
             },
         );
@@ -738,8 +731,7 @@ pub fn load_segment(path: &Path, stopped: &AtomicBool) -> OperationResult<Option
     if path
         .extension()
         .and_then(|ext| ext.to_str())
-        .map(|ext| ext == "deleted")
-        .unwrap_or(false)
+        .is_some_and(|ext| ext == "deleted")
     {
         log::warn!("Segment is marked as deleted, skipping: {}", path.display());
         // Skip deleted segments
@@ -763,8 +755,9 @@ pub fn load_segment(path: &Path, stopped: &AtomicBool) -> OperationResult<Option
 
         if stored_version > app_version {
             return Err(OperationError::service_error(format!(
-                "Data version {stored_version} is newer than application version {app_version}. \
-                Please upgrade the application. Compatibility is not guaranteed."
+                "Data version {} is newer than application version {}. \
+                Please upgrade the application. Compatibility is not guaranteed.",
+                stored_version, app_version
             )));
         }
 
