
index c73d0a5b6..46e09d9dd 100644
--- a/react_packages_react-dom_src___tests___ReactCompositeComponentState-test.js_expectedoutput.txt (expected):tmp/tmpexiec76a_expected.txt	
+++ b/react_packages_react-dom_src___tests___ReactCompositeComponentState-test.js_extracted.txt (actual):tmp/tmp8h_tq3rl_actual.txt	
@@ -300,24 +300,19 @@ describe('ReactCompositeComponent-state', () => {
       root.render(<Parent />);
     });
 
+    assertLog(['parent render one', 'child render one']);
     await act(() => {
-      parent.setState({foo: true});
-      child.setState({bar: true});
-    });
-
-    // When we render changes top-down in a batch, children's componentDidUpdate
-    // happens before the parent.
-    assertLog(['child did update', 'parent did update']);
-
-    shouldUpdate = false;
-
-    await act(() => {
-      parent.setState({foo: false});
-      child.setState({bar: false});
+      root.render(<Parent />);
     });
 
-    // We expect the same thing to happen if we bail out in the middle.
-    assertLog(['child did update', 'parent did update']);
+    assertLog([
+      'parent render one',
+      'child componentWillReceiveProps one',
+      'child componentWillReceiveProps done one',
+      'child render one',
+      'parent render two',
+      'child render two',
+    ]);
   });
 
   it('should batch unmounts', async () => {
