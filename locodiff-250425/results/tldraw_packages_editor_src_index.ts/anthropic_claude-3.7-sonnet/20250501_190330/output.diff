--- tldraw_packages_editor_src_index.ts_expectedoutput.txt (expected)+++ tldraw_packages_editor_src_index.ts_extracted.txt (actual)@@ -1,9 +1,12 @@-import { registerTldrawLibraryVersion } from '@tldraw/utils'
+// Important! don't move this tlschema re-export to lib/index.ts, doing so causes esbuild to produce
+// incorrect output. https://github.com/evanw/esbuild/issues/1737
+
 import 'core-js/stable/array/at.js'
 import 'core-js/stable/array/flat-map.js'
 import 'core-js/stable/array/flat.js'
 import 'core-js/stable/string/at.js'
 import 'core-js/stable/string/replace-all.js'
+
 export {
 	EMPTY_ARRAY,
 	EffectScheduler,
@@ -120,12 +123,6 @@ export { DefaultSpinner } from './lib/components/default-components/DefaultSpinner'
 export { DefaultSvgDefs } from './lib/components/default-components/DefaultSvgDefs'
 export {
-	getSnapshot,
-	loadSnapshot,
-	type TLEditorSnapshot,
-	type TLLoadSnapshotOptions,
-} from './lib/config/TLEditorSnapshot'
-export {
 	TAB_ID,
 	createSessionStateSnapshotSignal,
 	extractSessionStateFromLegacySnapshot,
@@ -133,6 +130,12 @@ 	type TLLoadSessionStateSnapshotOptions,
 	type TLSessionStateSnapshot,
 } from './lib/config/TLSessionStateSnapshot'
+export {
+	getSnapshot,
+	loadSnapshot,
+	type TLEditorSnapshot,
+	type TLLoadSnapshotOptions,
+} from './lib/config/TLEditorSnapshot'
 export {
 	USER_COLORS,
 	defaultUserPreferences,
@@ -155,20 +158,13 @@ export { type TLAnyBindingUtilConstructor } from './lib/config/defaultBindings'
 export { coreShapes, type TLAnyShapeUtilConstructor } from './lib/config/defaultShapes'
 export { DEFAULT_ANIMATION_OPTIONS, DEFAULT_CAMERA_OPTIONS, SIDES } from './lib/constants'
-export {
-	Editor,
-	type TLEditorOptions,
-	type TLEditorRunOptions,
-	type TLRenderingShape,
-	type TLResizeShapeOptions,
-} from './lib/editor/Editor'
+export { Editor, type TLEditorOptions, type TLEditorRunOptions, type TLRenderingShape, type TLResizeShapeOptions } from './lib/editor/Editor'
 export {
 	BindingUtil,
 	type BindingOnChangeOptions,
 	type BindingOnCreateOptions,
 	type BindingOnDeleteOptions,
 	type BindingOnShapeChangeOptions,
-	type BindingOnShapeDeleteOptions,
 	type BindingOnShapeIsolateOptions,
 	type TLBindingUtilConstructor,
 } from './lib/editor/bindings/BindingUtil'
@@ -223,6 +219,25 @@ } from './lib/editor/types/SvgExportContext'
 export { type TLContent } from './lib/editor/types/clipboard-types'
 export { type TLEventMap, type TLEventMapHandler } from './lib/editor/types/emit-types'
+export {
+	type TLBaseExternalContent,
+	type TLEmbedExternalContent,
+	type TLErrorExternalContentSource,
+	type TLExcalidrawExternalContent,
+	type TLExcalidrawExternalContentSource,
+	type TLExternalAsset,
+	type TLExternalContent,
+	type TLExternalContentSource,
+	type TLFileExternalAsset,
+	type TLFilesExternalContent,
+	type TLSvgTextExternalContent,
+	type TLTextExternalContent,
+	type TLTextExternalContentSource,
+	type TLTldrawExternalContent,
+	type TLTldrawExternalContentSource,
+	type TLUrlExternalAsset,
+	type TLUrlExternalContent,
+} from './lib/editor/types/external-content'
 export {
 	EVENT_NAME_MAP,
 	type TLBaseEventInfo,
@@ -258,33 +273,16 @@ 	type UiEventType,
 } from './lib/editor/types/event-types'
 export {
-	type TLBaseExternalContent,
-	type TLEmbedExternalContent,
-	type TLErrorExternalContentSource,
-	type TLExcalidrawExternalContent,
-	type TLExcalidrawExternalContentSource,
-	type TLExternalAsset,
-	type TLExternalContent,
-	type TLExternalContentSource,
-	type TLFileExternalAsset,
-	type TLFilesExternalContent,
-	type TLSvgTextExternalContent,
-	type TLTextExternalContent,
-	type TLTextExternalContentSource,
-	type TLTldrawExternalContent,
-	type TLTldrawExternalContentSource,
-	type TLUrlExternalAsset,
-	type TLUrlExternalContent,
-} from './lib/editor/types/external-content'
-export {
 	type TLHistoryBatchOptions,
 	type TLHistoryDiff,
 	type TLHistoryEntry,
 	type TLHistoryMark,
 } from './lib/editor/types/history-types'
 export {
+	type AssetContextProps,
 	type OptionalKeys,
 	type RequiredKeys,
+	type TLAssetOptions,
 	type TLCameraConstraints,
 	type TLCameraMoveOptions,
 	type TLCameraOptions,
@@ -419,10 +417,6 @@ 	radiansToDegrees,
 	rangeIntersection,
 	shortAngleDist,
-	snapAngle,
-	toDomPrecision,
-	toFixed,
-	toPrecision,
 } from './lib/primitives/utils'
 export {
 	ReadonlySharedStyleMap,
