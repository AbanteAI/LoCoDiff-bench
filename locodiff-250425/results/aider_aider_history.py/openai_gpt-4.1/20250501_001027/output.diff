--- aider_aider_history.py_expectedoutput.txt (expected)+++ aider_aider_history.py_extracted.txt (actual)@@ -59,9 +59,6 @@         # Ensure the head ends with an assistant message
         while messages[split_index - 1]["role"] != "assistant" and split_index > 1:
             split_index -= 1
-
-        if split_index <= min_split:
-            return self.summarize_all(messages)
 
         head = messages[:split_index]
         tail = messages[split_index:]
