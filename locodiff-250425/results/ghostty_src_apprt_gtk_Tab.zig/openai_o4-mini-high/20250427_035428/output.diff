--- ghostty_src_apprt_gtk_Tab.zig_expectedoutput.txt (expected)+++ ghostty_src_apprt_gtk_Tab.zig_extracted.txt (actual)@@ -22,7 +22,6 @@ 
 pub const GHOSTTY_TAB = "ghostty_tab";
 
-/// The window that owns this tab.
 window: *Window,
 
 /// The tab label. The tab label is the text that appears on the tab.
@@ -48,8 +47,6 @@     return tab;
 }
 
-/// Initialize the tab, create a surface, and add it to the window. "self" needs
-/// to be a stable pointer, since it is used for GTK events.
 pub fn init(self: *Tab, window: *Window, parent_: ?*CoreSurface) !void {
     self.* = .{
         .window = window,
@@ -98,18 +95,17 @@     surface.grabFocus();
 }
 
-/// Deinits tab by deiniting child elem.
-pub fn deinit(self: *Tab, alloc: Allocator) void {
-    self.elem.deinit(alloc);
-}
-
 /// Deinit and deallocate the tab.
 pub fn destroy(self: *Tab, alloc: Allocator) void {
     self.deinit(alloc);
     alloc.destroy(self);
 }
 
-// TODO: move this
+/// Deinits tab by deiniting child elem.
+pub fn deinit(self: *Tab, alloc: Allocator) void {
+    self.elem.deinit(alloc);
+}
+
 /// Replace the surface element that this tab is showing.
 pub fn replaceElem(self: *Tab, elem: Surface.Container.Elem) void {
     // Remove our previous widget
@@ -118,19 +114,6 @@     // Add our new one
     self.box.append(elem.widget());
     self.elem = elem;
-}
-
-pub fn setTitleText(self: *Tab, title: [:0]const u8) void {
-    self.window.notebook.setTabTitle(self, title);
-}
-
-pub fn setTooltipText(self: *Tab, tooltip: [:0]const u8) void {
-    self.window.notebook.setTabTooltip(self, tooltip);
-}
-
-/// Remove this tab from the window.
-pub fn remove(self: *Tab) void {
-    self.window.closeTab(self);
 }
 
 /// Helper function to check if any surface in the split hierarchy needs close confirmation
@@ -161,11 +144,22 @@     }
 }
 
+pub fn setTitleText(self: *Tab, title: [:0]const u8) void {
+    self.window.notebook.setTabTitle(self, title);
+}
+
+pub fn setTooltipText(self: *Tab, tooltip: [:0]const u8) void {
+    self.window.notebook.setTabTooltip(self, tooltip);
+}
+
+/// Remove this tab from the window.
+pub fn remove(self: *Tab) void {
+    self.window.closeTab(self);
+}
+
 fn gtkDestroy(_: *gtk.Box, self: *Tab) callconv(.C) void {
     log.debug("tab box destroy", .{});
 
-    const alloc = self.window.app.core_app.alloc;
-
     // When our box is destroyed, we want to destroy our tab, too.
-    self.destroy(alloc);
+    self.destroy(self.window.app.core_app.alloc);
 }