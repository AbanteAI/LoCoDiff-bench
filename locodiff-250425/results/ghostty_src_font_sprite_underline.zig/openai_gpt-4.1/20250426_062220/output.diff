--- ghostty_src_font_sprite_underline.zig_expectedoutput.txt (expected)+++ ghostty_src_font_sprite_underline.zig_extracted.txt (actual)@@ -98,13 +98,12 @@ 
     canvas.rect(.{
         .x = 0,
-        .y = thickness * 2,
+        .y = @intCast(thickness + gap),
         .width = width,
         .height = thickness,
     }, .on);
 
     const offset_y: i32 = -@as(i32, @intCast(thickness));
-
     return .{ canvas, offset_y };
 }
 
@@ -130,7 +129,6 @@     }
 
     const offset_y: i32 = 0;
-
     return .{ canvas, offset_y };
 }
 
@@ -155,7 +153,6 @@     }
 
     const offset_y: i32 = 0;
-
     return .{ canvas, offset_y };
 }
 
@@ -233,7 +230,6 @@     }
 
     const offset_y: i32 = @intFromFloat(-@round(half_amplitude));
-
     return .{ canvas, offset_y };
 }
 
