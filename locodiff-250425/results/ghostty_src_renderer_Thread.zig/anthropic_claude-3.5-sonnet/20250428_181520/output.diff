--- ghostty_src_renderer_Thread.zig_expectedoutput.txt (expected)+++ ghostty_src_renderer_Thread.zig_extracted.txt (actual)@@ -96,7 +96,7 @@     visible: bool = true,
 
     /// This is true when the view is focused. This defaults to true
-    /// and it is up to the apprt to set the correct value.
+    /// and it is up to the apprt to set the correct value. 
     focused: bool = true,
 } = .{},
 
@@ -161,7 +161,7 @@         .stop = stop_h,
         .render_h = render_h,
         .draw_h = draw_h,
-        .draw_now = draw_now,
+        .draw_now = draw_now, 
         .cursor_h = cursor_timer,
         .surface = surface,
         .renderer = renderer_impl,
@@ -326,9 +326,6 @@                 // We don't need to update frame data because that should
                 // still be happening.
                 if (v) self.drawFrame(false);
-
-                // Notify the renderer so it can update any state.
-                self.renderer.setVisible(v);
 
                 // Note that we're explicitly today not stopping any
                 // cursor timers, draw timers, etc. These things have very
@@ -649,12 +646,6 @@     return .disarm;
 }
 
-// fn prepFrameCallback(h: *libuv.Prepare) void {
-//     _ = h;
-//
-//     tracy.frameMark();
-// }
-
 fn stopCallback(
     self_: ?*Thread,
     _: *xev.Loop,
