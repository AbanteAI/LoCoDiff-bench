
index 42fc8b445..974f1298e 100644
--- a/aider_aider_coders_editblock_coder.py_expectedoutput.txt (expected):tmp/tmpfipkwhlc_expected.txt	
+++ b/aider_aider_coders_editblock_coder.py_extracted.txt (actual):tmp/tmpftngavcb_actual.txt	
@@ -180,7 +180,6 @@ def replace_most_similar_chunk(whole, part, replace):
     except ValueError:
         pass
 
-    return
     # Try fuzzy matching
     res = replace_closest_edit_distance(whole_lines, part, part_lines, replace_lines)
     if res:
@@ -351,7 +350,7 @@ def strip_quoted_wrapping(res, fname=None, fence=DEFAULT_FENCE):
     if fname and res[0].strip().endswith(Path(fname).name):
         res = res[1:]
 
-    if res[0].startswith(fence[0]) and res[-1].startswith(fence[1]):
+    if res and fence and res[0].startswith(fence[0]) and res[-1].startswith(fence[1]):
         res = res[1:-1]
 
     res = "\n".join(res)
@@ -372,7 +371,7 @@ def do_replace(fname, content, before_text, after_text, fence=None):
         content = ""
 
     if content is None:
-        return
+        return content
 
     if not before_text.strip():
         # append to existing file, or start a new file
@@ -395,7 +394,6 @@ separators = "|".join([HEAD, DIVIDER, UPDATED])
 
 split_re = re.compile(r"^((?:" + separators + r")[ ]*\n)", re.MULTILINE | re.DOTALL)
 
-
 missing_filename_err = (
     "Bad/missing filename. The filename must be alone on the line before the opening fence"
     " {fence[0]}"
