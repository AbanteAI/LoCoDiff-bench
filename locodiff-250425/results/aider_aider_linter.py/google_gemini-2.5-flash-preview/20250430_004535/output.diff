--- aider_aider_linter.py_expectedoutput.txt (expected)+++ aider_aider_linter.py_extracted.txt (actual)@@ -132,6 +132,7 @@ 
         if text or lines:
             return LintResult(text, lines)
+
 
     def flake8_lint(self, rel_fname):
         fatal = "E9,F821,F823,F831,F406,F407,F701,F702,F704,F706"
@@ -144,18 +145,20 @@             "--isolated",
             rel_fname,
         ]
-
-        text = f"## Running: {' '.join(flake8_cmd)}\n\n"
+        flake8_cmd = " ".join(shlex.quote(arg) for arg in flake8_cmd)
+
+        text = f"## Running: {flake8_cmd}\n\n"
 
         try:
             result = subprocess.run(
                 flake8_cmd,
+                cwd=self.root,
                 capture_output=True,
                 text=True,
                 check=False,
                 encoding=self.encoding,
                 errors="replace",
-                cwd=self.root,
+                shell=True # Enable shell to handle quoted command
             )
             errors = result.stdout + result.stderr
         except Exception as e:
@@ -256,7 +259,6 @@     return output
 
 
-# Traverse the tree to find errors
 def traverse_tree(node):
     errors = []
     if node.type == "ERROR" or node.is_missing:
