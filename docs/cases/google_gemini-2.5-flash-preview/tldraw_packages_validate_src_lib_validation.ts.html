<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Case: packages/validate/src/lib/validation.ts - Gemini 2.5 Flash</title>
    <link rel="stylesheet" href="../../styles.css">
</head>
<body>
    <header>
        <h1>Case: packages/validate/src/lib/validation.ts</h1>
        <p><a href="../../models/google_gemini-2.5-flash-preview.html">‚Üê Back to Gemini 2.5 Flash Cases</a> | <a href="../../index.html">Home</a></p>
    </header>
    <main>
        <section class="case-details">
            <div class="case-info">
                <h2>Benchmark Case Information</h2>
                <p><strong>Model:</strong> Gemini 2.5 Flash</p>
                <p><strong>Status:</strong> <span class="failure">Failure</span></p>
                <p><strong>Prompt Tokens:</strong> 27845</p>
                <p><strong>Output Tokens:</strong> N/A</p>
                <p><strong>Native Prompt Tokens:</strong> 33034</p>
                <p><strong>Native Completion Tokens:</strong> 8122</p>
                <p><strong>Native Tokens Reasoning:</strong> 0</p>
                <p><strong>Native Finish Reason:</strong> STOP</p>
                <p><strong>Runtime:</strong> N/As</p>
                <p><strong>Cost:</strong> $0.0098283</p>
            </div>
            
            <div class="content-links">
                <h2>View Content</h2>
                <ul>
                    <li><a href="../../content/google_gemini-2.5-flash-preview/tldraw_packages_validate_src_lib_validation.ts/prompt.html" class="content-link">View Prompt</a></li>
                    <li><a href="../../content/google_gemini-2.5-flash-preview/tldraw_packages_validate_src_lib_validation.ts/expected.html" class="content-link">View Expected Output</a></li>
                    <li><a href="../../content/google_gemini-2.5-flash-preview/tldraw_packages_validate_src_lib_validation.ts/actual.html" class="content-link">View Actual Output</a></li>
                </ul>
            </div>
            
            <div class="diff-section">
                <h2>Diff (Expected vs Actual)</h2>
                <div id="diff-output">
                    <pre class="diff"><div class="diff-header">--- tldraw_packages_validate_src_lib_validation.ts_expectedoutput.txt (expected)+++ tldraw_packages_validate_src_lib_validation.ts_extracted.txt (actual)@@ -53,7 +53,7 @@ 	}</div><div> </div><div> 	// N.B. We don't want id's in the path because they make grouping in Sentry tough.</div><div class="diff-removed">-	formattedPath = formattedPath.replace(/id = [^,]+, /, '').replace(/id = [^)]+/, '')</div><div class="diff-added">+	formattedPath = formattedPath.replace(/id = [^,)]+(?:, )?/, '')</div><div> </div><div> 	if (formattedPath.startsWith('.')) {</div><div> 		return formattedPath.slice(1)</div><div class="diff-info">@@ -183,7 +183,7 @@ 			(knownGoodValue, newValue) => {</div><div> 				const validated = this.validateUsingKnownGoodVersion(knownGoodValue as any, newValue)</div><div> 				if (Object.is(knownGoodValue, validated)) {</div><div class="diff-removed">-					return knownGoodValue</div><div class="diff-added">+					return knownGoodValue as any</div><div> 				}</div><div> 				return otherValidationFn(validated)</div><div> 			}</div><div class="diff-info">@@ -196,7 +196,7 @@ 	 * @example</div><div> 	 *</div><div> 	 * ```ts</div><div class="diff-removed">-	 * const numberLessThan10Validator = T.number.check((value) => {</div><div class="diff-added">+	 * const numberLessThan10Validator = T.number.check('less than 10', (value) => {</div><div> 	 * 	if (value >= 10) {</div><div> 	 * 		throw new ValidationError(`Expected number less than 10, got ${value}`)</div><div> 	 * 	}</div><div class="diff-info">@@ -259,16 +259,16 @@ 		)</div><div> 	}</div><div> </div><div class="diff-removed">-	nonEmpty() {</div><div class="diff-removed">-		return this.check((value) => {</div><div class="diff-added">+	nonEmpty(): Validator<T[]> {</div><div class="diff-added">+		return this.check('non-empty', (value) => {</div><div> 			if (value.length === 0) {</div><div> 				throw new ValidationError('Expected a non-empty array')</div><div> 			}</div><div> 		})</div><div> 	}</div><div> </div><div class="diff-removed">-	lengthGreaterThan1() {</div><div class="diff-removed">-		return this.check((value) => {</div><div class="diff-added">+	lengthGreaterThan1(): Validator<T[]> {</div><div class="diff-added">+		return this.check('length greater than 1', (value) => {</div><div> 			if (value.length <= 1) {</div><div> 				throw new ValidationError('Expected an array with length greater than 1')</div><div> 			}</div><div class="diff-info">@@ -353,8 +353,8 @@ 		)</div><div> 	}</div><div> </div><div class="diff-removed">-	allowUnknownProperties() {</div><div class="diff-removed">-		return new ObjectValidator(this.config, true)</div><div class="diff-added">+	allowUnknownProperties(): ObjectValidator<Shape> {</div><div class="diff-added">+		return new ObjectValidator(this.config, true) as any</div><div> 	}</div><div> </div><div> 	/**</div><div class="diff-info">@@ -373,10 +373,8 @@ 	 */</div><div> 	extend<Extension extends Record<string, unknown>>(extension: {</div><div> 		readonly [K in keyof Extension]: Validatable<Extension[K]></div><div class="diff-removed">-	}): ObjectValidator<Shape & Extension> {</div><div class="diff-removed">-		return new ObjectValidator({ ...this.config, ...extension }) as any as ObjectValidator<</div><div class="diff-removed">-			Shape & Extension</div><div class="diff-removed">-		></div><div class="diff-added">+	}): ObjectValidator<MakeUndefinedOptional<Shape & Extension>> {</div><div class="diff-added">+		return new ObjectValidator({ ...this.config, ...extension }) as any</div><div> 	}</div><div> }</div><div> </div><div class="diff-info">@@ -569,7 +567,7 @@  *</div><div>  * @public</div><div>  */</div><div class="diff-removed">-export const number = typeofValidator<number>('number').check((number) => {</div><div class="diff-added">+export const number = typeofValidator<number>('number').check('a finite number', (number) => {</div><div> 	if (Number.isNaN(number)) {</div><div> 		throw new ValidationError('Expected a number, got NaN')</div><div> 	}</div><div class="diff-info">@@ -582,15 +580,18 @@  *</div><div>  * @public</div><div>  */</div><div class="diff-removed">-export const positiveNumber = number.check((value) => {</div><div class="diff-removed">-	if (value < 0) throw new ValidationError(`Expected a positive number, got ${value}`)</div><div class="diff-removed">-})</div><div class="diff-added">+export const positiveNumber: Validator<number> = number.check(</div><div class="diff-added">+	'a positive number',</div><div class="diff-added">+	(value) => {</div><div class="diff-added">+		if (value < 0) throw new ValidationError(`Expected a positive number, got ${value}`)</div><div class="diff-added">+	}</div><div class="diff-added">+)</div><div> /**</div><div>  * Fails if value \<= 0</div><div>  *</div><div>  * @public</div><div>  */</div><div class="diff-removed">-export const nonZeroNumber = number.check((value) => {</div><div class="diff-added">+export const nonZeroNumber: Validator<number> = number.check('a non-zero number', (value) => {</div><div> 	if (value <= 0) throw new ValidationError(`Expected a non-zero positive number, got ${value}`)</div><div> })</div><div> /**</div><div class="diff-info">@@ -598,7 +599,7 @@  *</div><div>  * @public</div><div>  */</div><div class="diff-removed">-export const integer = number.check((value) => {</div><div class="diff-added">+export const integer: Validator<number> = number.check('an integer', (value) => {</div><div> 	if (!Number.isInteger(value)) throw new ValidationError(`Expected an integer, got ${value}`)</div><div> })</div><div> /**</div><div class="diff-info">@@ -606,7 +607,7 @@  *</div><div>  * @public</div><div>  */</div><div class="diff-removed">-export const positiveInteger = integer.check((value) => {</div><div class="diff-added">+export const positiveInteger: Validator<number> = integer.check('a positive integer', (value) => {</div><div> 	if (value < 0) throw new ValidationError(`Expected a positive integer, got ${value}`)</div><div> })</div><div> /**</div><div class="diff-info">@@ -614,9 +615,12 @@  *</div><div>  * @public</div><div>  */</div><div class="diff-removed">-export const nonZeroInteger = integer.check((value) => {</div><div class="diff-removed">-	if (value <= 0) throw new ValidationError(`Expected a non-zero positive integer, got ${value}`)</div><div class="diff-removed">-})</div><div class="diff-added">+export const nonZeroInteger: Validator<number> = integer.check(</div><div class="diff-added">+	'a non-zero integer',</div><div class="diff-added">+	(value) => {</div><div class="diff-added">+		if (value <= 0) throw new ValidationError(`Expected a non-zero positive integer, got ${value}`)</div><div class="diff-added">+	}</div><div class="diff-added">+)</div><div> </div><div> /**</div><div>  * Validates that a value is boolean.</div><div class="diff-info">@@ -678,17 +682,6 @@ 	}</div><div> 	return value as Record<string, unknown></div><div> })</div><div class="diff-removed">-</div><div class="diff-removed">-/**</div><div class="diff-removed">- * Validate an object has a particular shape.</div><div class="diff-removed">- *</div><div class="diff-removed">- * @public</div><div class="diff-removed">- */</div><div class="diff-removed">-export function object<Shape extends object>(config: {</div><div class="diff-removed">-	readonly [K in keyof Shape]: Validatable<Shape[K]></div><div class="diff-removed">-}): ObjectValidator<MakeUndefinedOptional<Shape>> {</div><div class="diff-removed">-	return new ObjectValidator(config) as any</div><div class="diff-removed">-}</div><div> </div><div> function isPlainObject(value: unknown): value is Record<string, unknown> {</div><div> 	return (</div><div class="diff-info">@@ -790,8 +783,10 @@  *</div><div>  * @public</div><div>  */</div><div class="diff-removed">-export function jsonDict(): DictValidator<string, JsonValue> {</div><div class="diff-removed">-	return dict(string, jsonValue)</div><div class="diff-added">+export function object<Shape extends object>(config: {</div><div class="diff-added">+	readonly [K in keyof Shape]: Validatable<Shape[K]></div><div class="diff-added">+}): ObjectValidator<MakeUndefinedOptional<Shape>> {</div><div class="diff-added">+	return new ObjectValidator(config) as any</div><div> }</div><div> </div><div> /**</div><div class="diff-info">@@ -849,7 +844,7 @@ 	return new UnionValidator(</div><div> 		key,</div><div> 		config,</div><div class="diff-removed">-		(unknownValue, unknownVariant) => {</div><div class="diff-added">+		(_unknownValue, unknownVariant) => {</div><div> 			throw new ValidationError(</div><div> 				`Expected one of ${Object.keys(config)</div><div> 					.map((key) => JSON.stringify(key))</div><div class="diff-info">@@ -962,7 +957,7 @@  *</div><div>  * @public</div><div>  */</div><div class="diff-removed">-export const linkUrl = string.check((value) => {</div><div class="diff-added">+export const linkUrl = string.check('a valid link url', (value) => {</div><div> 	if (value === '') return</div><div> 	const url = parseUrl(value)</div><div> </div><div class="diff-info">@@ -981,7 +976,7 @@  *</div><div>  * @public</div><div>  */</div><div class="diff-removed">-export const srcUrl = string.check((value) => {</div><div class="diff-added">+export const srcUrl = string.check('a valid src url', (value) => {</div><div> 	if (value === '') return</div><div> 	const url = parseUrl(value)</div><div> </div><div class="diff-info">@@ -997,7 +992,7 @@  *</div><div>  * @public</div><div>  */</div><div class="diff-removed">-export const httpUrl = string.check((value) => {</div><div class="diff-added">+export const httpUrl = string.check('a valid http url', (value) => {</div><div> 	if (value === '') return</div><div> 	const url = parseUrl(value)</div><div> </div><div class="diff-info">@@ -1012,7 +1007,7 @@  * Validates that a value is an IndexKey.</div><div>  * @public</div><div>  */</div><div class="diff-removed">-export const indexKey = string.refine<IndexKey>((key) => {</div><div class="diff-added">+export const indexKey = string.refine<IndexKey>('an index key', (key) => {</div><div> 	try {</div><div> 		validateIndexKey(key)</div><div> 		return key</div><div></div></pre>
                </div>
            </div>
        </section>
    </main>
    <footer>
        <p>LoCoDiff-bench - <a href="https://github.com/AbanteAI/LoCoDiff-bench">GitHub Repository</a></p>
    </footer>
</body>
</html>
    