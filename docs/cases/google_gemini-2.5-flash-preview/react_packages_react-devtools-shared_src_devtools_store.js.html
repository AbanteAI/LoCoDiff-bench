<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Case: packages/react-devtools-shared/src/devtools/store.js - Gemini 2.5 Flash</title>
    <link rel="stylesheet" href="../../styles.css">
</head>
<body>
    <header>
        <h1>Case: packages/react-devtools-shared/src/devtools/store.js</h1>
        <p><a href="../../models/google_gemini-2.5-flash-preview.html">‚Üê Back to Gemini 2.5 Flash Cases</a> | <a href="../../index.html">Home</a></p>
    </header>
    <main>
        <section class="case-details">
            <div class="case-info">
                <h2>Benchmark Case Information</h2>
                <p><strong>Model:</strong> Gemini 2.5 Flash</p>
                <p><strong>Status:</strong> <span class="failure">Failure</span></p>
                <p><strong>Prompt Tokens:</strong> 55115</p>
                <p><strong>Output Tokens:</strong> N/A</p>
                <p><strong>Native Prompt Tokens:</strong> 66395</p>
                <p><strong>Native Completion Tokens:</strong> 12810</p>
                <p><strong>Native Tokens Reasoning:</strong> 0</p>
                <p><strong>Native Finish Reason:</strong> STOP</p>
                <p><strong>Runtime:</strong> N/As</p>
                <p><strong>Cost:</strong> $0.01764525</p>
            </div>
            
            <div class="content-links">
                <h2>View Content</h2>
                <ul>
                    <li><a href="../../content/google_gemini-2.5-flash-preview/react_packages_react-devtools-shared_src_devtools_store.js/prompt.html" class="content-link">View Prompt</a></li>
                    <li><a href="../../content/google_gemini-2.5-flash-preview/react_packages_react-devtools-shared_src_devtools_store.js/expected.html" class="content-link">View Expected Output</a></li>
                    <li><a href="../../content/google_gemini-2.5-flash-preview/react_packages_react-devtools-shared_src_devtools_store.js/actual.html" class="content-link">View Actual Output</a></li>
                </ul>
            </div>
            
            <div class="diff-section">
                <h2>Diff (Expected vs Actual)</h2>
                <div id="diff-output">
                    <pre class="diff"><div class="diff-header">--- react_packages_react-devtools-shared_src_devtools_store.js_expectedoutput.txt (expected)+++ react_packages_react-devtools-shared_src_devtools_store.js_extracted.txt (actual)@@ -217,11 +217,11 @@       isProfiling = config.isProfiling === true;</div><div> </div><div>       const {</div><div class="diff-removed">-        supportsInspectMatchingDOMElement,</div><div class="diff-removed">-        supportsClickToInspect,</div><div>         supportsReloadAndProfile,</div><div>         supportsTimeline,</div><div>         supportsTraceUpdates,</div><div class="diff-added">+        supportsInspectMatchingDOMElement,</div><div class="diff-added">+        supportsClickToInspect,</div><div>         checkBridgeProtocolCompatibility,</div><div>       } = config;</div><div>       if (supportsInspectMatchingDOMElement) {</div><div class="diff-info">@@ -263,18 +263,17 @@       'unsupportedRendererVersion',</div><div>       this.onBridgeUnsupportedRendererVersion,</div><div>     );</div><div class="diff-removed">-</div><div class="diff-removed">-    this._profilerStore = new ProfilerStore(bridge, this, isProfiling);</div><div class="diff-removed">-</div><div>     bridge.addListener('backendVersion', this.onBridgeBackendVersion);</div><div>     bridge.addListener('saveToClipboard', this.onSaveToClipboard);</div><div>     bridge.addListener('hookSettings', this.onHookSettings);</div><div>     bridge.addListener('backendInitialized', this.onBackendInitialized);</div><div>     bridge.addListener('selectElement', this.onHostInstanceSelected);</div><div class="diff-added">+</div><div class="diff-added">+    this._profilerStore = new ProfilerStore(bridge, this, isProfiling);</div><div>   }</div><div> </div><div>   // This is only used in tests to avoid memory leaks.</div><div class="diff-removed">-  assertExpectedRootMapSizes() {</div><div class="diff-added">+  assertExpectedRootMapSizes(): void {</div><div>     if (this.roots.length === 0) {</div><div>       // The only safe time to assert these maps are empty is when the store is empty.</div><div>       this.assertMapSizeMatchesRootCount(this._idToElement, '_idToElement');</div><div class="diff-info">@@ -293,7 +292,7 @@   }</div><div> </div><div>   // This is only used in tests to avoid memory leaks.</div><div class="diff-removed">-  assertMapSizeMatchesRootCount(map: Map<any, any>, mapName: string) {</div><div class="diff-added">+  assertMapSizeMatchesRootCount(map: Map<any, any>, mapName: string): void {</div><div>     const expectedSize = this.roots.length;</div><div>     if (map.size !== expectedSize) {</div><div>       this._throwAndEmitError(</div><div class="diff-info">@@ -310,6 +309,10 @@ </div><div>   get backendVersion(): string | null {</div><div>     return this._backendVersion;</div><div class="diff-added">+  }</div><div class="diff-added">+</div><div class="diff-added">+  get bridgeProtocol(): BridgeProtocol | null {</div><div class="diff-added">+    return this._bridgeProtocol;</div><div>   }</div><div> </div><div>   get collapseNodesByDefault(): boolean {</div><div class="diff-info">@@ -374,10 +377,6 @@     this.emit('componentFilters');</div><div>   }</div><div> </div><div class="diff-removed">-  get bridgeProtocol(): BridgeProtocol | null {</div><div class="diff-removed">-    return this._bridgeProtocol;</div><div class="diff-removed">-  }</div><div class="diff-removed">-</div><div>   get componentWithErrorCount(): number {</div><div>     if (!this._shouldShowWarningsAndErrors) {</div><div>       return 0;</div><div class="diff-info">@@ -789,7 +788,7 @@ </div><div>   isInsideCollapsedSubTree(id: number): boolean {</div><div>     let current = this._idToElement.get(id);</div><div class="diff-removed">-    while (current != null) {</div><div class="diff-added">+    while (current !== undefined) {</div><div>       if (current.parentID === 0) {</div><div>         return false;</div><div>       } else {</div><div class="diff-info">@@ -867,8 +866,11 @@       if (didMutate) {</div><div>         let weightAcrossRoots = 0;</div><div>         this._roots.forEach(rootID => {</div><div class="diff-removed">-          const {weight} = ((this.getElementByID(rootID): any): Element);</div><div class="diff-removed">-          weightAcrossRoots += weight;</div><div class="diff-added">+          const root = this.getElementByID(rootID);</div><div class="diff-added">+          if (root !== null) {</div><div class="diff-added">+            const {weight} = root;</div><div class="diff-added">+            weightAcrossRoots += weight;</div><div class="diff-added">+          }</div><div>         });</div><div>         this._weightAcrossRoots = weightAcrossRoots;</div><div> </div><div class="diff-info">@@ -886,7 +888,7 @@   ) => void = (parentElement, weightDelta) => {</div><div>     let isInsideCollapsedSubTree = false;</div><div> </div><div class="diff-removed">-    while (parentElement != null) {</div><div class="diff-added">+    while (parentElement !== undefined) {</div><div>       parentElement.weight += weightDelta;</div><div> </div><div>       // Additions and deletions within a collapsed subtree should not bubble beyond the collapsed parent.</div><div class="diff-info">@@ -985,6 +987,8 @@                 `Cannot add node "${id}" because a node with that id is already in the Store.`,</div><div>               ),</div><div>             );</div><div class="diff-added">+</div><div class="diff-added">+            break;</div><div>           }</div><div> </div><div>           if (type === ElementTypeRoot) {</div><div class="diff-info">@@ -1118,6 +1122,7 @@               set.add(id);</div><div>             }</div><div>           }</div><div class="diff-added">+</div><div>           break;</div><div>         }</div><div>         case TREE_OPERATION_REMOVE: {</div><div class="diff-info">@@ -1145,6 +1150,8 @@               this._throwAndEmitError(</div><div>                 Error(`Node "${id}" was removed before its children.`),</div><div>               );</div><div class="diff-added">+</div><div class="diff-added">+              break;</div><div>             }</div><div> </div><div>             this._idToElement.delete(id);</div><div class="diff-info">@@ -1261,6 +1268,8 @@                 `Children cannot be added or removed during a reorder operation.`,</div><div>               ),</div><div>             );</div><div class="diff-added">+</div><div class="diff-added">+            break;</div><div>           }</div><div> </div><div>           for (let j = 0; j < numChildren; j++) {</div><div></div></pre>
                </div>
            </div>
        </section>
    </main>
    <footer>
        <p>LoCoDiff-bench - <a href="https://github.com/AbanteAI/LoCoDiff-bench">GitHub Repository</a></p>
    </footer>
</body>
</html>
    