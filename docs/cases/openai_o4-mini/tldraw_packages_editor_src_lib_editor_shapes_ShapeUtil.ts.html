<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Case: packages/editor/src/lib/editor/shapes/ShapeUtil.ts - o4-mini-medium</title>
    <link rel="stylesheet" href="../../styles.css">
</head>
<body>
    <header>
        <h1>Case: packages/editor/src/lib/editor/shapes/ShapeUtil.ts</h1>
        <p><a href="../../models/openai_o4-mini.html">← Back to o4-mini-medium Cases</a> | <a href="../../index.html">Home</a></p>
    </header>
    <main>
        <section class="case-details">
            <div class="case-info">
                <h2>Benchmark Case Information</h2>
                <p><strong>Model:</strong> o4-mini-medium</p>
                <p><strong>Status:</strong> <span class="failure">Failure</span></p>
                <p><strong>Prompt Tokens:</strong> 54090</p>
                <p><strong>Output Tokens:</strong> N/A</p>
                <p><strong>Native Prompt Tokens:</strong> 53908</p>
                <p><strong>Native Completion Tokens:</strong> 15721</p>
                <p><strong>Native Tokens Reasoning:</strong> 10880</p>
                <p><strong>Native Finish Reason:</strong> stop</p>
                <p><strong>Cost:</strong> $0.1284712</p>
            </div>
            
            <div class="content-links">
                <h2>View Content</h2>
                <ul>
                    <li><a href="../../content/openai_o4-mini/tldraw_packages_editor_src_lib_editor_shapes_ShapeUtil.ts/prompt.html" class="content-link">View Prompt</a></li>
                    <li><a href="../../content/openai_o4-mini/tldraw_packages_editor_src_lib_editor_shapes_ShapeUtil.ts/expected.html" class="content-link">View Expected Output</a></li>
                    <li><a href="../../content/openai_o4-mini/tldraw_packages_editor_src_lib_editor_shapes_ShapeUtil.ts/actual.html" class="content-link">View Actual Output</a></li>
                </ul>
            </div>
            
            <div class="diff-section">
                <h2>Diff (Expected vs Actual)</h2>
                <div id="diff-output">
                    <pre class="diff"><div></div><div>index a7fabdd8..8b538091 100644</div><div class="diff-header">--- a/tldraw_packages_editor_src_lib_editor_shapes_ShapeUtil.ts_expectedoutput.txt (expected):tmp/tmpxof3jfyz_expected.txt	</div><div class="diff-header">+++ b/tldraw_packages_editor_src_lib_editor_shapes_ShapeUtil.ts_extracted.txt (actual):tmp/tmpcoslj_fo_actual.txt	</div><div class="diff-info">@@ -2,761 +2,714 @@</div><div> import { EMPTY_ARRAY } from '@tldraw/state'</div><div> import { LegacyMigrations, MigrationSequence } from '@tldraw/store'</div><div> import {</div><div class="diff-removed">-	RecordProps,</div><div class="diff-removed">-	TLHandle,</div><div class="diff-removed">-	TLPropsMigrations,</div><div class="diff-removed">-	TLShape,</div><div class="diff-removed">-	TLShapeCrop,</div><div class="diff-removed">-	TLShapePartial,</div><div class="diff-removed">-	TLUnknownShape,</div><div class="diff-added">+  RecordProps,</div><div class="diff-added">+  TLHandle,</div><div class="diff-added">+  TLFontFace,</div><div class="diff-added">+  TLPropsMigrations,</div><div class="diff-added">+  TLShape,</div><div class="diff-added">+  TLShapeCrop,</div><div class="diff-added">+  TLShapePartial,</div><div class="diff-added">+  TLUnknownShape,</div><div> } from '@tldraw/tlschema'</div><div> import { ReactElement } from 'react'</div><div> import { Box, SelectionHandle } from '../../primitives/Box'</div><div> import { Vec } from '../../primitives/Vec'</div><div> import { Geometry2d } from '../../primitives/geometry/Geometry2d'</div><div> import type { Editor } from '../Editor'</div><div class="diff-removed">-import { TLFontFace } from '../managers/FontManager'</div><div> import { BoundsSnapGeometry } from '../managers/SnapManager/BoundsSnaps'</div><div> import { HandleSnapGeometry } from '../managers/SnapManager/HandleSnaps'</div><div> import { SvgExportContext } from '../types/SvgExportContext'</div><div> import { TLResizeHandle } from '../types/selection-types'</div><div class="diff-added">+import { TLFontFace } from '../managers/FontManager'</div><div> </div><div> /** @public */</div><div> export interface TLShapeUtilConstructor<</div><div class="diff-removed">-	T extends TLUnknownShape,</div><div class="diff-removed">-	U extends ShapeUtil<T> = ShapeUtil<T>,</div><div class="diff-added">+  T extends TLUnknownShape,</div><div class="diff-added">+  U extends ShapeUtil<T> = ShapeUtil<T>,</div><div> > {</div><div class="diff-removed">-	new (editor: Editor): U</div><div class="diff-removed">-	type: T['type']</div><div class="diff-removed">-	props?: RecordProps<T></div><div class="diff-removed">-	migrations?: LegacyMigrations | TLPropsMigrations | MigrationSequence</div><div class="diff-added">+  new (editor: Editor): U</div><div class="diff-added">+  type: T['type']</div><div class="diff-added">+  props?: RecordProps<T></div><div class="diff-added">+  migrations?: LegacyMigrations | TLPropsMigrations | MigrationSequence</div><div> }</div><div> </div><div class="diff-removed">-/**</div><div class="diff-removed">- * Options passed to {@link ShapeUtil.canBind}. A binding that could be made. At least one of</div><div class="diff-removed">- * `fromShapeType` or `toShapeType` will belong to this shape util.</div><div class="diff-removed">- *</div><div class="diff-removed">- * @public</div><div class="diff-removed">- */</div><div class="diff-added">+/** @public */</div><div> export interface TLShapeUtilCanBindOpts<Shape extends TLUnknownShape = TLUnknownShape> {</div><div class="diff-removed">-	/** The type of shape referenced by the `fromId` of the binding. */</div><div class="diff-removed">-	fromShapeType: string</div><div class="diff-removed">-	/** The type of shape referenced by the `toId` of the binding. */</div><div class="diff-removed">-	toShapeType: string</div><div class="diff-removed">-	/** The type of binding. */</div><div class="diff-removed">-	bindingType: string</div><div class="diff-added">+  /** The type of shape referenced by the `fromId` of the binding. */</div><div class="diff-added">+  fromShapeType: string</div><div class="diff-added">+  /** The type of shape referenced by the `toId` of the binding. */</div><div class="diff-added">+  toShapeType: string</div><div class="diff-added">+  /** The type of binding. */</div><div class="diff-added">+  bindingType: string</div><div> }</div><div> </div><div class="diff-removed">-/**</div><div class="diff-removed">- * Options passed to {@link ShapeUtil.canBeLaidOut}.</div><div class="diff-removed">- *</div><div class="diff-removed">- * @public</div><div class="diff-removed">- */</div><div class="diff-added">+/** @public */</div><div> export interface TLShapeUtilCanBeLaidOutOpts {</div><div class="diff-removed">-	/** The type of action causing the layout. */</div><div class="diff-removed">-	type?: 'align' | 'distribute' | 'pack' | 'stack' | 'flip' | 'stretch'</div><div class="diff-removed">-	/** The other shapes being laid out */</div><div class="diff-removed">-	shapes?: TLShape[]</div><div class="diff-added">+  /** The type of action causing the layout. */</div><div class="diff-added">+  type?: 'align' | 'distribute' | 'pack' | 'stack' | 'flip' | 'stretch'</div><div class="diff-added">+  /** The other shapes being laid out */</div><div class="diff-added">+  shapes?: TLShape[]</div><div> }</div><div> </div><div class="diff-removed">-/** Additional options for the {@link ShapeUtil.getGeometry} method.</div><div class="diff-added">+/**</div><div class="diff-added">+ * Additional options for the {@link ShapeUtil.getGeometry} method.</div><div>  *</div><div>  * @public</div><div>  */</div><div> export interface TLGeometryOpts {</div><div class="diff-removed">-	/** The context in which the geometry is being requested. */</div><div class="diff-removed">-	context?: string</div><div class="diff-added">+  /** The context in which the geometry is being requested. */</div><div class="diff-added">+  context?: string</div><div> }</div><div> </div><div> /** @public */</div><div> export interface TLShapeUtilCanvasSvgDef {</div><div class="diff-removed">-	key: string</div><div class="diff-removed">-	component: React.ComponentType</div><div class="diff-added">+  key: string</div><div class="diff-added">+  component: React.ComponentType</div><div> }</div><div> </div><div> /** @public */</div><div> export abstract class ShapeUtil<Shape extends TLUnknownShape = TLUnknownShape> {</div><div class="diff-removed">-	/** Configure this shape utils {@link ShapeUtil.options | `options`}. */</div><div class="diff-removed">-	static configure<T extends TLShapeUtilConstructor<any, any>>(</div><div class="diff-removed">-		this: T,</div><div class="diff-removed">-		options: T extends new (...args: any[]) => { options: infer Options } ? Partial<Options> : never</div><div class="diff-removed">-	): T {</div><div class="diff-removed">-		// @ts-expect-error -- typescript has no idea what's going on here but it's fine</div><div class="diff-removed">-		return class extends this {</div><div class="diff-removed">-			// @ts-expect-error</div><div class="diff-removed">-			options = { ...this.options, ...options }</div><div class="diff-removed">-		}</div><div class="diff-removed">-	}</div><div class="diff-removed">-</div><div class="diff-removed">-	constructor(public editor: Editor) {}</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * Options for this shape util. If you're implementing a custom shape util, you can override</div><div class="diff-removed">-	 * this to provide customization options for your shape. If using an existing shape util, you</div><div class="diff-removed">-	 * can customizing this by calling {@link ShapeUtil.configure}.</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	options = {}</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * Props allow you to define the shape's properties in a way that the editor can understand.</div><div class="diff-removed">-	 * This has two main uses:</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * 1. Validation. Shapes will be validated using these props to stop bad data from being saved.</div><div class="diff-removed">-	 * 2. Styles. Each {@link @tldraw/tlschema#StyleProp} in the props can be set on many shapes at</div><div class="diff-removed">-	 *    once, and will be remembered from one shape to the next.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @example</div><div class="diff-removed">-	 * ```tsx</div><div class="diff-removed">-	 * import {T, TLBaseShape, TLDefaultColorStyle, DefaultColorStyle, ShapeUtil} from 'tldraw'</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * type MyShape = TLBaseShape<'mine', {</div><div class="diff-removed">-	 *      color: TLDefaultColorStyle,</div><div class="diff-removed">-	 *      text: string,</div><div class="diff-removed">-	 * }></div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * class MyShapeUtil extends ShapeUtil<MyShape> {</div><div class="diff-removed">-	 *     static props = {</div><div class="diff-removed">-	 *         // we use tldraw's built-in color style:</div><div class="diff-removed">-	 *         color: DefaultColorStyle,</div><div class="diff-removed">-	 *         // validate that the text prop is a string:</div><div class="diff-removed">-	 *         text: T.string,</div><div class="diff-removed">-	 *     }</div><div class="diff-removed">-	 * }</div><div class="diff-removed">-	 * ```</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	static props?: RecordProps<TLUnknownShape></div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * Migrations allow you to make changes to a shape's props over time. Read the</div><div class="diff-removed">-	 * {@link https://www.tldraw.dev/docs/persistence#Shape-props-migrations | shape prop migrations}</div><div class="diff-removed">-	 * guide for more information.</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	static migrations?: LegacyMigrations | TLPropsMigrations | MigrationSequence</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * The type of the shape util, which should match the shape's type.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	static type: string</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * Get the default props for a shape.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	abstract getDefaultProps(): Shape['props']</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * Get the shape's geometry.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @param shape - The shape.</div><div class="diff-removed">-	 * @param opts - Additional options for the request.</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	abstract getGeometry(shape: Shape, opts?: TLGeometryOpts): Geometry2d</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * Get a JSX element for the shape (as an HTML element).</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @param shape - The shape.</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	abstract component(shape: Shape): any</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * Get JSX describing the shape's indicator (as an SVG element).</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @param shape - The shape.</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	abstract indicator(shape: Shape): any</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * Get the font faces that should be rendered in the document in order for this shape to render</div><div class="diff-removed">-	 * correctly.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @param shape - The shape.</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	getFontFaces(shape: Shape): TLFontFace[] {</div><div class="diff-removed">-		return EMPTY_ARRAY</div><div class="diff-removed">-	}</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * Whether the shape can be snapped to by another shape.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @param shape - The shape.</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	canSnap(_shape: Shape): boolean {</div><div class="diff-removed">-		return true</div><div class="diff-removed">-	}</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * Whether the shape can be tabbed to.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @param shape - The shape.</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	canTabTo(_shape: Shape): boolean {</div><div class="diff-removed">-		return true</div><div class="diff-removed">-	}</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * Whether the shape can be scrolled while editing.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	canScroll(_shape: Shape): boolean {</div><div class="diff-removed">-		return false</div><div class="diff-removed">-	}</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * Whether the shape can be bound to. See {@link TLShapeUtilCanBindOpts} for details.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	canBind(_opts: TLShapeUtilCanBindOpts): boolean {</div><div class="diff-removed">-		return true</div><div class="diff-removed">-	}</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * Whether the shape can be double clicked to edit.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	canEdit(_shape: Shape): boolean {</div><div class="diff-removed">-		return false</div><div class="diff-removed">-	}</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * Whether the shape can be resized.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	canResize(_shape: Shape): boolean {</div><div class="diff-removed">-		return true</div><div class="diff-removed">-	}</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * Whether the shape can be edited in read-only mode.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	canEditInReadOnly(_shape: Shape): boolean {</div><div class="diff-removed">-		return false</div><div class="diff-removed">-	}</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * Whether the shape can be cropped.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	canCrop(_shape: Shape): boolean {</div><div class="diff-removed">-		return false</div><div class="diff-removed">-	}</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * Whether the shape can participate in layout functions such as alignment or distribution.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @param shape - The shape.</div><div class="diff-removed">-	 * @param info - Additional context information: the type of action causing the layout and the</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	canBeLaidOut(_shape: Shape, _info: TLShapeUtilCanBeLaidOutOpts): boolean {</div><div class="diff-removed">-		return true</div><div class="diff-removed">-	}</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * Does this shape provide a background for its children? If this is true,</div><div class="diff-removed">-	 * then any children with a `renderBackground` method will have their</div><div class="diff-removed">-	 * backgrounds rendered _above_ this shape. Otherwise, the children's</div><div class="diff-removed">-	 * backgrounds will be rendered above either the next ancestor that provides</div><div class="diff-removed">-	 * a background, or the canvas background.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @internal</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	providesBackgroundForChildren(_shape: Shape): boolean {</div><div class="diff-removed">-		return false</div><div class="diff-removed">-	}</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * Whether the shape should hide its resize handles when selected.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	hideResizeHandles(_shape: Shape): boolean {</div><div class="diff-removed">-		return false</div><div class="diff-removed">-	}</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * Whether the shape should hide its rotation handles when selected.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	hideRotateHandle(_shape: Shape): boolean {</div><div class="diff-removed">-		return false</div><div class="diff-removed">-	}</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * Whether the shape should hide its selection bounds background when selected.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	hideSelectionBoundsBg(_shape: Shape): boolean {</div><div class="diff-removed">-		return false</div><div class="diff-removed">-	}</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * Whether the shape should hide its selection bounds foreground when selected.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	hideSelectionBoundsFg(_shape: Shape): boolean {</div><div class="diff-removed">-		return false</div><div class="diff-removed">-	}</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * Whether the shape's aspect ratio is locked.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	isAspectRatioLocked(_shape: Shape): boolean {</div><div class="diff-removed">-		return false</div><div class="diff-removed">-	}</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * Get a JSX element for the shape (as an HTML element) to be rendered as part of the canvas background - behind any other shape content.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @param shape - The shape.</div><div class="diff-removed">-	 * @internal</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	backgroundComponent?(shape: Shape): any</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * Get the interpolated props for an animating shape. This is an optional method.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @example</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * ```ts</div><div class="diff-removed">-	 * util.getInterpolatedProps?.(startShape, endShape, t)</div><div class="diff-removed">-	 * ```</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @param startShape - The initial shape.</div><div class="diff-removed">-	 * @param endShape - The initial shape.</div><div class="diff-removed">-	 * @param progress - The normalized progress between zero (start) and 1 (end).</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	getInterpolatedProps?(startShape: Shape, endShape: Shape, progress: number): Shape['props']</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * Get an array of handle models for the shape. This is an optional method.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @example</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * ```ts</div><div class="diff-removed">-	 * util.getHandles?.(myShape)</div><div class="diff-removed">-	 * ```</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @param shape - The shape.</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	getHandles?(shape: Shape): TLHandle[]</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * Get whether the shape can receive children of a given type.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @param shape - The shape.</div><div class="diff-removed">-	 * @param type - The shape type.</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	canReceiveNewChildrenOfType(_shape: Shape, _type: TLShape['type']) {</div><div class="diff-removed">-		return false</div><div class="diff-removed">-	}</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * Get whether the shape can receive children of a given type.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @param shape - The shape type.</div><div class="diff-removed">-	 * @param shapes - The shapes that are being dropped.</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	canDropShapes(_shape: Shape, _shapes: TLShape[]) {</div><div class="diff-removed">-		return false</div><div class="diff-removed">-	}</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * Get the shape as an SVG object.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @param shape - The shape.</div><div class="diff-removed">-	 * @param ctx - The export context for the SVG - used for adding e.g. \<def\>s</div><div class="diff-removed">-	 * @returns An SVG element.</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	toSvg?(shape: Shape, ctx: SvgExportContext): ReactElement | null | Promise<ReactElement | null></div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * Get the shape's background layer as an SVG object.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @param shape - The shape.</div><div class="diff-removed">-	 * @param ctx - ctx - The export context for the SVG - used for adding e.g. \<def\>s</div><div class="diff-removed">-	 * @returns An SVG element.</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	toBackgroundSvg?(</div><div class="diff-removed">-		shape: Shape,</div><div class="diff-removed">-		ctx: SvgExportContext</div><div class="diff-removed">-	): ReactElement | null | Promise<ReactElement | null></div><div class="diff-removed">-</div><div class="diff-removed">-	/** @internal */</div><div class="diff-removed">-	expandSelectionOutlinePx(shape: Shape): number | Box {</div><div class="diff-removed">-		return 0</div><div class="diff-removed">-	}</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * Return elements to be added to the \<defs\> section of the canvases SVG context. This can be</div><div class="diff-removed">-	 * used to define SVG content (e.g. patterns & masks) that can be referred to by ID from svg</div><div class="diff-removed">-	 * elements returned by `component`.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * Each def should have a unique `key`. If multiple defs from different shapes all have the same</div><div class="diff-removed">-	 * key, only one will be used.</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	getCanvasSvgDefs(): TLShapeUtilCanvasSvgDef[] {</div><div class="diff-removed">-		return []</div><div class="diff-removed">-	}</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * Get the geometry to use when snapping to this this shape in translate/resize operations. See</div><div class="diff-removed">-	 * {@link BoundsSnapGeometry} for details.</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	getBoundsSnapGeometry(_shape: Shape): BoundsSnapGeometry {</div><div class="diff-removed">-		return {}</div><div class="diff-removed">-	}</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * Get the geometry to use when snapping handles to this shape. See {@link HandleSnapGeometry}</div><div class="diff-removed">-	 * for details.</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	getHandleSnapGeometry(_shape: Shape): HandleSnapGeometry {</div><div class="diff-removed">-		return {}</div><div class="diff-removed">-	}</div><div class="diff-removed">-</div><div class="diff-removed">-	getText(_shape: Shape): string | undefined {</div><div class="diff-removed">-		return undefined</div><div class="diff-removed">-	}</div><div class="diff-removed">-</div><div class="diff-removed">-	getAriaDescriptor(_shape: Shape): string | undefined {</div><div class="diff-removed">-		return undefined</div><div class="diff-removed">-	}</div><div class="diff-removed">-</div><div class="diff-removed">-	//  Events</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * A callback called just before a shape is created. This method provides a last chance to modify</div><div class="diff-removed">-	 * the created shape.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @example</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * ```ts</div><div class="diff-removed">-	 * onBeforeCreate = (next) => {</div><div class="diff-removed">-	 * 	return { ...next, x: next.x + 1 }</div><div class="diff-removed">-	 * }</div><div class="diff-removed">-	 * ```</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @param next - The next shape.</div><div class="diff-removed">-	 * @returns The next shape or void.</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	onBeforeCreate?(next: Shape): Shape | void</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * A callback called just before a shape is updated. This method provides a last chance to modify</div><div class="diff-removed">-	 * the updated shape.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @example</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * ```ts</div><div class="diff-removed">-	 * onBeforeUpdate = (prev, next) => {</div><div class="diff-removed">-	 * 	if (prev.x === next.x) {</div><div class="diff-removed">-	 * 		return { ...next, x: next.x + 1 }</div><div class="diff-removed">-	 * 	}</div><div class="diff-removed">-	 * }</div><div class="diff-removed">-	 * ```</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @param prev - The previous shape.</div><div class="diff-removed">-	 * @param next - The next shape.</div><div class="diff-removed">-	 * @returns The next shape or void.</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	onBeforeUpdate?(prev: Shape, next: Shape): Shape | void</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * A callback called when a shape changes from a crop.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @param shape - The shape at the start of the crop.</div><div class="diff-removed">-	 * @param info - Info about the crop.</div><div class="diff-removed">-	 * @returns A change to apply to the shape, or void.</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	onCrop?(</div><div class="diff-removed">-		shape: Shape,</div><div class="diff-removed">-		info: TLCropInfo<Shape></div><div class="diff-removed">-	): Omit<TLShapePartial<Shape>, 'id' | 'type'> | undefined | void</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * A callback called when some other shapes are dragged over this one.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @example</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * ```ts</div><div class="diff-removed">-	 * onDragShapesOver = (shape, shapes) => {</div><div class="diff-removed">-	 * 	this.editor.reparentShapes(shapes, shape.id)</div><div class="diff-removed">-	 * }</div><div class="diff-removed">-	 * ```</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @param shape - The shape.</div><div class="diff-removed">-	 * @param shapes - The shapes that are being dragged over this one.</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	onDragShapesOver?(shape: Shape, shapes: TLShape[]): void</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * A callback called when some other shapes are dragged out of this one.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @param shape - The shape.</div><div class="diff-removed">-	 * @param shapes - The shapes that are being dragged out.</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	onDragShapesOut?(shape: Shape, shapes: TLShape[]): void</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * A callback called when some other shapes are dropped over this one.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @param shape - The shape.</div><div class="diff-removed">-	 * @param shapes - The shapes that are being dropped over this one.</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	onDropShapesOver?(shape: Shape, shapes: TLShape[]): void</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * A callback called when a shape starts being resized.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @param shape - The shape.</div><div class="diff-removed">-	 * @returns A change to apply to the shape, or void.</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	onResizeStart?(shape: Shape): TLShapePartial<Shape> | void</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * A callback called when a shape changes from a resize.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @param shape - The shape at the start of the resize.</div><div class="diff-removed">-	 * @param info - Info about the resize.</div><div class="diff-removed">-	 * @returns A change to apply to the shape, or void.</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	onResize?(</div><div class="diff-removed">-		shape: Shape,</div><div class="diff-removed">-		info: TLResizeInfo<Shape></div><div class="diff-removed">-	): Omit<TLShapePartial<Shape>, 'id' | 'type'> | undefined | void</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * A callback called when a shape finishes resizing.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @param initial - The shape at the start of the resize.</div><div class="diff-removed">-	 * @param current - The current shape.</div><div class="diff-removed">-	 * @returns A change to apply to the shape, or void.</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	onResizeEnd?(initial: Shape, current: Shape): TLShapePartial<Shape> | void</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * A callback called when a shape starts being translated.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @param shape - The shape.</div><div class="diff-removed">-	 * @returns A change to apply to the shape, or void.</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	onTranslateStart?(shape: Shape): TLShapePartial<Shape> | void</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * A callback called when a shape changes from a translation.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @param initial - The shape at the start of the translation.</div><div class="diff-removed">-	 * @param current - The current shape.</div><div class="diff-removed">-	 * @returns A change to apply to the shape, or void.</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	onTranslate?(initial: Shape, current: Shape): TLShapePartial<Shape> | void</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * A callback called when a shape finishes translating.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @param initial - The shape at the start of the translation.</div><div class="diff-removed">-	 * @param current - The current shape.</div><div class="diff-removed">-	 * @returns A change to apply to the shape, or void.</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	onTranslateEnd?(initial: Shape, current: Shape): TLShapePartial<Shape> | void</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * A callback called when a shape's handle changes.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @param shape - The current shape.</div><div class="diff-removed">-	 * @param info - An object containing the handle and whether the handle is 'precise' or not.</div><div class="diff-removed">-	 * @returns A change to apply to the shape, or void.</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	onHandleDrag?(shape: Shape, info: TLHandleDragInfo<Shape>): TLShapePartial<Shape> | void</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * A callback called when a shape starts being rotated.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @param shape - The shape.</div><div class="diff-removed">-	 * @returns A change to apply to the shape, or void.</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	onRotateStart?(shape: Shape): TLShapePartial<Shape> | void</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * A callback called when a shape changes from a rotation.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @param initial - The shape at the start of the rotation.</div><div class="diff-removed">-	 * @param current - The current shape.</div><div class="diff-removed">-	 * @returns A change to apply to the shape, or void.</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	onRotate?(initial: Shape, current: Shape): TLShapePartial<Shape> | void</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * A callback called when a shape finishes rotating.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @param initial - The shape at the start of the rotation.</div><div class="diff-removed">-	 * @param current - The current shape.</div><div class="diff-removed">-	 * @returns A change to apply to the shape, or void.</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	onRotateEnd?(initial: Shape, current: Shape): TLShapePartial<Shape> | void</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * Not currently used.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @internal</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	onBindingChange?(shape: Shape): TLShapePartial<Shape> | void</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * A callback called when a shape's children change.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @param shape - The shape.</div><div class="diff-removed">-	 * @returns An array of shape updates, or void.</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	onChildrenChange?(shape: Shape): TLShapePartial[] | void</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * A callback called when a shape's handle is double clicked.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @param shape - The shape.</div><div class="diff-removed">-	 * @param handle - The handle that is double-clicked.</div><div class="diff-removed">-	 * @returns A change to apply to the shape, or void.</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	onDoubleClickHandle?(shape: Shape, handle: TLHandle): TLShapePartial<Shape> | void</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * A callback called when a shape's edge is double clicked.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @param shape - The shape.</div><div class="diff-removed">-	 * @returns A change to apply to the shape, or void.</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	onDoubleClickEdge?(shape: Shape): TLShapePartial<Shape> | void</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * A callback called when a shape is double clicked.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @param shape - The shape.</div><div class="diff-removed">-	 * @returns A change to apply to the shape, or void.</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	onDoubleClick?(shape: Shape): TLShapePartial<Shape> | void</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * A callback called when a shape is clicked.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @param shape - The shape.</div><div class="diff-removed">-	 * @returns A change to apply to the shape, or void.</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	onClick?(shape: Shape): TLShapePartial<Shape> | void</div><div class="diff-removed">-</div><div class="diff-removed">-	/**</div><div class="diff-removed">-	 * A callback called when a shape finishes being editing.</div><div class="diff-removed">-	 *</div><div class="diff-removed">-	 * @param shape - The shape.</div><div class="diff-removed">-	 * @public</div><div class="diff-removed">-	 */</div><div class="diff-removed">-	onEditEnd?(shape: Shape): void</div><div class="diff-added">+  /** Configure this shape util’s {@link ShapeUtil.options | options}. */</div><div class="diff-added">+  static configure<T extends TLShapeUtilConstructor<any, any>>(</div><div class="diff-added">+    this: T,</div><div class="diff-added">+    options: T extends new (...args: any[]) => { options: infer Options } ? Partial<Options> : never,</div><div class="diff-added">+  ): T {</div><div class="diff-added">+    // @ts-expect-error -- typescript has no idea what's going on here but it's fine</div><div class="diff-added">+    return class extends this {</div><div class="diff-added">+      // @ts-expect-error</div><div class="diff-added">+      options = { ...this.options, ...options }</div><div class="diff-added">+    }</div><div class="diff-added">+  }</div><div class="diff-added">+</div><div class="diff-added">+  constructor(public editor: Editor) {}</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Options for this shape util. If you're implementing a custom shape util, you can override</div><div class="diff-added">+   * this to provide customization options for your shape. If using an existing shape util, you</div><div class="diff-added">+   * can customize this by calling {@link ShapeUtil.configure}.</div><div class="diff-added">+   */</div><div class="diff-added">+  options = {}</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Props allow you to define the shape's properties in a way that the editor can understand.</div><div class="diff-added">+   * This has two main uses:</div><div class="diff-added">+   *</div><div class="diff-added">+   * 1. Validation. Shapes will be validated using these props to stop bad data from being saved.</div><div class="diff-added">+   * 2. Styles. Each {@link @tldraw/tlschema#StyleProp} in the props can be set on many shapes at</div><div class="diff-added">+   *    once, and will be remembered from one shape to the next.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @example</div><div class="diff-added">+   * ```ts</div><div class="diff-added">+   * import {T, TLBaseShape, DefaultColorStyle, ShapeUtil} from 'tldraw'</div><div class="diff-added">+   *</div><div class="diff-added">+   * type MyShape = TLBaseShape<'mine', {</div><div class="diff-added">+   *   color: TLDefaultColorStyle,</div><div class="diff-added">+   *   text: string,</div><div class="diff-added">+   * }></div><div class="diff-added">+   *</div><div class="diff-added">+   * class MyShapeUtil extends ShapeUtil<MyShape> {</div><div class="diff-added">+   *   static props = {</div><div class="diff-added">+   *     color: DefaultColorStyle,</div><div class="diff-added">+   *     text: T.string,</div><div class="diff-added">+   *   }</div><div class="diff-added">+   * }</div><div class="diff-added">+   * ```</div><div class="diff-added">+   */</div><div class="diff-added">+  static props?: RecordProps<TLUnknownShape></div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Migrations allow you to make changes to a shape's props over time. Read the</div><div class="diff-added">+   * {@link https://www.tldraw.dev/docs/persistence#Shape-props-migrations | shape prop migrations}</div><div class="diff-added">+   * guide for more information.</div><div class="diff-added">+   */</div><div class="diff-added">+  static migrations?: LegacyMigrations | TLPropsMigrations | MigrationSequence</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Get the default props for a shape.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  abstract getDefaultProps(): Shape['props']</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Get the shape's geometry.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @param shape - The shape.</div><div class="diff-added">+   * @param opts - Additional options for the request.</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  abstract getGeometry(shape: Shape, opts?: TLGeometryOpts): Geometry2d</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Get a JSX element for the shape (as an HTML element).</div><div class="diff-added">+   *</div><div class="diff-added">+   * @param shape - The shape.</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  abstract component(shape: Shape): any</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Get JSX describing the shape's indicator (as an SVG element).</div><div class="diff-added">+   *</div><div class="diff-added">+   * @param shape - The shape.</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  abstract indicator(shape: Shape): any</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Get a JSX element for the shape (as an HTML element) to be rendered as part of the canvas background - behind any other shape content.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @param shape - The shape.</div><div class="diff-added">+   * @internal</div><div class="diff-added">+   */</div><div class="diff-added">+  backgroundComponent?(shape: Shape): any</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Get the shape as React SVG for export.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @param shape - The shape.</div><div class="diff-added">+   * @param ctx - The export context for the SVG (for defs, etc.).</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  toSvg?(shape: Shape, ctx: SvgExportContext): ReactElement | null | Promise<ReactElement | null></div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Get the shape's background layer as React SVG for export.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @param shape - The shape.</div><div class="diff-added">+   * @param ctx - The export context for the SVG (for defs, etc.).</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  toBackgroundSvg?(shape: Shape, ctx: SvgExportContext): ReactElement | null | Promise<ReactElement | null></div><div class="diff-added">+</div><div class="diff-added">+  /** @internal */</div><div class="diff-added">+  expandSelectionOutlinePx(shape: Shape): number | Box {</div><div class="diff-added">+    return 0</div><div class="diff-added">+  }</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Return elements to be added to the `<defs>` section of the canvas's SVG context.</div><div class="diff-added">+   * This can define patterns or masks to be reused by `component`.</div><div class="diff-added">+   */</div><div class="diff-added">+  getCanvasSvgDefs(): TLShapeUtilCanvasSvgDef[] {</div><div class="diff-added">+    return []</div><div class="diff-added">+  }</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Get the geometry to use when snapping to this shape in translate/resize operations.</div><div class="diff-added">+   * See {@link BoundsSnapGeometry} for details.</div><div class="diff-added">+   */</div><div class="diff-added">+  getBoundsSnapGeometry(shape: Shape): BoundsSnapGeometry {</div><div class="diff-added">+    return {}</div><div class="diff-added">+  }</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Get the geometry to use when snapping handles to this shape. See {@link HandleSnapGeometry}</div><div class="diff-added">+   * for details.</div><div class="diff-added">+   */</div><div class="diff-added">+  getHandleSnapGeometry(shape: Shape): HandleSnapGeometry {</div><div class="diff-added">+    return {}</div><div class="diff-added">+  }</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Get interpolated props for an animating shape. Optional.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @param startShape - The initial shape.</div><div class="diff-added">+   * @param endShape - The target shape.</div><div class="diff-added">+   * @param progress - Normalized progress (0 to 1).</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  getInterpolatedProps?(startShape: Shape, endShape: Shape, progress: number): Shape['props']</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Get the text in the shape for searching.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @param shape - The shape.</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  getText(_shape: Shape): string | undefined {</div><div class="diff-added">+    return undefined</div><div class="diff-added">+  }</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Get the font faces that should be preloaded for this shape.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @param shape - The shape.</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  getFontFaces(shape: Shape): TLFontFace[] {</div><div class="diff-added">+    return EMPTY_ARRAY</div><div class="diff-added">+  }</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Whether the shape can be tabbed to.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @param shape - The shape.</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  canTabTo(_shape: Shape): boolean {</div><div class="diff-added">+    return true</div><div class="diff-added">+  }</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Whether the shape can be snapped to by another shape.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @param shape - The shape.</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  canSnap(_shape: Shape): boolean {</div><div class="diff-added">+    return true</div><div class="diff-added">+  }</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Whether the shape can be scrolled while editing.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  canScroll(_shape: Shape): boolean {</div><div class="diff-added">+    return false</div><div class="diff-added">+  }</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Whether the shape can be bound to. See {@link TLShapeUtilCanBindOpts} for details.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  canBind(_opts: TLShapeUtilCanBindOpts): boolean {</div><div class="diff-added">+    return true</div><div class="diff-added">+  }</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Whether the shape can be double clicked to edit.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  canEdit(_shape: Shape): boolean {</div><div class="diff-added">+    return false</div><div class="diff-added">+  }</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Whether the shape can be edited in read-only mode.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  canEditInReadOnly(_shape: Shape): boolean {</div><div class="diff-added">+    return false</div><div class="diff-added">+  }</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Whether the shape can be resized.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  canResize(_shape: Shape): boolean {</div><div class="diff-added">+    return true</div><div class="diff-added">+  }</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Whether the shape can be cropped.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  canCrop(_shape: Shape): boolean {</div><div class="diff-added">+    return false</div><div class="diff-added">+  }</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Whether the shape can participate in layout actions (align, distribute, etc.).</div><div class="diff-added">+   *</div><div class="diff-added">+   * @param shape - The shape.</div><div class="diff-added">+   * @param info  - Context of the layout action.</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  canBeLaidOut(_shape: Shape, _info: TLShapeUtilCanBeLaidOutOpts): boolean {</div><div class="diff-added">+    return true</div><div class="diff-added">+  }</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Does this shape provide a background for its children? If true, children with `backgroundComponent`</div><div class="diff-added">+   * render above this shape.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @internal</div><div class="diff-added">+   */</div><div class="diff-added">+  providesBackgroundForChildren(_shape: Shape): boolean {</div><div class="diff-added">+    return false</div><div class="diff-added">+  }</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Whether the shape should hide its resize handles when selected.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  hideResizeHandles(_shape: Shape): boolean {</div><div class="diff-added">+    return false</div><div class="diff-added">+  }</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Whether the shape should hide its rotation handles when selected.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  hideRotateHandle(_shape: Shape): boolean {</div><div class="diff-added">+    return false</div><div class="diff-added">+  }</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Whether the shape should hide its selection bounds background when selected.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  hideSelectionBoundsBg(_shape: Shape): boolean {</div><div class="diff-added">+    return false</div><div class="diff-added">+  }</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Whether the shape should hide its selection bounds foreground when selected.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  hideSelectionBoundsFg(_shape: Shape): boolean {</div><div class="diff-added">+    return false</div><div class="diff-added">+  }</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Whether the shape's aspect ratio is locked.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  isAspectRatioLocked(_shape: Shape): boolean {</div><div class="diff-added">+    return false</div><div class="diff-added">+  }</div><div class="diff-added">+</div><div class="diff-added">+  // Events</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Called just before a shape is created. Return a modified shape or void.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @param next - The next shape.</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  onBeforeCreate?(next: Shape): Shape | void</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Called just before a shape is updated. Return a modified shape or void.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @param prev - The previous shape.</div><div class="diff-added">+   * @param next - The next shape.</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  onBeforeUpdate?(prev: Shape, next: Shape): Shape | void</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * A callback called when a shape changes from a crop.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @param shape - The shape at the start of the crop.</div><div class="diff-added">+   * @param info  - Info about the crop.</div><div class="diff-added">+   * @returns A change to apply to the shape, or void.</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  onCrop?(</div><div class="diff-added">+    shape: Shape,</div><div class="diff-added">+    info: TLCropInfo<Shape>,</div><div class="diff-added">+  ): Omit<TLShapePartial<Shape>, 'id' | 'type'> | undefined | void</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Called when some other shapes are dragged over this one.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @param shape  - The shape.</div><div class="diff-added">+   * @param shapes - The shapes being dragged.</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  onDragShapesOver?(shape: Shape, shapes: TLShape[]): void</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Called when some other shapes are dragged out of this one.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @param shape  - The shape.</div><div class="diff-added">+   * @param shapes - The shapes being dragged out.</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  onDragShapesOut?(shape: Shape, shapes: TLShape[]): void</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Called when some other shapes are dropped over this one.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @param shape  - The shape.</div><div class="diff-added">+   * @param shapes - The shapes dropped.</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  onDropShapesOver?(shape: Shape, shapes: TLShape[]): void</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Called when a shape starts being resized.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @param shape - The shape.</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  onResizeStart?(shape: Shape): TLShapePartial<Shape> | void</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Called when a shape changes from a resize.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @param shape - The shape at the start of the resize.</div><div class="diff-added">+   * @param info  - Info about the resize.</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  onResize?(</div><div class="diff-added">+    shape: Shape,</div><div class="diff-added">+    info: TLResizeInfo<Shape>,</div><div class="diff-added">+  ): Omit<TLShapePartial<Shape>, 'id' | 'type'> | undefined | void</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Called when a shape finishes resizing.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @param initial - The shape at the start of the resize.</div><div class="diff-added">+   * @param current - The current shape.</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  onResizeEnd?(initial: Shape, current: Shape): TLShapePartial<Shape> | void</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Called when a shape starts being translated.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @param shape - The shape.</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  onTranslateStart?(shape: Shape): TLShapePartial<Shape> | void</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Called when a shape changes from a translation.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @param initial - The shape at the start of the translation.</div><div class="diff-added">+   * @param current - The current shape.</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  onTranslate?(initial: Shape, current: Shape): TLShapePartial<Shape> | void</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Called when a shape finishes translating.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @param initial - The shape at the start of the translation.</div><div class="diff-added">+   * @param current - The current shape.</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  onTranslateEnd?(initial: Shape, current: Shape): TLShapePartial<Shape> | void</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Called when a shape's handle is dragged.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @param shape - The shape.</div><div class="diff-added">+   * @param info  - An object containing handle info.</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  onHandleDrag?(shape: Shape, info: TLHandleDragInfo<Shape>): TLShapePartial<Shape> | void</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Called when a shape starts being rotated.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @param shape - The shape.</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  onRotateStart?(shape: Shape): TLShapePartial<Shape> | void</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Called when a shape changes from a rotation.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @param initial - The shape at the start of the rotation.</div><div class="diff-added">+   * @param current - The current shape.</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  onRotate?(initial: Shape, current: Shape): TLShapePartial<Shape> | void</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Called when a shape finishes rotating.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @param initial - The shape at the start of the rotation.</div><div class="diff-added">+   * @param current - The current shape.</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  onRotateEnd?(initial: Shape, current: Shape): TLShapePartial<Shape> | void</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Not currently used.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @internal</div><div class="diff-added">+   */</div><div class="diff-added">+  onBindingChange?(shape: Shape): TLShapePartial<Shape> | void</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Called when a shape's children change.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @param shape - The shape.</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  onChildrenChange?(shape: Shape): TLShapePartial<Shape>[] | void</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Called when a shape's handle is double clicked.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @param shape  - The shape.</div><div class="diff-added">+   * @param handle - The handle that is double-clicked.</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  onDoubleClickHandle?(shape: Shape, handle: TLHandle): TLShapePartial<Shape> | void</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Called when a shape's edge is double clicked.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @param shape - The shape.</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  onDoubleClickEdge?(shape: Shape): TLShapePartial<Shape> | void</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Called when a shape is double clicked.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @param shape - The shape.</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  onDoubleClick?(shape: Shape): TLShapePartial<Shape> | void</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Called when a shape is clicked.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @param shape - The shape.</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  onClick?(shape: Shape): TLShapePartial<Shape> | void</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Called when a shape finishes being edited.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @param shape - The shape.</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  onEditEnd?(shape: Shape): void</div><div class="diff-added">+</div><div class="diff-added">+  /**</div><div class="diff-added">+   * Get an ARIA live descriptor for accessibility.</div><div class="diff-added">+   *</div><div class="diff-added">+   * @param shape - The shape.</div><div class="diff-added">+   * @public</div><div class="diff-added">+   */</div><div class="diff-added">+  getAriaDescriptor(_shape: Shape): string | undefined</div><div> }</div><div> </div><div class="diff-removed">-/**</div><div class="diff-removed">- * Info about a crop.</div><div class="diff-removed">- * @param handle - The handle being dragged.</div><div class="diff-removed">- * @param change - The distance the handle is moved.</div><div class="diff-removed">- * @param initialShape - The shape at the start of the resize.</div><div class="diff-removed">- * @public</div><div class="diff-removed">- */</div><div class="diff-removed">-export interface TLCropInfo<T extends TLShape> {</div><div class="diff-removed">-	handle: SelectionHandle</div><div class="diff-removed">-	change: Vec</div><div class="diff-removed">-	crop: TLShapeCrop</div><div class="diff-removed">-	uncroppedSize: { w: number; h: number }</div><div class="diff-removed">-	initialShape: T</div><div class="diff-removed">-}</div><div class="diff-added">+/** @public */</div><div class="diff-added">+export type TLOnBeforeCreateHandler<T extends TLShape> = (next: T) => T | void</div><div class="diff-added">+/** @public */</div><div class="diff-added">+export type TLOnBeforeUpdateHandler<T extends TLShape> = (prev: T, next: T) => T | void</div><div class="diff-added">+/** @public */</div><div class="diff-added">+export type TLOnTranslateStartHandler<T extends TLShape> = (shape: T) => TLShapePartial<T> | void</div><div class="diff-added">+/** @public */</div><div class="diff-added">+export type TLOnTranslateHandler<T extends TLShape> = (</div><div class="diff-added">+  initial: T,</div><div class="diff-added">+  current: T,</div><div class="diff-added">+) => TLShapePartial<T> | void</div><div class="diff-added">+/** @public */</div><div class="diff-added">+export type TLOnTranslateEndHandler<T extends TLShape> = (</div><div class="diff-added">+  initial: T,</div><div class="diff-added">+  current: T,</div><div class="diff-added">+) => TLShapePartial<T> | void</div><div class="diff-added">+/** @public */</div><div class="diff-added">+export type TLOnRotateStartHandler<T extends TLShape> = (shape: T) => TLShapePartial<T> | void</div><div class="diff-added">+/** @public */</div><div class="diff-added">+export type TLOnRotateHandler<T extends TLShape> = (</div><div class="diff-added">+  initial: T,</div><div class="diff-added">+  current: T,</div><div class="diff-added">+) => TLShapePartial<T> | void</div><div class="diff-added">+/** @public */</div><div class="diff-added">+export type TLOnRotateEndHandler<T extends TLShape> = (</div><div class="diff-added">+  initial: T,</div><div class="diff-added">+  current: T,</div><div class="diff-added">+) => TLShapePartial<T> | void</div><div> </div><div class="diff-removed">-/**</div><div class="diff-removed">- * The type of resize.</div><div class="diff-removed">- *</div><div class="diff-removed">- * 'scale_shape' - The shape is being scaled, usually as part of a larger selection.</div><div class="diff-removed">- *</div><div class="diff-removed">- * 'resize_bounds' - The user is directly manipulating an individual shape's bounds using a resize</div><div class="diff-removed">- * handle. It is up to shape util implementers to decide how they want to handle the two</div><div class="diff-removed">- * situations.</div><div class="diff-removed">- *</div><div class="diff-removed">- * @public</div><div class="diff-removed">- */</div><div class="diff-added">+/** @public */</div><div> export type TLResizeMode = 'scale_shape' | 'resize_bounds'</div><div> </div><div> /**</div><div>  * Info about a resize.</div><div class="diff-removed">- * @param newPoint - The new local position of the shape.</div><div class="diff-removed">- * @param handle - The handle being dragged.</div><div class="diff-removed">- * @param mode - The type of resize.</div><div class="diff-removed">- * @param scaleX - The scale in the x-axis.</div><div class="diff-removed">- * @param scaleY - The scale in the y-axis.</div><div class="diff-removed">- * @param initialBounds - The bounds of the shape at the start of the resize.</div><div class="diff-removed">- * @param initialShape - The shape at the start of the resize.</div><div class="diff-added">+ *</div><div>  * @public</div><div>  */</div><div> export interface TLResizeInfo<T extends TLShape> {</div><div class="diff-removed">-	newPoint: Vec</div><div class="diff-removed">-	handle: TLResizeHandle</div><div class="diff-removed">-	mode: TLResizeMode</div><div class="diff-removed">-	scaleX: number</div><div class="diff-removed">-	scaleY: number</div><div class="diff-removed">-	initialBounds: Box</div><div class="diff-removed">-	initialShape: T</div><div class="diff-added">+  newPoint: Vec</div><div class="diff-added">+  handle: TLResizeHandle</div><div class="diff-added">+  mode: TLResizeMode</div><div class="diff-added">+  scaleX: number</div><div class="diff-added">+  scaleY: number</div><div class="diff-added">+  initialBounds: Box</div><div class="diff-added">+  initialShape: T</div><div> }</div><div> </div><div class="diff-added">+/** @public */</div><div class="diff-added">+export type TLOnResizeHandler<T extends TLShape> = (</div><div class="diff-added">+  shape: T,</div><div class="diff-added">+  info: TLResizeInfo<T>,</div><div class="diff-added">+) => Omit<TLShapePartial<T>, 'id' | 'type'> | undefined | void</div><div class="diff-added">+</div><div class="diff-added">+/** @public */</div><div class="diff-added">+export type TLOnResizeStartHandler<T extends TLShape> = (shape: T) => TLShapePartial<T> | void</div><div class="diff-added">+</div><div class="diff-added">+/** @public */</div><div class="diff-added">+export type TLOnResizeEndHandler<T extends TLShape> = (</div><div class="diff-added">+  initial: T,</div><div class="diff-added">+  current: T,</div><div class="diff-added">+) => TLShapePartial<T> | void</div><div class="diff-added">+</div><div> /* -------------------- Dragging -------------------- */</div><div> </div><div> /** @public */</div><div class="diff-added">+export type TLOnDragHandler<T extends TLShape, R = void> = (shape: T, shapes: TLShape[]) => R</div><div class="diff-added">+</div><div class="diff-added">+/** @internal */</div><div class="diff-added">+export type TLOnBindingChangeHandler<T extends TLShape> = (shape: T) => TLShapePartial<T> | void</div><div class="diff-added">+</div><div class="diff-added">+/** @public */</div><div class="diff-added">+export type TLOnChildrenChangeHandler<T extends TLShape> = (shape: T) => TLShapePartial<T>[] | void</div><div class="diff-added">+</div><div class="diff-added">+/** @public */</div><div class="diff-added">+export type TLOnHandleDragHandler<T extends TLShape> = (</div><div class="diff-added">+  shape: T,</div><div class="diff-added">+  info: {</div><div class="diff-added">+    handle: TLHandle</div><div class="diff-added">+    isPrecise: boolean</div><div class="diff-added">+    initial?: T | undefined</div><div class="diff-added">+  },</div><div class="diff-added">+) => TLShapePartial<T> | void</div><div class="diff-added">+</div><div class="diff-added">+/** @public */</div><div class="diff-added">+export type TLOnClickHandler<T extends TLShape> = (shape: T) => TLShapePartial<T> | void</div><div class="diff-added">+/** @public */</div><div class="diff-added">+export type TLOnEditEndHandler<T extends TLShape> = (shape: T) => void</div><div class="diff-added">+/** @public */</div><div class="diff-added">+export type TLOnDoubleClickHandler<T extends TLShape> = (shape: T) => TLShapePartial<T> | void</div><div class="diff-added">+/** @public */</div><div class="diff-added">+export type TLOnDoubleClickHandleHandler<T extends TLShape> = (</div><div class="diff-added">+  shape: T,</div><div class="diff-added">+  handle: TLHandle,</div><div class="diff-added">+) => TLShapePartial<T> | void</div><div class="diff-added">+</div><div class="diff-added">+/**</div><div class="diff-added">+ * Info about a crop.</div><div class="diff-added">+ *</div><div class="diff-added">+ * @public</div><div class="diff-added">+ */</div><div class="diff-added">+export interface TLCropInfo<T extends TLShape> {</div><div class="diff-added">+  handle: SelectionHandle</div><div class="diff-added">+  change: Vec</div><div class="diff-added">+  crop: TLShapeCrop</div><div class="diff-added">+  uncroppedSize: { w: number; h: number }</div><div class="diff-added">+  initialShape: T</div><div class="diff-added">+}</div><div class="diff-added">+</div><div class="diff-added">+/**</div><div class="diff-added">+ * Info about a handle drag.</div><div class="diff-added">+ *</div><div class="diff-added">+ * @public</div><div class="diff-added">+ */</div><div> export interface TLHandleDragInfo<T extends TLShape> {</div><div class="diff-removed">-	handle: TLHandle</div><div class="diff-removed">-	isPrecise: boolean</div><div class="diff-removed">-	initial?: T | undefined</div><div class="diff-added">+  handle: TLHandle</div><div class="diff-added">+  isPrecise: boolean</div><div class="diff-added">+  initial?: T | undefined</div><div> }</div><div>\ No newline at end of file</div><div></div></pre>
                </div>
            </div>
        </section>
    </main>
    <footer>
        <p>LoCoDiff-bench - <a href="https://github.com/AbanteAI/LoCoDiff-bench">GitHub Repository</a></p>
    </footer>
</body>
</html>
    