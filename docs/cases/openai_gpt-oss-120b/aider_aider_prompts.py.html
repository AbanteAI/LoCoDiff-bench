<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Case: aider/prompts.py - GPT OSS 120B</title>
    <link rel="stylesheet" href="../../styles.css">
</head>
<body>
    <header>
        <h1>Case: aider/prompts.py</h1>
        <h2>Model: GPT OSS 120B</h2>
        <p><a href="../../models/openai_gpt-oss-120b.html">All GPT OSS 120B Cases</a> | <a href="../../cases.html">All Cases</a> | <a href="../../index.html">Home</a></p>
    </header>
    <main>
        <section class="case-details">
            <div class="case-info">
                <h2>Benchmark Case Information</h2>
                <p><strong>Model:</strong> GPT OSS 120B</p>
                <p><strong>Status:</strong> <span class="failure">Failure</span></p>
                <p><strong>Prompt Tokens:</strong> 24230</p>
                <p><strong>Native Prompt Tokens:</strong> 24288</p>
                <p><strong>Native Completion Tokens:</strong> 5214</p>
                <p><strong>Native Tokens Reasoning:</strong> 4556</p>
                <p><strong>Native Finish Reason:</strong> stop</p>
                <p><strong>Cost:</strong> $0.0075537</p>
            </div>
            
            <div class="content-links">
                <h2>View Content</h2>
                <ul>
                    <li><a href="../../content/openai_gpt-oss-120b/aider_aider_prompts.py/prompt.html" class="content-link">View Prompt</a></li>
                    <li><a href="../../content/openai_gpt-oss-120b/aider_aider_prompts.py/expected.html" class="content-link">View Expected Output</a></li>
                    <li><a href="../../content/openai_gpt-oss-120b/aider_aider_prompts.py/actual.html" class="content-link">View Actual Output</a></li>
                </ul>
            </div>
            
            <div class="diff-section">
                <h2>Diff (Expected vs Actual)</h2>
                <div id="diff-output">
                    <pre class="diff"><div></div><div>index 3e7702a83..5c6b84b39 100644</div><div class="diff-header">--- a/aider_aider_prompts.py_expectedoutput.txt (expected):tmp/tmp003ssj4w_expected.txt	</div><div class="diff-header">+++ b/aider_aider_prompts.py_extracted.txt (actual):tmp/tmpv4i2ma_t_actual.txt	</div><div class="diff-info">@@ -1,62 +1,134 @@</div><div> # flake8: noqa: E501</div><div class="diff-added">+# MAIN</div><div> </div><div class="diff-added">+class GPT4:</div><div class="diff-added">+    main_system = """Act as an expert software developer.</div><div class="diff-added">+Be concise!</div><div> </div><div class="diff-removed">-# COMMIT</div><div class="diff-added">+Take requests for changes to the supplied code.</div><div class="diff-added">+If the request is ambiguous, ask questions.</div><div> </div><div class="diff-removed">-# Conventional Commits text adapted from:</div><div class="diff-removed">-# https://www.conventionalcommits.org/en/v1.0.0/#summary</div><div class="diff-removed">-commit_system = """You are an expert software engineer that generates concise, \</div><div class="diff-removed">-one-line Git commit messages based on the provided diffs.</div><div class="diff-removed">-Review the provided context and diffs which are about to be committed to a git repo.</div><div class="diff-removed">-Review the diffs carefully.</div><div class="diff-removed">-Generate a one-line commit message for those changes.</div><div class="diff-removed">-The commit message should be structured as follows: <type>: <description></div><div class="diff-removed">-Use these for <type>: fix, feat, build, chore, ci, docs, style, refactor, perf, test</div><div class="diff-removed">-</div><div class="diff-removed">-Ensure the commit message:</div><div class="diff-removed">-- Starts with the appropriate prefix.</div><div class="diff-removed">-- Is in the imperative mood (e.g., \"add feature\" not \"added feature\" or \"adding feature\").</div><div class="diff-removed">-- Does not exceed 72 characters.</div><div class="diff-removed">-</div><div class="diff-removed">-Reply only with the one-line commit message, without any additional text, explanations, \</div><div class="diff-removed">-or line breaks.</div><div class="diff-added">+Once you understand the request you MUST:</div><div class="diff-added">+1. List the files you need to modify. *NEVER* suggest changes to *read-only* files. You *MUST* ask the user to make them *read-write* using the file's full path name. End your reply and wait for their approval.</div><div class="diff-added">+2. Think step-by-step and explain the needed changes.</div><div class="diff-added">+3. Describe each change with an *edit block* per the example below.</div><div> """</div><div> </div><div class="diff-removed">-# COMMANDS</div><div class="diff-removed">-undo_command_reply = (</div><div class="diff-removed">-    "I did `git reset --hard HEAD~1` to discard the last edits. Please wait for further"</div><div class="diff-removed">-    " instructions before attempting that change again. Feel free to ask relevant questions about"</div><div class="diff-removed">-    " why the changes were reverted."</div><div class="diff-removed">-)</div><div class="diff-removed">-</div><div class="diff-removed">-added_files = (</div><div class="diff-removed">-    "I added these files to the chat: {fnames}\nLet me know if there are others we should add."</div><div class="diff-removed">-)</div><div class="diff-removed">-</div><div class="diff-removed">-</div><div class="diff-removed">-run_output = """I ran this command:</div><div class="diff-removed">-</div><div class="diff-removed">-{command}</div><div class="diff-removed">-</div><div class="diff-removed">-And got this output:</div><div class="diff-removed">-</div><div class="diff-removed">-{output}</div><div class="diff-added">+    system_reminder = """You MUST format EVERY code change with an *edit block* like this:</div><div class="diff-added">+</div><div class="diff-added">+```python</div><div class="diff-added">+some/dir/example.py</div><div class="diff-added">+<<<<<<< ORIGINAL</div><div class="diff-added">+    # some comment</div><div class="diff-added">+    # Func to multiply</div><div class="diff-added">+    def mul(a,b)</div><div class="diff-added">+=======</div><div class="diff-added">+    # updated comment</div><div class="diff-added">+    # Function to add</div><div class="diff-added">+    def add(a,b):</div><div class="diff-added">+>>>>>>> UPDATED</div><div class="diff-added">+```</div><div class="diff-added">+</div><div class="diff-added">+Every *edit block* must be fenced w/triple backticks with the correct code language indicator.</div><div class="diff-added">+Every *edit block* must start with the full path! *NEVER* propose edit blocks for *read‑only* files.</div><div class="diff-added">+The ORIGINAL section must be an *exact* set of lines from the file:</div><div class="diff-added">+- NEVER SKIP LINES!</div><div class="diff-added">+- Include all original leading spaces and indentation!</div><div class="diff-added">+</div><div class="diff-added">+Edits to different parts of a file each need their own distinct edit block.</div><div class="diff-added">+Even nearby parts each need their own distinct edit blocks.</div><div class="diff-added">+</div><div class="diff-added">+If you want to propose code that belongs in a new file:</div><div class="diff-added">+- Make up a good file path for the file, including the correct directory name.</div><div class="diff-added">+- Reply using an *edit block* with the new file path</div><div class="diff-added">+- Include an empty ORIGINAL block</div><div class="diff-added">+- Put the new file's contents in the UPDATED block</div><div class="diff-added">+</div><div class="diff-added">+If a request requires many changes, stop often to ask the user for feedback.</div><div> """</div><div> </div><div class="diff-removed">-# CHAT HISTORY</div><div class="diff-removed">-summarize = """*Briefly* summarize this partial conversation about programming.</div><div class="diff-added">+    files_content_gpt_edits = "I committed the changes with git hash {hash} & commit msg: {message}"</div><div class="diff-added">+    files_content_gpt_no_edits = "I wasn't able to see any properly formatted edits in your reply?!"</div><div class="diff-added">+    files_content_local_edits = "I edited the files myself."</div><div class="diff-added">+    files_content_prefix = "These are the *read‑write* files:\n"</div><div class="diff-added">+    files_no_full_files = "I am not sharing any files yet."</div><div class="diff-added">+    repo_content_prefix = (</div><div class="diff-added">+        "Below here are summaries of other files! Do not propose changes to these *read‑only*"</div><div class="diff-added">+        " files without asking my approval.\n"</div><div class="diff-added">+    )</div><div class="diff-added">+    # CHAT HISTORY</div><div class="diff-added">+    summarize = """*Briefly* summarize this partial conversation about programming.</div><div> Include less detail about older parts and more detail about the most recent messages.</div><div> Start a new paragraph every time the topic changes!</div><div> </div><div> This is only part of a longer conversation so *DO NOT* conclude the summary with language like "Finally, ...". Because the conversation continues after the summary.</div><div> The summary *MUST* include the function names, libraries, packages that are being discussed.</div><div class="diff-removed">-The summary *MUST* include the filenames that are being referenced by the assistant inside the ```...``` fenced code blocks!</div><div class="diff-added">+The summary *MUST* include the filenames that are being referenced inside the ```...``` fenced code blocks!</div><div> The summaries *MUST NOT* include ```...``` fenced code blocks!</div><div> </div><div> Phrase the summary with the USER in first person, telling the ASSISTANT about the conversation.</div><div> Write *as* the user.</div><div class="diff-removed">-The user should refer to the assistant as *you*.</div><div class="diff-removed">-Start the summary with "I asked you...".</div><div class="diff-added">+The user should refer to the assistant as *you*. Starting the summary with "I asked you...".</div><div> """</div><div> </div><div class="diff-removed">-summary_prefix = "I spoke to you previously about a number of things.\n"</div><div>\ No newline at end of file</div><div class="diff-added">+    summary_prefix = "I spoke to you previously about a number of things.\n"</div><div class="diff-added">+</div><div class="diff-added">+class GPT35(GPT4):</div><div class="diff-added">+    main_system = """Act as an expert software developer.</div><div class="diff-added">+Be concise!</div><div class="diff-added">+</div><div class="diff-added">+Take requests for changes to the supplied code.</div><div class="diff-added">+If the request is ambiguous, ask questions.</div><div class="diff-added">+</div><div class="diff-added">+Once you understand the request you MUST:</div><div class="diff-added">+1. Determine if any code changes are needed.</div><div class="diff-added">+2. Explain any needed changes.</div><div class="diff-added">+3. If changes are needed, output a copy of each file that needs changes.</div><div class="diff-added">+"""</div><div class="diff-added">+</div><div class="diff-added">+    system_reminder = """To suggest changes to a file you MUST return the entire content of the updated file.</div><div class="diff-added">+You MUST use this format:</div><div class="diff-added">+</div><div class="diff-added">+exact/path/to/filename.js</div><div class="diff-added">+```javascript</div><div class="diff-added">+// file content goes in the triple‑backticked fenced block</div><div class="diff-added">+```</div><div class="diff-added">+"""</div><div class="diff-added">+</div><div class="diff-added">+    files_content_prefix = "Here is the current content of the files:\n"</div><div class="diff-added">+    files_no_full_files = "I am not sharing any files yet."</div><div class="diff-added">+    redacted_edit_message = "No changes are needed."</div><div class="diff-added">+    # COMMIT</div><div class="diff-added">+    commit_system = (</div><div class="diff-added">+        "You are an expert software engineer that generates concise, "</div><div class="diff-added">+        "one‑line Git commit messages based on the provided diffs.\n"</div><div class="diff-added">+        "Review the provided context and diffs which are about to be committed to a git repo.\n"</div><div class="diff-added">+        "Review the diffs carefully.\n"</div><div class="diff-added">+        "Generate a one‑line commit message for those changes.\n"</div><div class="diff-added">+        "The commit message must be lowercase.\n"</div><div class="diff-added">+        "The commit message should be structured as follows: <type>: <description>\n"</div><div class="diff-added">+        "Use these for <type>: fix, feat, build, chore, ci, docs, style, refactor, perf, test\n"</div><div class="diff-added">+        "\n"</div><div class="diff-added">+        "Ensure the commit message:\n"</div><div class="diff-added">+        "- Starts with an appropriate prefix.\n"</div><div class="diff-added">+        "- Is in the imperative mood (e.g., \"add feature\" not \"added feature\").\n"</div><div class="diff-added">+        "- Does not exceed 72 characters.\n\n"</div><div class="diff-added">+        "Reply only with the one‑line commit message, without any additional text, "</div><div class="diff-added">+        "explanations, or line breaks.\n"</div><div class="diff-added">+        "Reply with one line only!"</div><div class="diff-added">+    )</div><div class="diff-added">+    # COMMANDS</div><div class="diff-added">+    undo_command_reply = (</div><div class="diff-added">+        "I did `git reset --hard HEAD~1` to discard the last edits. Please wait for further "</div><div class="diff-added">+        "instructions before attempting that change again. Feel free to ask relevant "</div><div class="diff-added">+        "questions about why the changes were reverted."</div><div class="diff-added">+    )</div><div class="diff-added">+    added_files = "I added these files to the chat: {fnames}\nLet me know if there are others we should add."</div><div class="diff-added">+    run_output = """I ran this command:</div><div class="diff-added">+</div><div class="diff-added">+{command}</div><div class="diff-added">+</div><div class="diff-added">+And got this output:</div><div class="diff-added">+</div><div class="diff-added">+{output}</div><div class="diff-added">+"""</div><div>\ No newline at end of file</div><div></div></pre>
                </div>
            </div>
        </section>
    </main>
    <footer>
        <p>LoCoDiff-bench - <a href="https://github.com/AbanteAI/LoCoDiff-bench">GitHub Repository</a></p>
    </footer>
</body>
</html>
    