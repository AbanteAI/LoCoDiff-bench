<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Case: apps/dotcom/client/vite.config.ts - GPT OSS 120B</title>
    <link rel="stylesheet" href="../../styles.css">
</head>
<body>
    <header>
        <h1>Case: apps/dotcom/client/vite.config.ts</h1>
        <h2>Model: GPT OSS 120B</h2>
        <p><a href="../../models/openai_gpt-oss-120b.html">All GPT OSS 120B Cases</a> | <a href="../../cases.html">All Cases</a> | <a href="../../index.html">Home</a></p>
    </header>
    <main>
        <section class="case-details">
            <div class="case-info">
                <h2>Benchmark Case Information</h2>
                <p><strong>Model:</strong> GPT OSS 120B</p>
                <p><strong>Status:</strong> <span class="failure">Failure</span></p>
                <p><strong>Prompt Tokens:</strong> 2704</p>
                <p><strong>Native Prompt Tokens:</strong> 2774</p>
                <p><strong>Native Completion Tokens:</strong> 3807</p>
                <p><strong>Native Tokens Reasoning:</strong> 3201</p>
                <p><strong>Native Finish Reason:</strong> stop</p>
                <p><strong>Cost:</strong> $0.00327135</p>
            </div>
            
            <div class="content-links">
                <h2>View Content</h2>
                <ul>
                    <li><a href="../../content/openai_gpt-oss-120b/tldraw_apps_dotcom_client_vite.config.ts/prompt.html" class="content-link">View Prompt</a></li>
                    <li><a href="../../content/openai_gpt-oss-120b/tldraw_apps_dotcom_client_vite.config.ts/expected.html" class="content-link">View Expected Output</a></li>
                    <li><a href="../../content/openai_gpt-oss-120b/tldraw_apps_dotcom_client_vite.config.ts/actual.html" class="content-link">View Actual Output</a></li>
                </ul>
            </div>
            
            <div class="diff-section">
                <h2>Diff (Expected vs Actual)</h2>
                <div id="diff-output">
                    <pre class="diff"><div></div><div>index de0844ecd..7bd5e1dd4 100644</div><div class="diff-header">--- a/tldraw_apps_dotcom_client_vite.config.ts_expectedoutput.txt (expected):tmp/tmpgse2hz0x_expected.txt	</div><div class="diff-header">+++ b/tldraw_apps_dotcom_client_vite.config.ts_extracted.txt (actual):tmp/tmp6pgd_c48_actual.txt	</div><div class="diff-info">@@ -3,93 +3,120 @@ import { config } from 'dotenv'</div><div> import { defineConfig } from 'vite'</div><div> </div><div> config({</div><div class="diff-removed">-	path: './.env.local',</div><div class="diff-added">+    path: './.env.local',</div><div> })</div><div> </div><div> export function getMultiplayerServerURL() {</div><div class="diff-removed">-	return process.env.MULTIPLAYER_SERVER?.replace(/^ws/, 'http')</div><div class="diff-added">+    return process.env.MULTIPLAYER_SERVER?.replace(/^ws/, 'http')</div><div> }</div><div> </div><div class="diff-removed">-function urlOrLocalFallback(mode: string, url: string | undefined, localFallbackPort: number) {</div><div class="diff-removed">-	if (url) {</div><div class="diff-removed">-		return JSON.stringify(url)</div><div class="diff-removed">-	}</div><div class="diff-added">+function urlOrLocalFallback(</div><div class="diff-added">+    mode: string,</div><div class="diff-added">+    url: string | undefined,</div><div class="diff-added">+    localFallbackPort: number</div><div class="diff-added">+) {</div><div class="diff-added">+    if (url) {</div><div class="diff-added">+        return JSON.stringify(url)</div><div class="diff-added">+    }</div><div> </div><div class="diff-removed">-	if (mode === 'development') {</div><div class="diff-removed">-		// in dev, vite lets us inline javascript expressions - so we return a template string that</div><div class="diff-removed">-		// will be evaluated on the client</div><div class="diff-removed">-		return '`http://${location.hostname}:' + localFallbackPort + '`'</div><div class="diff-removed">-	} else {</div><div class="diff-removed">-		// in production, we have to fall back to a hardcoded value</div><div class="diff-removed">-		return JSON.stringify(`http://localhost:${localFallbackPort}`)</div><div class="diff-removed">-	}</div><div class="diff-added">+    if (mode === 'development') {</div><div class="diff-added">+        // in dev, vite lets us inline javascript expressions - so we return a template string that</div><div class="diff-added">+        // will be evaluated on the client</div><div class="diff-added">+        return '`http://${location.hostname}:' + localFallbackPort + '`'</div><div class="diff-added">+    } else {</div><div class="diff-added">+        // in production, we have to fall back to a hardcoded value</div><div class="diff-added">+        return JSON.stringify(`http://localhost:${localFallbackPort}`)</div><div class="diff-added">+    }</div><div> }</div><div> </div><div> // https://vitejs.dev/config/</div><div> export default defineConfig((env) => ({</div><div class="diff-removed">-	plugins: [react({ tsDecorators: true })],</div><div class="diff-removed">-	publicDir: './public',</div><div class="diff-removed">-	build: {</div><div class="diff-removed">-		// output source maps to .map files and include //sourceMappingURL comments in JavaScript files</div><div class="diff-removed">-		// these get uploaded to Sentry and can be used for debugging</div><div class="diff-removed">-		sourcemap: true,</div><div class="diff-added">+    plugins: [react({ tsDecorators: true })],</div><div class="diff-added">+    publicDir: './public',</div><div class="diff-added">+    build: {</div><div class="diff-added">+        // output source maps to .map files and include //sourceMappingURL comments in JavaScript files</div><div class="diff-added">+        // these get uploaded to Sentry and can be used for debugging</div><div class="diff-added">+        sourcemap: true,</div><div> </div><div class="diff-removed">-		// our svg icons break if we use data urls, so disable inline assets for now</div><div class="diff-removed">-		assetsInlineLimit: 0,</div><div class="diff-removed">-	},</div><div class="diff-removed">-	// add backwards-compatible support for NEXT_PUBLIC_ env vars</div><div class="diff-removed">-	define: {</div><div class="diff-removed">-		...Object.fromEntries(</div><div class="diff-removed">-			Object.entries(process.env)</div><div class="diff-removed">-				.filter(([key]) => key.startsWith('NEXT_PUBLIC_'))</div><div class="diff-removed">-				.map(([key, value]) => [`process.env.${key}`, JSON.stringify(value)])</div><div class="diff-removed">-		),</div><div class="diff-removed">-		'process.env.MULTIPLAYER_SERVER': urlOrLocalFallback(env.mode, getMultiplayerServerURL(), 8787),</div><div class="diff-removed">-		'process.env.ZERO_SERVER': urlOrLocalFallback(env.mode, process.env.ZERO_SERVER, 4848),</div><div class="diff-removed">-		'process.env.ASSET_UPLOAD': urlOrLocalFallback(env.mode, process.env.ASSET_UPLOAD, 8788),</div><div class="diff-removed">-		'process.env.IMAGE_WORKER': urlOrLocalFallback(env.mode, process.env.IMAGE_WORKER, 8786),</div><div class="diff-removed">-		'process.env.TLDRAW_ENV': JSON.stringify(process.env.TLDRAW_ENV ?? 'development'),</div><div class="diff-removed">-		'process.env.TLDRAW_LICENSE': JSON.stringify(process.env.TLDRAW_LICENSE ?? ''),</div><div class="diff-removed">-		// Fall back to staging DSN for local develeopment, although you still need to</div><div class="diff-removed">-		// modify the env check in 'sentry.client.config.ts' to get it reporting errors</div><div class="diff-removed">-		'process.env.SENTRY_DSN': JSON.stringify(</div><div class="diff-removed">-			process.env.SENTRY_DSN ??</div><div class="diff-removed">-				'https://4adc43773d07854d8a60e119505182cc@o578706.ingest.sentry.io/4506178821881856'</div><div class="diff-removed">-		),</div><div class="diff-removed">-	},</div><div class="diff-removed">-	server: {</div><div class="diff-removed">-		proxy: {</div><div class="diff-removed">-			'/api': {</div><div class="diff-removed">-				target: getMultiplayerServerURL() || 'http://127.0.0.1:8787',</div><div class="diff-removed">-				rewrite: (path) => path.replace(/^\/api/, ''),</div><div class="diff-removed">-				ws: false, // we talk to the websocket directly via workers.dev</div><div class="diff-removed">-				// Useful for debugging proxy issues</div><div class="diff-removed">-				// configure: (proxy, _options) => {</div><div class="diff-removed">-				// 	proxy.on('error', (err, _req, _res) => {</div><div class="diff-removed">-				// 		console.log('[proxy] proxy error', err)</div><div class="diff-removed">-				// 	})</div><div class="diff-removed">-				// 	proxy.on('proxyReq', (proxyReq, req, _res) => {</div><div class="diff-removed">-				// 		console.log('[proxy] Sending Request to the Target:', req.method, req.url)</div><div class="diff-removed">-				// 	})</div><div class="diff-removed">-				// 	proxy.on('proxyRes', (proxyRes, req, _res) => {</div><div class="diff-removed">-				// 		console.log(</div><div class="diff-removed">-				// 			'[proxy] Received Response from the Target:',</div><div class="diff-removed">-				// 			proxyRes.statusCode,</div><div class="diff-removed">-				// 			req.url</div><div class="diff-removed">-				// 		)</div><div class="diff-removed">-				// 	})</div><div class="diff-removed">-				// },</div><div class="diff-removed">-			},</div><div class="diff-removed">-		},</div><div class="diff-removed">-		watch: {</div><div class="diff-removed">-			ignored: ['**/playwright-report/**', '**/test-results/**'],</div><div class="diff-removed">-		},</div><div class="diff-removed">-	},</div><div class="diff-removed">-	css: {</div><div class="diff-removed">-		modules: {</div><div class="diff-removed">-			scopeBehaviour: 'local',</div><div class="diff-removed">-			exportGlobals: true,</div><div class="diff-removed">-			localsConvention: 'camelCase',</div><div class="diff-removed">-		},</div><div class="diff-removed">-	},</div><div class="diff-removed">-}))</div><div>\ No newline at end of file</div><div class="diff-added">+        // our svg icons break if we use data urls, so disable inline assets for now</div><div class="diff-added">+        assetsInlineLimit: 0,</div><div class="diff-added">+    },</div><div class="diff-added">+    // add backwards-compatible support for NEXT_PUBLIC_ env vars</div><div class="diff-added">+    define: {</div><div class="diff-added">+        ...Object.fromEntries(</div><div class="diff-added">+            Object.entries(process.env)</div><div class="diff-added">+                .filter(([key]) => key.startsWith('NEXT_PUBLIC_'))</div><div class="diff-added">+                .map(([key, value]) => [</div><div class="diff-added">+                    `process.env.${key}`,</div><div class="diff-added">+                    JSON.stringify(value),</div><div class="diff-added">+                ])</div><div class="diff-added">+        ),</div><div class="diff-added">+        'process.env.MULTIPLAYER_SERVER': urlOrLocalFallback(</div><div class="diff-added">+            env.mode,</div><div class="diff-added">+            getMultiplayerServerURL(),</div><div class="diff-added">+            8787</div><div class="diff-added">+        ),</div><div class="diff-added">+        'process.env.ZERO_SERVER': urlOrLocalFallback(</div><div class="diff-added">+            env.mode,</div><div class="diff-added">+            process.env.ZERO_SERVER,</div><div class="diff-added">+            4848</div><div class="diff-added">+        ),</div><div class="diff-added">+        'process.env.ASSET_UPLOAD': urlOrLocalFallback(</div><div class="diff-added">+            env.mode,</div><div class="diff-added">+            process.env.ASSET_UPLOAD,</div><div class="diff-added">+            8788</div><div class="diff-added">+        ),</div><div class="diff-added">+        'process.env.IMAGE_WORKER': urlOrLocalFallback(</div><div class="diff-added">+            env.mode,</div><div class="diff-added">+            process.env.IMAGE_WORKER,</div><div class="diff-added">+            8786</div><div class="diff-added">+        ),</div><div class="diff-added">+        'process.env.TLDRAW_ENV': JSON.stringify(</div><div class="diff-added">+            process.env.TLDRAW_ENV ?? 'development'</div><div class="diff-added">+        ),</div><div class="diff-added">+        'process.env.TLDRAW_LICENSE': JSON.stringify(</div><div class="diff-added">+            process.env.TLDRAW_LICENSE ?? ''</div><div class="diff-added">+        ),</div><div class="diff-added">+        // Fall back to staging DSN for local develeopment, although you still need to</div><div class="diff-added">+        // modify the env check in 'sentry.client.config.ts' to get it reporting errors</div><div class="diff-added">+        'process.env.SENTRY_DSN': JSON.stringify(</div><div class="diff-added">+            process.env.SENTRY_DSN ??</div><div class="diff-added">+                'https://4adc43773d07854d8a60e119505182cc@o578706.ingest.sentry.io/4506178821881856'</div><div class="diff-added">+        ),</div><div class="diff-added">+    },</div><div class="diff-added">+    server: {</div><div class="diff-added">+        proxy: {</div><div class="diff-added">+            '/api': {</div><div class="diff-added">+                target: getMultiplayerServerURL() || 'http://127.0.0.1:8787',</div><div class="diff-added">+                rewrite: (path) => path.replace(/^\/api/, ''),</div><div class="diff-added">+                ws: false,</div><div class="diff-added">+                // Useful for debugging proxy issues</div><div class="diff-added">+                // configure: (proxy, _options) => {</div><div class="diff-added">+                // 	proxy.on('error', (err, _req, _res) => {</div><div class="diff-added">+                // 		console.log('[proxy] proxy error', err);</div><div class="diff-added">+                // 	});</div><div class="diff-added">+                // 	proxy.on('proxyReq', (proxyReq, req, _res) => {</div><div class="diff-added">+                // 		console.log('[proxy] Sending Request to the Target:', req.method, req.url);</div><div class="diff-added">+                // 	});</div><div class="diff-added">+                // 	proxy.on('proxyRes', (proxyRes, req, _res) => {</div><div class="diff-added">+                // 		console.log(</div><div class="diff-added">+                // 			'[proxy] Received Response from the Target:',</div><div class="diff-added">+                // 			proxyRes.statusCode,</div><div class="diff-added">+                // 			req.url</div><div class="diff-added">+                // 		);</div><div class="diff-added">+                // 	});</div><div class="diff-added">+                // },</div><div class="diff-added">+            },</div><div class="diff-added">+        },</div><div class="diff-added">+        watch: {</div><div class="diff-added">+            ignored: ['**/playwright-report/**', '**/test-results/**'],</div><div class="diff-added">+        },</div><div class="diff-added">+    },</div><div class="diff-added">+    css: {</div><div class="diff-added">+        modules: {</div><div class="diff-added">+            scopeBehaviour: 'local',</div><div class="diff-added">+            exportGlobals: true,</div><div class="diff-added">+            localsConvention: 'camelCase',</div><div class="diff-added">+        },</div><div class="diff-added">+    },</div><div class="diff-added">+})))</div><div>\ No newline at end of file</div><div></div></pre>
                </div>
            </div>
        </section>
    </main>
    <footer>
        <p>LoCoDiff-bench - <a href="https://github.com/AbanteAI/LoCoDiff-bench">GitHub Repository</a></p>
    </footer>
</body>
</html>
    