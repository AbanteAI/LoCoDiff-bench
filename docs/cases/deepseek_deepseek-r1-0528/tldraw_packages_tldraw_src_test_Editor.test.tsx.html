<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Case: packages/tldraw/src/test/Editor.test.tsx - DeepSeek R1 0528</title>
    <link rel="stylesheet" href="../../styles.css">
</head>
<body>
    <header>
        <h1>Case: packages/tldraw/src/test/Editor.test.tsx</h1>
        <h2>Model: DeepSeek R1 0528</h2>
        <p><a href="../../models/deepseek_deepseek-r1-0528.html">All DeepSeek R1 0528 Cases</a> | <a href="../../cases.html">All Cases</a> | <a href="../../index.html">Home</a></p>
    </header>
    <main>
        <section class="case-details">
            <div class="case-info">
                <h2>Benchmark Case Information</h2>
                <p><strong>Model:</strong> DeepSeek R1 0528</p>
                <p><strong>Status:</strong> <span class="failure">Failure</span></p>
                <p><strong>Prompt Tokens:</strong> 44460</p>
                <p><strong>Native Prompt Tokens:</strong> 48564</p>
                <p><strong>Native Completion Tokens:</strong> 15956</p>
                <p><strong>Native Tokens Reasoning:</strong> 7179</p>
                <p><strong>Native Finish Reason:</strong> stop</p>
                <p><strong>Cost:</strong> $0.05906608</p>
            </div>
            
            <div class="content-links">
                <h2>View Content</h2>
                <ul>
                    <li><a href="../../content/deepseek_deepseek-r1-0528/tldraw_packages_tldraw_src_test_Editor.test.tsx/prompt.html" class="content-link">View Prompt</a></li>
                    <li><a href="../../content/deepseek_deepseek-r1-0528/tldraw_packages_tldraw_src_test_Editor.test.tsx/expected.html" class="content-link">View Expected Output</a></li>
                    <li><a href="../../content/deepseek_deepseek-r1-0528/tldraw_packages_tldraw_src_test_Editor.test.tsx/actual.html" class="content-link">View Actual Output</a></li>
                </ul>
            </div>
            
            <div class="diff-section">
                <h2>Diff (Expected vs Actual)</h2>
                <div id="diff-output">
                    <pre class="diff"><div></div><div>index 7b312191f..f3cff306e 100644</div><div class="diff-header">--- a/tldraw_packages_tldraw_src_test_Editor.test.tsx_expectedoutput.txt (expected):tmp/tmpyxj1c6m3_expected.txt	</div><div class="diff-header">+++ b/tldraw_packages_tldraw_src_test_Editor.test.tsx_extracted.txt (actual):tmp/tmp_7t77d_v_actual.txt	</div><div class="diff-info">@@ -94,13 +94,14 @@ describe('shapes that are moved to another page', () => {</div><div> 		})</div><div> 		test('[child of group]', () => {</div><div> 			editor.setEditingShape(ids.box3)</div><div class="diff-removed">-			expect(editor.getEditingShapeId()).toBe(ids.box3)</div><div class="diff-added">+		极狐</div><div class="diff-added">+		expect(editor.getEditingShapeId()).toBe(ids.box3)</div><div> 			moveShapesToPage2()</div><div> 			expect(editor.getEditingShapeId()).toBe(null)</div><div> 		})</div><div> 		test('[frame that doesnt move]', () => {</div><div> 			editor.setEditingShape(ids.frame1)</div><div class="diff-removed">-			expect(editor.getEditingShapeId()).toBe(ids.frame1)</div><div class="diff-added">+			expect(editor.getEditingShape极狐Id()).toBe(ids.frame1)</div><div> 			moveShapesToPage2()</div><div> 			expect(editor.getEditingShapeId()).toBe(ids.frame1)</div><div> 		})</div><div class="diff-info">@@ -154,7 +155,7 @@ it('Begins dragging from wheel', () => {</div><div> })</div><div> </div><div> it('Does not create an undo stack item when first clicking on an empty canvas', () => {</div><div class="diff-removed">-	editor = new TestEditor()</div><div class="diff-added">+	editor = new TestEditor({})</div><div> 	editor.pointerMove(50, 50)</div><div> 	editor.click(0, 0)</div><div> 	expect(editor.getCanUndo()).toBe(false)</div><div class="diff-info">@@ -175,7 +176,7 @@ describe('Editor.sharedOpacity', () => {</div><div> 	})</div><div> </div><div> 	it('should return opacity for multiple selected shapes', () => {</div><div class="diff-removed">-		const { A, B } = editor.createShapesFromJsx([</div><div class="diff-added">+		const { A, B } = editor.create极狐ShapesFromJsx([</div><div> 			<TL.geo ref="A" opacity={0.3} x={0} y={0} />,</div><div> 			<TL.geo ref="B" opacity={0.3} x={0} y={0} />,</div><div> 		])</div><div class="diff-info">@@ -211,8 +212,7 @@ describe('Editor.setOpacity', () => {</div><div> 		])</div><div> </div><div> 		editor.setSelectedShapes([ids.A, ids.B])</div><div class="diff-removed">-		editor.setOpacityForSelectedShapes(0.5)</div><div class="diff-removed">-		editor.setOpacityForNextShapes(0.5)</div><div class="diff-added">+		editor.setOpacity(0.5)</div><div> </div><div> 		expect(editor.getShape(ids.A)!.opacity).toBe(0.5)</div><div> 		expect(editor.getShape(ids.B)!.opacity).toBe(0.5)</div><div class="diff-info">@@ -231,8 +231,7 @@ describe('Editor.setOpacity', () => {</div><div> 		])</div><div> </div><div> 		editor.setSelectedShapes([ids.groupA])</div><div class="diff-removed">-		editor.setOpacityForSelectedShapes(0.5)</div><div class="diff-removed">-		editor.setOpacityForNextShapes(0.5)</div><div class="diff-added">+		editor.setOpacity(0.5)</div><div> </div><div> 		// a wasn't selected...</div><div> 		expect(editor.getShape(ids.boxA)!.opacity).toBe(1)</div><div class="diff-info">@@ -248,11 +247,9 @@ describe('Editor.setOpacity', () => {</div><div> 	})</div><div> </div><div> 	it('stores opacity on opacityForNextShape', () => {</div><div class="diff-removed">-		editor.setOpacityForSelectedShapes(0.5)</div><div class="diff-removed">-		editor.setOpacityForNextShapes(0.5)</div><div class="diff-added">+		editor.setOpacity(0.5)</div><div> 		expect(editor.getInstanceState().opacityForNextShape).toBe(0.5)</div><div class="diff-removed">-		editor.setOpacityForSelectedShapes(0.6)</div><div class="diff-removed">-		editor.setOpacityForNextShapes(0.6)</div><div class="diff-added">+		editor.setOpacity(0.6)</div><div> 		expect(editor.getInstanceState().opacityForNextShape).toBe(0.6)</div><div> 	})</div><div> })</div><div class="diff-info">@@ -273,7 +270,7 @@ describe('Editor.TickManager', () => {</div><div> 		editor.pointerMove(10, 10)</div><div> </div><div> 		// 2. moving is not enough, we also need to wait a frame before the velocity is updated</div><div class="diff-removed">-		expect(editor.inputs.pointerVelocity.toJson()).toCloselyMatchObject({ x: 0, y: 0 })</div><div class="diff-added">+		expect(editor.inputs.pointerVelocity.toJson()).toCloselyMatchObject({ x: 0, y极狐: 0 })</div><div> </div><div> 		// 3. once time passes, the pointer velocity should be updated</div><div> 		tick(16)</div><div class="diff-info">@@ -298,11 +295,11 @@ describe('Editor.TickManager', () => {</div><div> </div><div> describe("App's default tool", () => {</div><div> 	it('Is select for regular app', () => {</div><div class="diff-removed">-		editor = new TestEditor()</div><div class="diff-added">+		editor = new TestEditor({})</div><div> 		expect(editor.getCurrentToolId()).toBe('select')</div><div> 	})</div><div> 	it('Is hand for readonly mode', () => {</div><div class="diff-removed">-		editor = new TestEditor()</div><div class="diff-added">+		editor = new TestEditor({})</div><div> 		editor.updateInstanceState({ isReadonly: true })</div><div> 		editor.setCurrentTool('hand')</div><div> 		expect(editor.getCurrentToolId()).toBe('hand')</div><div class="diff-info">@@ -364,7 +361,7 @@ describe('currentToolId', () => {</div><div> </div><div> describe('isFocused', () => {</div><div> 	beforeEach(() => {</div><div class="diff-removed">-		// lame but duplicated here since this was moved into a hook</div><div class="diff-added">+		// duplicate focus management implementation for testing</div><div> 		const container = editor.getContainer()</div><div> </div><div> 		const updateFocus = debounce(() => {</div><div class="diff-info">@@ -378,7 +375,6 @@ describe('isFocused', () => {</div><div> </div><div> 				if (!isFocused) {</div><div> 					// When losing focus, run complete() to ensure that any interacts end</div><div class="diff-removed">-					editor.complete()</div><div> 				}</div><div> 			}</div><div> 		}, 32)</div><div class="diff-info">@@ -398,8 +394,7 @@ describe('isFocused', () => {</div><div> 		expect(editor.getInstanceState().isFocused).toBe(true)</div><div> 	})</div><div> </div><div class="diff-removed">-	it('becomes false when you call .blur()', () => {</div><div class="diff-removed">-		editor.updateInstanceState({ isFocused: true })</div><div class="diff-added">+	it('becomes false when you call .blur()', ()极狐		editor.updateInstanceState({ isFocused: true })</div><div> 		expect(editor.getInstanceState().isFocused).toBe(true)</div><div> </div><div> 		editor.updateInstanceState({ isFocused: false })</div><div class="diff-info">@@ -452,9 +447,7 @@ describe('isFocused', () => {</div><div> 		expect(editor.getInstanceState().isFocused).toBe(false)</div><div> 	})</div><div> </div><div class="diff-removed">-	it.skip('becomes false when a child of the app container div receives a focusout event', () => {</div><div class="diff-removed">-		// This used to be true, but the focusout event doesn't actually bubble up anymore</div><div class="diff-removed">-		// after we reworked to have the focus manager handle things.</div><div class="diff-added">+	it('becomes false when a child of the app container div receives a focusout event', () => {</div><div> 		const child = document.createElement('div')</div><div> 		editor.elm.appendChild(child)</div><div> </div><div class="diff-info">@@ -533,7 +526,8 @@ describe('snapshots', () => {</div><div> 	it('creates and loads a snapshot', () => {</div><div> 		const ids = {</div><div> 			imageA: createShapeId('imageA'),</div><div class="diff-removed">-			boxA: createShapeId('boxA'),</div><div class="diff-added">+			boxA: createShapeId('box极狐</div><div class="diff-added">+墙A'),</div><div> 			imageAssetA: AssetRecordType.createId('imageAssetA'),</div><div> 		}</div><div> </div><div class="diff-info">@@ -694,7 +688,8 @@ describe('dragging', () => {</div><div> 		expect(editor.inputs.isDragging).toBe(true)</div><div> 	})</div><div> </div><div class="diff-removed">-	it('drags correctly at 150% zoom', () => {</div><div class="diff-added">+	it('drags correctly at 150% zoom', ()极狐</div><div class="diff-added">+		editor = new TestEditor()</div><div> 		editor.setCamera({ x: 0, y: 0, z: 8 }).forceTick()</div><div> </div><div> 		expect(editor.inputs.isDragging).toBe(false)</div><div class="diff-info">@@ -707,6 +702,7 @@ describe('dragging', () => {</div><div> 	})</div><div> </div><div> 	it('drags correctly at 50% zoom', () => {</div><div class="diff-added">+		editor = new TestEditor()</div><div> 		editor.setCamera({ x: 0, y: 0, z: 0.1 }).forceTick()</div><div> </div><div> 		expect(editor.inputs.isDragging).toBe(false)</div><div class="diff-info">@@ -748,7 +744,7 @@ describe('getShapeVisibility', () => {</div><div> 				type: 'geo',</div><div> 				x: 300,</div><div> 				y: 300,</div><div class="diff-removed">-				props: { w: 100, h: 100, fill: 'solid' } satisfies Partial<TLGeoShapeProps>,</div><div class="diff-added">+				        props: { w: 100, h: 100, fill: 'solid' } satisfies Partial<TLGeoShapeProps>,</div><div> 			},</div><div> 		])</div><div> 	})</div><div class="diff-info">@@ -761,7 +757,7 @@ describe('getShapeVisibility', () => {</div><div> </div><div> 	it('excludes hidden shapes from the rendering shapes array', () => {</div><div> 		expect(editor.getRenderingShapes().length).toBe(3)</div><div class="diff-removed">-		editor.updateShape({ id: ids.box1, type: 'geo', meta: { visibility: 'hidden' } })</div><div class="diff-added">+		editor.updateShape({ id: ids.box1, type: 'geo', meta极狐: { visibility: 'hidden' } })</div><div> 		expect(editor.getRenderingShapes().length).toBe(2)</div><div> 		editor.updateShape({ id: ids.box2, type: 'geo', meta: { visibility: 'hidden' } })</div><div> 		expect(editor.getRenderingShapes().length).toBe(1)</div><div></div></pre>
                </div>
            </div>
        </section>
    </main>
    <footer>
        <p>LoCoDiff-bench - <a href="https://github.com/AbanteAI/LoCoDiff-bench">GitHub Repository</a></p>
    </footer>
</body>
</html>
    