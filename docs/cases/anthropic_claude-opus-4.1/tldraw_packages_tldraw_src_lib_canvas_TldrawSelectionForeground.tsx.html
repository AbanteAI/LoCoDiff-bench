<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Case: packages/tldraw/src/lib/canvas/TldrawSelectionForeground.tsx - Claude Opus 4.1</title>
    <link rel="stylesheet" href="../../styles.css">
</head>
<body>
    <header>
        <h1>Case: packages/tldraw/src/lib/canvas/TldrawSelectionForeground.tsx</h1>
        <h2>Model: Claude Opus 4.1</h2>
        <p><a href="../../models/anthropic_claude-opus-4.1.html">All Claude Opus 4.1 Cases</a> | <a href="../../cases.html">All Cases</a> | <a href="../../index.html">Home</a></p>
    </header>
    <main>
        <section class="case-details">
            <div class="case-info">
                <h2>Benchmark Case Information</h2>
                <p><strong>Model:</strong> Claude Opus 4.1</p>
                <p><strong>Status:</strong> <span class="failure">Failure</span></p>
                <p><strong>Prompt Tokens:</strong> 46410</p>
                <p><strong>Native Prompt Tokens:</strong> 59072</p>
                <p><strong>Native Completion Tokens:</strong> 1</p>
                <p><strong>Native Tokens Reasoning:</strong> 0</p>
                <p><strong>Native Finish Reason:</strong> None</p>
                <p><strong>Cost:</strong> $0.886155</p>
            </div>
            
            <div class="content-links">
                <h2>View Content</h2>
                <ul>
                    <li><a href="../../content/anthropic_claude-opus-4.1/tldraw_packages_tldraw_src_lib_canvas_TldrawSelectionForeground.tsx/prompt.html" class="content-link">View Prompt</a></li>
                    <li><a href="../../content/anthropic_claude-opus-4.1/tldraw_packages_tldraw_src_lib_canvas_TldrawSelectionForeground.tsx/expected.html" class="content-link">View Expected Output</a></li>
                    <li><a href="../../content/anthropic_claude-opus-4.1/tldraw_packages_tldraw_src_lib_canvas_TldrawSelectionForeground.tsx/actual.html" class="content-link">View Actual Output</a></li>
                </ul>
            </div>
            
            <div class="diff-section">
                <h2>Diff (Expected vs Actual)</h2>
                <div id="diff-output">
                    <pre class="diff"><div></div><div>index 1f7e604f9..8206a2e5d 100644</div><div class="diff-header">--- a/tldraw_packages_tldraw_src_lib_canvas_TldrawSelectionForeground.tsx_expectedoutput.txt (expected):tmp/tmp3nct5lv2_expected.txt	</div><div class="diff-header">+++ b/tldraw_packages_tldraw_src_lib_canvas_TldrawSelectionForeground.tsx_extracted.txt (actual):tmp/tmp6vzll793_actual.txt	</div><div class="diff-info">@@ -306,232 +306,4 @@ export const TldrawSelectionForeground = track(function TldrawSelectionForegroun</div><div> 				{/* Corner Targets */}</div><div> 				<rect</div><div> 					className={classNames('tl-transparent', {</div><div class="diff-removed">-						'tl-hidden': hideTopLeftCorner,</div><div class="diff-removed">-					})}</div><div class="diff-removed">-					data-testid="selection.target.top-left"</div><div class="diff-removed">-					role="button"</div><div class="diff-removed">-					aria-label="top-left target"</div><div class="diff-removed">-					pointerEvents="all"</div><div class="diff-removed">-					x={toDomPrecision(0 - (isSmallX ? targetSizeX * 2 : targetSizeX * 1.5))}</div><div class="diff-removed">-					y={toDomPrecision(0 - (isSmallY ? targetSizeY * 2 : targetSizeY * 1.5))}</div><div class="diff-removed">-					width={toDomPrecision(targetSizeX * 3)}</div><div class="diff-removed">-					height={toDomPrecision(targetSizeY * 3)}</div><div class="diff-removed">-					style={isDefaultCursor ? { cursor: getCursor('nwse-resize', rotation) } : undefined}</div><div class="diff-removed">-					{...topLeftEvents}</div><div class="diff-removed">-				/></div><div class="diff-removed">-				<rect</div><div class="diff-removed">-					className={classNames('tl-transparent', {</div><div class="diff-removed">-						'tl-hidden': hideTopRightCorner,</div><div class="diff-removed">-					})}</div><div class="diff-removed">-					data-testid="selection.target.top-right"</div><div class="diff-removed">-					role="button"</div><div class="diff-removed">-					aria-label="top-right target"</div><div class="diff-removed">-					pointerEvents="all"</div><div class="diff-removed">-					x={toDomPrecision(width - (isSmallX ? 0 : targetSizeX * 1.5))}</div><div class="diff-removed">-					y={toDomPrecision(0 - (isSmallY ? targetSizeY * 2 : targetSizeY * 1.5))}</div><div class="diff-removed">-					width={toDomPrecision(targetSizeX * 3)}</div><div class="diff-removed">-					height={toDomPrecision(targetSizeY * 3)}</div><div class="diff-removed">-					style={isDefaultCursor ? { cursor: getCursor('nesw-resize', rotation) } : undefined}</div><div class="diff-removed">-					{...topRightEvents}</div><div class="diff-removed">-				/></div><div class="diff-removed">-				<rect</div><div class="diff-removed">-					className={classNames('tl-transparent', {</div><div class="diff-removed">-						'tl-hidden': hideBottomRightCorner,</div><div class="diff-removed">-					})}</div><div class="diff-removed">-					data-testid="selection.target.bottom-right"</div><div class="diff-removed">-					role="button"</div><div class="diff-removed">-					aria-label="bottom-right target"</div><div class="diff-removed">-					pointerEvents="all"</div><div class="diff-removed">-					x={toDomPrecision(width - (isSmallX ? targetSizeX : targetSizeX * 1.5))}</div><div class="diff-removed">-					y={toDomPrecision(height - (isSmallY ? targetSizeY : targetSizeY * 1.5))}</div><div class="diff-removed">-					width={toDomPrecision(targetSizeX * 3)}</div><div class="diff-removed">-					height={toDomPrecision(targetSizeY * 3)}</div><div class="diff-removed">-					style={isDefaultCursor ? { cursor: getCursor('nwse-resize', rotation) } : undefined}</div><div class="diff-removed">-					{...bottomRightEvents}</div><div class="diff-removed">-				/></div><div class="diff-removed">-				<rect</div><div class="diff-removed">-					className={classNames('tl-transparent', {</div><div class="diff-removed">-						'tl-hidden': hideBottomLeftCorner,</div><div class="diff-removed">-					})}</div><div class="diff-removed">-					data-testid="selection.target.bottom-left"</div><div class="diff-removed">-					role="button"</div><div class="diff-removed">-					aria-label="bottom-left target"</div><div class="diff-removed">-					pointerEvents="all"</div><div class="diff-removed">-					x={toDomPrecision(0 - (isSmallX ? targetSizeX * 3 : targetSizeX * 1.5))}</div><div class="diff-removed">-					y={toDomPrecision(height - (isSmallY ? 0 : targetSizeY * 1.5))}</div><div class="diff-removed">-					width={toDomPrecision(targetSizeX * 3)}</div><div class="diff-removed">-					height={toDomPrecision(targetSizeY * 3)}</div><div class="diff-removed">-					style={isDefaultCursor ? { cursor: getCursor('nesw-resize', rotation) } : undefined}</div><div class="diff-removed">-					{...bottomLeftEvents}</div><div class="diff-removed">-				/></div><div class="diff-removed">-				{/* Resize Handles */}</div><div class="diff-removed">-				{showResizeHandles && (</div><div class="diff-removed">-					<></div><div class="diff-removed">-						<rect</div><div class="diff-removed">-							data-testid="selection.resize.top-left"</div><div class="diff-removed">-							className={classNames('tl-corner-handle', {</div><div class="diff-removed">-								'tl-hidden': hideTopLeftCorner,</div><div class="diff-removed">-							})}</div><div class="diff-removed">-							role="button"</div><div class="diff-removed">-							aria-label="top_left handle"</div><div class="diff-removed">-							x={toDomPrecision(0 - size / 2)}</div><div class="diff-removed">-							y={toDomPrecision(0 - size / 2)}</div><div class="diff-removed">-							width={toDomPrecision(size)}</div><div class="diff-removed">-							height={toDomPrecision(size)}</div><div class="diff-removed">-						/></div><div class="diff-removed">-						<rect</div><div class="diff-removed">-							data-testid="selection.resize.top-right"</div><div class="diff-removed">-							className={classNames('tl-corner-handle', {</div><div class="diff-removed">-								'tl-hidden': hideTopRightCorner,</div><div class="diff-removed">-							})}</div><div class="diff-removed">-							role="button"</div><div class="diff-removed">-							aria-label="top_right handle"</div><div class="diff-removed">-							x={toDomPrecision(width - size / 2)}</div><div class="diff-removed">-							y={toDomPrecision(0 - size / 2)}</div><div class="diff-removed">-							width={toDomPrecision(size)}</div><div class="diff-removed">-							height={toDomPrecision(size)}</div><div class="diff-removed">-						/></div><div class="diff-removed">-						<rect</div><div class="diff-removed">-							data-testid="selection.resize.bottom-right"</div><div class="diff-removed">-							className={classNames('tl-corner-handle', {</div><div class="diff-removed">-								'tl-hidden': hideBottomRightCorner,</div><div class="diff-removed">-							})}</div><div class="diff-removed">-							role="button"</div><div class="diff-removed">-							aria-label="bottom_right handle"</div><div class="diff-removed">-							x={toDomPrecision(width - size / 2)}</div><div class="diff-removed">-							y={toDomPrecision(height - size / 2)}</div><div class="diff-removed">-							width={toDomPrecision(size)}</div><div class="diff-removed">-							height={toDomPrecision(size)}</div><div class="diff-removed">-						/></div><div class="diff-removed">-						<rect</div><div class="diff-removed">-							data-testid="selection.resize.bottom-left"</div><div class="diff-removed">-							className={classNames('tl-corner-handle', {</div><div class="diff-removed">-								'tl-hidden': hideBottomLeftCorner,</div><div class="diff-removed">-							})}</div><div class="diff-removed">-							role="button"</div><div class="diff-removed">-							aria-label="bottom_left handle"</div><div class="diff-removed">-							x={toDomPrecision(0 - size / 2)}</div><div class="diff-removed">-							y={toDomPrecision(height - size / 2)}</div><div class="diff-removed">-							width={toDomPrecision(size)}</div><div class="diff-removed">-							height={toDomPrecision(size)}</div><div class="diff-removed">-						/></div><div class="diff-removed">-					</></div><div class="diff-removed">-				)}</div><div class="diff-removed">-				{showTextResizeHandles && (</div><div class="diff-removed">-					<></div><div class="diff-removed">-						<rect</div><div class="diff-removed">-							data-testid="selection.text-resize.left.handle"</div><div class="diff-removed">-							className="tl-text-handle"</div><div class="diff-removed">-							role="button"</div><div class="diff-removed">-							aria-label="bottom_left handle"</div><div class="diff-removed">-							x={toDomPrecision(0 - size / 4)}</div><div class="diff-removed">-							y={toDomPrecision(height / 2 - textHandleHeight / 2)}</div><div class="diff-removed">-							rx={size / 4}</div><div class="diff-removed">-							width={toDomPrecision(size / 2)}</div><div class="diff-removed">-							height={toDomPrecision(textHandleHeight)}</div><div class="diff-removed">-						/></div><div class="diff-removed">-						<rect</div><div class="diff-removed">-							data-testid="selection.text-resize.right.handle"</div><div class="diff-removed">-							className="tl-text-handle"</div><div class="diff-removed">-							role="button"</div><div class="diff-removed">-							aria-label="bottom_left handle"</div><div class="diff-removed">-							rx={size / 4}</div><div class="diff-removed">-							x={toDomPrecision(width - size / 4)}</div><div class="diff-removed">-							y={toDomPrecision(height / 2 - textHandleHeight / 2)}</div><div class="diff-removed">-							width={toDomPrecision(size / 2)}</div><div class="diff-removed">-							height={toDomPrecision(textHandleHeight)}</div><div class="diff-removed">-						/></div><div class="diff-removed">-					</></div><div class="diff-removed">-				)}</div><div class="diff-removed">-				{/* Crop Handles */}</div><div class="diff-removed">-				{showCropHandles && (</div><div class="diff-removed">-					<TldrawCropHandles</div><div class="diff-removed">-						{...{</div><div class="diff-removed">-							size,</div><div class="diff-removed">-							width,</div><div class="diff-removed">-							height,</div><div class="diff-removed">-							hideAlternateHandles: hideAlternateCropHandles,</div><div class="diff-removed">-						}}</div><div class="diff-removed">-					/></div><div class="diff-removed">-				)}</div><div class="diff-removed">-			</g></div><div class="diff-removed">-		</svg></div><div class="diff-removed">-	)</div><div class="diff-removed">-})</div><div class="diff-removed">-</div><div class="diff-removed">-export const RotateCornerHandle = function RotateCornerHandle({</div><div class="diff-removed">-	cx,</div><div class="diff-removed">-	cy,</div><div class="diff-removed">-	targetSize,</div><div class="diff-removed">-	corner,</div><div class="diff-removed">-	cursor,</div><div class="diff-removed">-	isHidden,</div><div class="diff-removed">-	'data-testid': testId,</div><div class="diff-removed">-}: {</div><div class="diff-removed">-	cx: number</div><div class="diff-removed">-	cy: number</div><div class="diff-removed">-	targetSize: number</div><div class="diff-removed">-	corner: RotateCorner</div><div class="diff-removed">-	cursor?: string</div><div class="diff-removed">-	isHidden: boolean</div><div class="diff-removed">-	'data-testid'?: string</div><div class="diff-removed">-}) {</div><div class="diff-removed">-	const events = useSelectionEvents(corner)</div><div class="diff-removed">-	return (</div><div class="diff-removed">-		<rect</div><div class="diff-removed">-			className={classNames('tl-transparent', 'tl-rotate-corner', { 'tl-hidden': isHidden })}</div><div class="diff-removed">-			data-testid={testId}</div><div class="diff-removed">-			role="button"</div><div class="diff-removed">-			aria-label={`${corner} target`}</div><div class="diff-removed">-			pointerEvents="all"</div><div class="diff-removed">-			x={toDomPrecision(cx - targetSize * 3)}</div><div class="diff-removed">-			y={toDomPrecision(cy - targetSize * 3)}</div><div class="diff-removed">-			width={toDomPrecision(Math.max(1, targetSize * 3))}</div><div class="diff-removed">-			height={toDomPrecision(Math.max(1, targetSize * 3))}</div><div class="diff-removed">-			cursor={cursor}</div><div class="diff-removed">-			{...events}</div><div class="diff-removed">-		/></div><div class="diff-removed">-	)</div><div class="diff-removed">-}</div><div class="diff-removed">-</div><div class="diff-removed">-const SQUARE_ROOT_PI = Math.sqrt(Math.PI)</div><div class="diff-removed">-</div><div class="diff-removed">-export const MobileRotateHandle = function RotateHandle({</div><div class="diff-removed">-	cx,</div><div class="diff-removed">-	cy,</div><div class="diff-removed">-	size,</div><div class="diff-removed">-	isHidden,</div><div class="diff-removed">-	'data-testid': testId,</div><div class="diff-removed">-}: {</div><div class="diff-removed">-	cx: number</div><div class="diff-removed">-	cy: number</div><div class="diff-removed">-	size: number</div><div class="diff-removed">-	isHidden: boolean</div><div class="diff-removed">-	'data-testid'?: string</div><div class="diff-removed">-}) {</div><div class="diff-removed">-	const events = useSelectionEvents('mobile_rotate')</div><div class="diff-removed">-</div><div class="diff-removed">-	const editor = useEditor()</div><div class="diff-removed">-	const zoom = useValue('zoom level', () => editor.getZoomLevel(), [editor])</div><div class="diff-removed">-	const bgRadius = Math.max(14 * (1 / zoom), 20 / Math.max(1, zoom))</div><div class="diff-removed">-</div><div class="diff-removed">-	return (</div><div class="diff-removed">-		<g></div><div class="diff-removed">-			<circle</div><div class="diff-removed">-				data-testid={testId}</div><div class="diff-removed">-				pointerEvents="all"</div><div class="diff-removed">-				className={classNames('tl-transparent', 'tl-mobile-rotate__bg', { 'tl-hidden': isHidden })}</div><div class="diff-removed">-				cx={cx}</div><div class="diff-removed">-				cy={cy}</div><div class="diff-removed">-				r={bgRadius}</div><div class="diff-removed">-				{...events}</div><div class="diff-removed">-			/></div><div class="diff-removed">-			<circle</div><div class="diff-removed">-				className={classNames('tl-mobile-rotate__fg', { 'tl-hidden': isHidden })}</div><div class="diff-removed">-				cx={cx}</div><div class="diff-removed">-				cy={cy}</div><div class="diff-removed">-				r={size / SQUARE_ROOT_PI}</div><div class="diff-removed">-			/></div><div class="diff-removed">-		</g></div><div class="diff-removed">-	)</div><div class="diff-removed">-}</div><div>\ No newline at end of file</div><div class="diff-added">+						'tl-hidden':</div><div>\ No newline at end of file</div><div></div></pre>
                </div>
            </div>
        </section>
    </main>
    <footer>
        <p>LoCoDiff-bench - <a href="https://github.com/AbanteAI/LoCoDiff-bench">GitHub Repository</a></p>
    </footer>
</body>
</html>
    