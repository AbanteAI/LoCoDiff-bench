<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Case: packages/tldraw/src/lib/ui/hooks/useClipboardEvents.ts - GPT-5</title>
    <link rel="stylesheet" href="../../styles.css">
</head>
<body>
    <header>
        <h1>Case: packages/tldraw/src/lib/ui/hooks/useClipboardEvents.ts</h1>
        <h2>Model: GPT-5</h2>
        <p><a href="../../models/openai_gpt-5.html">All GPT-5 Cases</a> | <a href="../../cases.html">All Cases</a> | <a href="../../index.html">Home</a></p>
    </header>
    <main>
        <section class="case-details">
            <div class="case-info">
                <h2>Benchmark Case Information</h2>
                <p><strong>Model:</strong> GPT-5</p>
                <p><strong>Status:</strong> <span class="failure">Failure</span></p>
                <p><strong>Prompt Tokens:</strong> 40274</p>
                <p><strong>Native Prompt Tokens:</strong> 40340</p>
                <p><strong>Native Completion Tokens:</strong> 10448</p>
                <p><strong>Native Tokens Reasoning:</strong> 4416</p>
                <p><strong>Native Finish Reason:</strong> stop</p>
                <p><strong>Cost:</strong> $0.00774525</p>
            </div>
            
            <div class="content-links">
                <h2>View Content</h2>
                <ul>
                    <li><a href="../../content/openai_gpt-5/tldraw_packages_tldraw_src_lib_ui_hooks_useClipboardEvents.ts/prompt.html" class="content-link">View Prompt</a></li>
                    <li><a href="../../content/openai_gpt-5/tldraw_packages_tldraw_src_lib_ui_hooks_useClipboardEvents.ts/expected.html" class="content-link">View Expected Output</a></li>
                    <li><a href="../../content/openai_gpt-5/tldraw_packages_tldraw_src_lib_ui_hooks_useClipboardEvents.ts/actual.html" class="content-link">View Actual Output</a></li>
                </ul>
            </div>
            
            <div class="diff-section">
                <h2>Diff (Expected vs Actual)</h2>
                <div id="diff-output">
                    <pre class="diff"><div></div><div>index 5ea95b92f..44e86f7d7 100644</div><div class="diff-header">--- a/tldraw_packages_tldraw_src_lib_ui_hooks_useClipboardEvents.ts_expectedoutput.txt (expected):tmp/tmpgmjbhbsu_expected.txt	</div><div class="diff-header">+++ b/tldraw_packages_tldraw_src_lib_ui_hooks_useClipboardEvents.ts_extracted.txt (actual):tmp/tmpo2sqnges_actual.txt	</div><div class="diff-info">@@ -21,17 +21,6 @@ import { TLUiEventSource, useUiEvents } from '../context/events'</div><div> import { pasteFiles } from './clipboard/pasteFiles'</div><div> import { pasteUrl } from './clipboard/pasteUrl'</div><div> </div><div class="diff-removed">-// Expected paste mime types. The earlier in this array they appear, the higher preference we give</div><div class="diff-removed">-// them. For example, we prefer the `web image/png+tldraw` type to plain `image/png` as it does not</div><div class="diff-removed">-// strip some of the extra metadata we write into it.</div><div class="diff-removed">-const expectedPasteFileMimeTypes = [</div><div class="diff-removed">-	TLDRAW_CUSTOM_PNG_MIME_TYPE,</div><div class="diff-removed">-	'image/png',</div><div class="diff-removed">-	'image/jpeg',</div><div class="diff-removed">-	'image/webp',</div><div class="diff-removed">-	'image/svg+xml',</div><div class="diff-removed">-] satisfies string[]</div><div class="diff-removed">-</div><div> /**</div><div>  * Strip HTML tags from a string.</div><div>  * @param html - The HTML to strip.</div><div class="diff-info">@@ -219,6 +208,17 @@ const handlePasteFromEventClipboardData = async (</div><div> 	handleClipboardThings(editor, things, point)</div><div> }</div><div> </div><div class="diff-added">+// Expected paste mime types. The earlier in this array they appear, the higher preference we give</div><div class="diff-added">+// them. For example, we prefer the `web image/png+tldraw` type to plain `image/png` as it does not</div><div class="diff-added">+// strip some of the extra metadata we write into it.</div><div class="diff-added">+const expectedPasteFileMimeTypes = [</div><div class="diff-added">+	TLDRAW_CUSTOM_PNG_MIME_TYPE,</div><div class="diff-added">+	'image/png',</div><div class="diff-added">+	'image/jpeg',</div><div class="diff-added">+	'image/webp',</div><div class="diff-added">+	'image/svg+xml',</div><div class="diff-added">+] satisfies string[]</div><div class="diff-added">+</div><div> /**</div><div>  * Handle a paste using items retrieved from the Clipboard API.</div><div>  * https://developer.mozilla.org/en-US/docs/Web/tldraw_packages_tldraw_src_lib_ui_hooks_useClipboardEvents.ts_extracted.txt (actual): Editor, things: ClipboardThing[], p</div><div> 						const thing = t as Exclude<ClipboardThing, { type: 'file' } | { type: 'blob' }></div><div> </div><div> 						if (thing.type === 'file') {</div><div class="diff-removed">-							r({ type: 'error', data: null, reason: 'unexpected file' })</div><div class="diff-added">+							r({ type: 'error', data: null, reason: 'unexpected file' } as any)</div><div> 							return</div><div> 						}</div><div> </div><div class="diff-info">@@ -359,7 +359,7 @@ async function handleClipboardThings(editor: Editor, things: ClipboardThing[], p</div><div> 											type: 'error',</div><div> 											data: jsonComment,</div><div> 											reason: `found tldraw data comment but could not parse base64`,</div><div class="diff-removed">-										})</div><div class="diff-added">+										} as any)</div><div> 										return</div><div> 									} else {</div><div> 										const json = JSON.parse(jsonComment)</div><div class="diff-info">@@ -368,7 +368,7 @@ async function handleClipboardThings(editor: Editor, things: ClipboardThing[], p</div><div> 												type: 'error',</div><div> 												data: json,</div><div> 												reason: `found tldraw data comment but JSON was of a different type: ${json.type}`,</div><div class="diff-removed">-											})</div><div class="diff-added">+											} as any)</div><div> 										}</div><div> </div><div> 										if (typeof json.data === 'string') {</div><div class="diff-info">@@ -377,11 +377,11 @@ async function handleClipboardThings(editor: Editor, things: ClipboardThing[], p</div><div> 												data: json,</div><div> 												reason:</div><div> 													'found tldraw json but data was a string instead of a TLClipboardModel object',</div><div class="diff-removed">-											})</div><div class="diff-added">+											} as any)</div><div> 											return</div><div> 										}</div><div> </div><div class="diff-removed">-										r({ type: 'tldraw', data: json.data })</div><div class="diff-added">+										r({ type: 'tldraw', data: json.data } as any)</div><div> 										return</div><div> 									}</div><div> 								} catch {</div><div class="diff-info">@@ -390,17 +390,17 @@ async function handleClipboardThings(editor: Editor, things: ClipboardThing[], p</div><div> 										data: tldrawHtmlComment,</div><div> 										reason:</div><div> 											'found tldraw json but data was a string instead of a TLClipboardModel object',</div><div class="diff-removed">-									})</div><div class="diff-added">+									} as any)</div><div> 									return</div><div> 								}</div><div> 							} else {</div><div> 								if (thing.type === 'html') {</div><div class="diff-removed">-									r({ type: 'text', data: text, subtype: 'html' })</div><div class="diff-added">+									r({ type: 'text', data: text, subtype: 'html' } as any)</div><div> 									return</div><div> 								}</div><div> </div><div> 								if (thing.type === 'url') {</div><div class="diff-removed">-									r({ type: 'text', data: text, subtype: 'url' })</div><div class="diff-added">+									r({ type: 'text', data: text, subtype: 'url' } as any)</div><div> 									return</div><div> 								}</div><div> </div><div class="diff-info">@@ -409,20 +409,20 @@ async function handleClipboardThings(editor: Editor, things: ClipboardThing[], p</div><div> 									const json = JSON.parse(text)</div><div> 									if (json.type === 'excalidraw/clipboard') {</div><div> 										// If the clipboard contains content copied from excalidraw, then paste that</div><div class="diff-removed">-										r({ type: 'excalidraw', data: json })</div><div class="diff-added">+										r({ type: 'excalidraw', data: json } as any)</div><div> 										return</div><div> 									} else {</div><div class="diff-removed">-										r({ type: 'text', data: text, subtype: 'json' })</div><div class="diff-added">+										r({ type: 'text', data: text, subtype: 'json' } as any)</div><div> 										return</div><div> 									}</div><div> 								} catch {</div><div> 									// If we could not parse the text as JSON, then it's just text</div><div class="diff-removed">-									r({ type: 'text', data: text, subtype: 'text' })</div><div class="diff-added">+									r({ type: 'text', data: text, subtype: 'text' } as any)</div><div> 									return</div><div> 								}</div><div> 							}</div><div> </div><div class="diff-removed">-							r({ type: 'error', data: text, reason: 'unhandled case' })</div><div class="diff-added">+							r({ type: 'error', data: text, reason: 'unhandled case' } as any)</div><div> 						})</div><div> 					})</div><div> 			)</div><div></div></pre>
                </div>
            </div>
        </section>
    </main>
    <footer>
        <p>LoCoDiff-bench - <a href="https://github.com/AbanteAI/LoCoDiff-bench">GitHub Repository</a></p>
    </footer>
</body>
</html>
    