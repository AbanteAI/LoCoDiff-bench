<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Case: packages/tldraw/src/lib/canvas/TldrawSelectionForeground.tsx - Sonnet 3.6</title>
    <link rel="stylesheet" href="../../styles.css">
</head>
<body>
    <header>
        <h1>Case: packages/tldraw/src/lib/canvas/TldrawSelectionForeground.tsx</h1>
        <h2>Model: Sonnet 3.6</h2>
        <p><a href="../../models/anthropic_claude-3.5-sonnet.html">All Sonnet 3.6 Cases</a> | <a href="../../cases.html">All Cases</a> | <a href="../../index.html">Home</a></p>
    </header>
    <main>
        <section class="case-details">
            <div class="case-info">
                <h2>Benchmark Case Information</h2>
                <p><strong>Model:</strong> Sonnet 3.6</p>
                <p><strong>Status:</strong> <span class="failure">Failure</span></p>
                <p><strong>Prompt Tokens:</strong> 46410</p>
                <p><strong>Native Prompt Tokens:</strong> 59072</p>
                <p><strong>Native Completion Tokens:</strong> 6119</p>
                <p><strong>Native Tokens Reasoning:</strong> 0</p>
                <p><strong>Native Finish Reason:</strong> stop</p>
                <p><strong>Cost:</strong> $0.269001</p>
            </div>
            
            <div class="content-links">
                <h2>View Content</h2>
                <ul>
                    <li><a href="../../content/anthropic_claude-3.5-sonnet/tldraw_packages_tldraw_src_lib_canvas_TldrawSelectionForeground.tsx/prompt.html" class="content-link">View Prompt</a></li>
                    <li><a href="../../content/anthropic_claude-3.5-sonnet/tldraw_packages_tldraw_src_lib_canvas_TldrawSelectionForeground.tsx/expected.html" class="content-link">View Expected Output</a></li>
                    <li><a href="../../content/anthropic_claude-3.5-sonnet/tldraw_packages_tldraw_src_lib_canvas_TldrawSelectionForeground.tsx/actual.html" class="content-link">View Actual Output</a></li>
                </ul>
            </div>
            
            <div class="diff-section">
                <h2>Diff (Expected vs Actual)</h2>
                <div id="diff-output">
                    <pre class="diff"><div></div><div>index 1f7e604f..f2c9659b 100644</div><div class="diff-header">--- a/tldraw_packages_tldraw_src_lib_canvas_TldrawSelectionForeground.tsx_expectedoutput.txt (expected):tmp/tmpdf57gxx0_expected.txt	</div><div class="diff-header">+++ b/tldraw_packages_tldraw_src_lib_canvas_TldrawSelectionForeground.tsx_extracted.txt (actual):tmp/tmpd4e8l8qr_actual.txt	</div><div class="diff-info">@@ -1,7 +1,7 @@</div><div> import {</div><div> 	Box,</div><div> 	RotateCorner,</div><div class="diff-removed">-	TLEmbedShape,</div><div class="diff-added">+	TLEmbedShape, </div><div> 	TLSelectionForegroundProps,</div><div> 	TLTextShape,</div><div> 	getCursor,</div><div class="diff-info">@@ -11,7 +11,6 @@ import {</div><div> 	useEditor,</div><div> 	useSelectionEvents,</div><div> 	useTransform,</div><div class="diff-removed">-	useValue,</div><div> } from '@tldraw/editor'</div><div> import classNames from 'classnames'</div><div> import { useRef } from 'react'</div><div class="diff-info">@@ -149,23 +148,23 @@ export const TldrawSelectionForeground = track(function TldrawSelectionForegroun</div><div> 				!editor.getShapeUtil(onlyShape).hideResizeHandles(onlyShape)</div><div> 			: true) &&</div><div> 		!showCropHandles &&</div><div class="diff-removed">-		!isLockedShape</div><div class="diff-added">+		!isLockedShape </div><div> </div><div> 	const hideAlternateCornerHandles = isTinyX || isTinyY</div><div> 	const showOnlyOneHandle = isTinyX && isTinyY</div><div> 	const hideAlternateCropHandles = isSmallCropX || isSmallCropY</div><div> </div><div class="diff-removed">-	const showHandles = showResizeHandles || showCropHandles</div><div class="diff-added">+	const showHandles = showResizeHandles || showCropHandles  </div><div> 	const hideRotateCornerHandles = !showCornerRotateHandles</div><div> 	const hideMobileRotateHandle = !shouldDisplayControls || !showMobileRotateHandle</div><div> 	const hideTopLeftCorner = !shouldDisplayControls || !showHandles</div><div> 	const hideTopRightCorner = !shouldDisplayControls || !showHandles || hideAlternateCornerHandles</div><div> 	const hideBottomLeftCorner = !shouldDisplayControls || !showHandles || hideAlternateCornerHandles</div><div class="diff-removed">-	const hideBottomRightCorner =</div><div class="diff-added">+	const hideBottomRightCorner = </div><div> 		!shouldDisplayControls || !showHandles || (showOnlyOneHandle && !showCropHandles)</div><div> </div><div> 	// If we're showing crop handles, then show the edges too.</div><div class="diff-removed">-	// If we're showing resize handles, then show the edges only</div><div class="diff-added">+	// If we're showing resize handles, then show the edges only  </div><div> 	// if we're not hiding them for some other reason.</div><div> 	let hideVerticalEdgeTargets = true</div><div> 	// The same logic above applies here, except another nuance is that</div><div class="diff-info">@@ -203,17 +202,17 @@ export const TldrawSelectionForeground = track(function TldrawSelectionForegroun</div><div> 					data-testid="selection.rotate.top-left"</div><div> 					cx={0}</div><div> 					cy={0}</div><div class="diff-removed">-					targetSize={targetSize}</div><div class="diff-removed">-					corner="top_left_rotate"</div><div class="diff-added">+					targetSize={targetSize}  </div><div class="diff-added">+					corner="top_left_rotate"  </div><div> 					cursor={isDefaultCursor ? getCursor('nwse-rotate', rotation) : undefined}</div><div> 					isHidden={hideRotateCornerHandles}</div><div> 				/></div><div> 				<RotateCornerHandle</div><div class="diff-removed">-					data-testid="selection.rotate.top-right"</div><div class="diff-added">+					data-testid="selection.rotate.top-right"  </div><div> 					cx={width + targetSize * 3}</div><div> 					cy={0}</div><div> 					targetSize={targetSize}</div><div class="diff-removed">-					corner="top_right_rotate"</div><div class="diff-added">+					corner="top_right_rotate"  </div><div> 					cursor={isDefaultCursor ? getCursor('nesw-rotate', rotation) : undefined}</div><div> 					isHidden={hideRotateCornerHandles}</div><div> 				/></div><div class="diff-info">@@ -222,7 +221,7 @@ export const TldrawSelectionForeground = track(function TldrawSelectionForegroun</div><div> 					cx={0}</div><div> 					cy={height + targetSize * 3}</div><div> 					targetSize={targetSize}</div><div class="diff-removed">-					corner="bottom_left_rotate"</div><div class="diff-added">+					corner="bottom_left_rotate"  </div><div> 					cursor={isDefaultCursor ? getCursor('swne-rotate', rotation) : undefined}</div><div> 					isHidden={hideRotateCornerHandles}</div><div> 				/></div><div class="diff-info">@@ -231,7 +230,7 @@ export const TldrawSelectionForeground = track(function TldrawSelectionForegroun</div><div> 					cx={width + targetSize * 3}</div><div> 					cy={height + targetSize * 3}</div><div> 					targetSize={targetSize}</div><div class="diff-removed">-					corner="bottom_right_rotate"</div><div class="diff-added">+					corner="bottom_right_rotate"  </div><div> 					cursor={isDefaultCursor ? getCursor('senw-rotate', rotation) : undefined}</div><div> 					isHidden={hideRotateCornerHandles}</div><div> 				/></div><div class="diff-info">@@ -240,7 +239,7 @@ export const TldrawSelectionForeground = track(function TldrawSelectionForegroun</div><div> 					cx={isSmallX ? -targetSize * 1.5 : width / 2}</div><div> 					cy={isSmallX ? height / 2 : -targetSize * 1.5}</div><div> 					size={size}</div><div class="diff-removed">-					isHidden={hideMobileRotateHandle}</div><div class="diff-added">+					isHidden={hideMobileRotateHandle}  </div><div> 				/></div><div> 				{/* Targets */}</div><div> 				<rect</div><div class="diff-info">@@ -250,7 +249,7 @@ export const TldrawSelectionForeground = track(function TldrawSelectionForegroun</div><div> 					data-testid="selection.resize.top"</div><div> 					role="button"</div><div> 					aria-label="top target"</div><div class="diff-removed">-					pointerEvents="all"</div><div class="diff-added">+					pointerEvents="all"  </div><div> 					x={0}</div><div> 					y={toDomPrecision(0 - (isSmallY ? targetSizeY * 2 : targetSizeY))}</div><div> 					width={toDomPrecision(width)}</div><div class="diff-info">@@ -260,18 +259,18 @@ export const TldrawSelectionForeground = track(function TldrawSelectionForegroun</div><div> 				/></div><div> 				<rect</div><div> 					className={classNames('tl-transparent', {</div><div class="diff-removed">-						'tl-hidden': hideHorizontalEdgeTargets,</div><div class="diff-added">+						'tl-hidden': hideHorizontalEdgeTargets,  </div><div> 					})}</div><div> 					data-testid="selection.resize.right"</div><div> 					role="button"</div><div class="diff-removed">-					aria-label="right target"</div><div class="diff-added">+					aria-label="right target" </div><div> 					pointerEvents="all"</div><div> 					x={toDomPrecision(width - (isSmallX ? 0 : targetSizeX))}</div><div> 					y={0}</div><div> 					height={toDomPrecision(height)}</div><div> 					width={toDomPrecision(Math.max(1, targetSizeX * 2))}</div><div> 					style={isDefaultCursor ? { cursor: getCursor('ew-resize', rotation) } : undefined}</div><div class="diff-removed">-					{...rightEvents}</div><div class="diff-added">+					{...rightEvents}  </div><div> 				/></div><div> 				<rect</div><div> 					className={classNames('tl-transparent', {</div><div class="diff-info">@@ -281,10 +280,10 @@ export const TldrawSelectionForeground = track(function TldrawSelectionForegroun</div><div> 					role="button"</div><div> 					aria-label="bottom target"</div><div> 					pointerEvents="all"</div><div class="diff-removed">-					x={0}</div><div class="diff-added">+					x={0}  </div><div> 					y={toDomPrecision(height - (isSmallY ? 0 : targetSizeY))}</div><div> 					width={toDomPrecision(width)}</div><div class="diff-removed">-					height={toDomPrecision(Math.max(1, targetSizeY * 2))}</div><div class="diff-added">+					height={toDomPrecision(Math.max(1, targetSizeY * 2))} </div><div> 					style={isDefaultCursor ? { cursor: getCursor('ns-resize', rotation) } : undefined}</div><div> 					{...bottomEvents}</div><div> 				/></div><div class="diff-info">@@ -315,7 +314,7 @@ export const TldrawSelectionForeground = track(function TldrawSelectionForegroun</div><div> 					x={toDomPrecision(0 - (isSmallX ? targetSizeX * 2 : targetSizeX * 1.5))}</div><div> 					y={toDomPrecision(0 - (isSmallY ? targetSizeY * 2 : targetSizeY * 1.5))}</div><div> 					width={toDomPrecision(targetSizeX * 3)}</div><div class="diff-removed">-					height={toDomPrecision(targetSizeY * 3)}</div><div class="diff-added">+					height={toDomPrecision(targetSizeY * 3)} </div><div> 					style={isDefaultCursor ? { cursor: getCursor('nwse-resize', rotation) } : undefined}</div><div> 					{...topLeftEvents}</div><div> 				/></div><div class="diff-info">@@ -332,7 +331,7 @@ export const TldrawSelectionForeground = track(function TldrawSelectionForegroun</div><div> 					width={toDomPrecision(targetSizeX * 3)}</div><div> 					height={toDomPrecision(targetSizeY * 3)}</div><div> 					style={isDefaultCursor ? { cursor: getCursor('nesw-resize', rotation) } : undefined}</div><div class="diff-removed">-					{...topRightEvents}</div><div class="diff-added">+					{...topRightEvents} </div><div> 				/></div><div> 				<rect</div><div> 					className={classNames('tl-transparent', {</div><div class="diff-info">@@ -357,7 +356,7 @@ export const TldrawSelectionForeground = track(function TldrawSelectionForegroun</div><div> 					role="button"</div><div> 					aria-label="bottom-left target"</div><div> 					pointerEvents="all"</div><div class="diff-removed">-					x={toDomPrecision(0 - (isSmallX ? targetSizeX * 3 : targetSizeX * 1.5))}</div><div class="diff-added">+					x={toDomPrecision(0 - (isSmallX ? targetSizeX * 3 : targetSizeX * 1.5))}  </div><div> 					y={toDomPrecision(height - (isSmallY ? 0 : targetSizeY * 1.5))}</div><div> 					width={toDomPrecision(targetSizeX * 3)}</div><div> 					height={toDomPrecision(targetSizeY * 3)}</div><div class="diff-info">@@ -369,22 +368,22 @@ export const TldrawSelectionForeground = track(function TldrawSelectionForegroun</div><div> 					<></div><div> 						<rect</div><div> 							data-testid="selection.resize.top-left"</div><div class="diff-added">+							role="button"</div><div> 							className={classNames('tl-corner-handle', {</div><div> 								'tl-hidden': hideTopLeftCorner,</div><div> 							})}</div><div class="diff-removed">-							role="button"</div><div> 							aria-label="top_left handle"</div><div class="diff-removed">-							x={toDomPrecision(0 - size / 2)}</div><div class="diff-added">+							x={toDomPrecision(0 - size / 2)}  </div><div> 							y={toDomPrecision(0 - size / 2)}</div><div> 							width={toDomPrecision(size)}</div><div> 							height={toDomPrecision(size)}</div><div> 						/></div><div> 						<rect</div><div> 							data-testid="selection.resize.top-right"</div><div class="diff-added">+							role="button"</div><div> 							className={classNames('tl-corner-handle', {</div><div> 								'tl-hidden': hideTopRightCorner,</div><div> 							})}</div><div class="diff-removed">-							role="button"</div><div> 							aria-label="top_right handle"</div><div> 							x={toDomPrecision(width - size / 2)}</div><div> 							y={toDomPrecision(0 - size / 2)}</div><div class="diff-info">@@ -393,26 +392,26 @@ export const TldrawSelectionForeground = track(function TldrawSelectionForegroun</div><div> 						/></div><div> 						<rect</div><div> 							data-testid="selection.resize.bottom-right"</div><div class="diff-added">+							role="button"</div><div> 							className={classNames('tl-corner-handle', {</div><div> 								'tl-hidden': hideBottomRightCorner,</div><div> 							})}</div><div class="diff-removed">-							role="button"</div><div> 							aria-label="bottom_right handle"</div><div> 							x={toDomPrecision(width - size / 2)}</div><div class="diff-removed">-							y={toDomPrecision(height - size / 2)}</div><div class="diff-added">+							y={toDomPrecision(height - size / 2)} </div><div> 							width={toDomPrecision(size)}</div><div> 							height={toDomPrecision(size)}</div><div> 						/></div><div> 						<rect</div><div> 							data-testid="selection.resize.bottom-left"</div><div class="diff-added">+							role="button"</div><div> 							className={classNames('tl-corner-handle', {</div><div class="diff-removed">-								'tl-hidden': hideBottomLeftCorner,</div><div class="diff-added">+								'tl-hidden': hideBottomLeftCorner,  </div><div> 							})}</div><div class="diff-removed">-							role="button"</div><div> 							aria-label="bottom_left handle"</div><div> 							x={toDomPrecision(0 - size / 2)}</div><div> 							y={toDomPrecision(height - size / 2)}</div><div class="diff-removed">-							width={toDomPrecision(size)}</div><div class="diff-added">+							width={toDomPrecision(size)} </div><div> 							height={toDomPrecision(size)}</div><div> 						/></div><div> 					</></div><div class="diff-info">@@ -421,8 +420,8 @@ export const TldrawSelectionForeground = track(function TldrawSelectionForegroun</div><div> 					<></div><div> 						<rect</div><div> 							data-testid="selection.text-resize.left.handle"</div><div class="diff-removed">-							className="tl-text-handle"</div><div> 							role="button"</div><div class="diff-added">+							className="tl-text-handle"</div><div> 							aria-label="bottom_left handle"</div><div> 							x={toDomPrecision(0 - size / 4)}</div><div> 							y={toDomPrecision(height / 2 - textHandleHeight / 2)}</div><div class="diff-info">@@ -431,19 +430,19 @@ export const TldrawSelectionForeground = track(function TldrawSelectionForegroun</div><div> 							height={toDomPrecision(textHandleHeight)}</div><div> 						/></div><div> 						<rect</div><div class="diff-removed">-							data-testid="selection.text-resize.right.handle"</div><div class="diff-removed">-							className="tl-text-handle"</div><div class="diff-added">+							data-testid="selection.text-resize.right.handle"  </div><div> 							role="button"</div><div class="diff-removed">-							aria-label="bottom_left handle"</div><div class="diff-added">+							className="tl-text-handle"</div><div class="diff-added">+							aria-label="bottom_left handle"  </div><div> 							rx={size / 4}</div><div> 							x={toDomPrecision(width - size / 4)}</div><div> 							y={toDomPrecision(height / 2 - textHandleHeight / 2)}</div><div class="diff-removed">-							width={toDomPrecision(size / 2)}</div><div class="diff-added">+							width={toDomPrecision(size / 2)} </div><div> 							height={toDomPrecision(textHandleHeight)}</div><div> 						/></div><div> 					</></div><div> 				)}</div><div class="diff-removed">-				{/* Crop Handles */}</div><div class="diff-added">+				{/* Crop Handles */}  </div><div> 				{showCropHandles && (</div><div> 					<TldrawCropHandles</div><div> 						{...{</div><div class="diff-info">@@ -462,7 +461,7 @@ export const TldrawSelectionForeground = track(function TldrawSelectionForegroun</div><div> export const RotateCornerHandle = function RotateCornerHandle({</div><div> 	cx,</div><div> 	cy,</div><div class="diff-removed">-	targetSize,</div><div class="diff-added">+	targetSize, </div><div> 	corner,</div><div> 	cursor,</div><div> 	isHidden,</div><div class="diff-info">@@ -472,7 +471,7 @@ export const RotateCornerHandle = function RotateCornerHandle({</div><div> 	cy: number</div><div> 	targetSize: number</div><div> 	corner: RotateCorner</div><div class="diff-removed">-	cursor?: string</div><div class="diff-added">+	cursor?: string  </div><div> 	isHidden: boolean</div><div> 	'data-testid'?: string</div><div> }) {</div><div class="diff-info">@@ -486,7 +485,7 @@ export const RotateCornerHandle = function RotateCornerHandle({</div><div> 			pointerEvents="all"</div><div> 			x={toDomPrecision(cx - targetSize * 3)}</div><div> 			y={toDomPrecision(cy - targetSize * 3)}</div><div class="diff-removed">-			width={toDomPrecision(Math.max(1, targetSize * 3))}</div><div class="diff-added">+			width={toDomPrecision(Math.max(1, targetSize * 3))}  </div><div> 			height={toDomPrecision(Math.max(1, targetSize * 3))}</div><div> 			cursor={cursor}</div><div> 			{...events}</div><div class="diff-info">@@ -498,13 +497,13 @@ const SQUARE_ROOT_PI = Math.sqrt(Math.PI)</div><div> </div><div> export const MobileRotateHandle = function RotateHandle({</div><div> 	cx,</div><div class="diff-removed">-	cy,</div><div class="diff-added">+	cy, </div><div> 	size,</div><div> 	isHidden,</div><div> 	'data-testid': testId,</div><div> }: {</div><div> 	cx: number</div><div class="diff-removed">-	cy: number</div><div class="diff-added">+	cy: number  </div><div> 	size: number</div><div> 	isHidden: boolean</div><div> 	'data-testid'?: string</div><div class="diff-info">@@ -519,7 +518,7 @@ export const MobileRotateHandle = function RotateHandle({</div><div> 		<g></div><div> 			<circle</div><div> 				data-testid={testId}</div><div class="diff-removed">-				pointerEvents="all"</div><div class="diff-added">+				pointerEvents="all" </div><div> 				className={classNames('tl-transparent', 'tl-mobile-rotate__bg', { 'tl-hidden': isHidden })}</div><div> 				cx={cx}</div><div> 				cy={cy}</div><div></div></pre>
                </div>
            </div>
        </section>
    </main>
    <footer>
        <p>LoCoDiff-bench - <a href="https://github.com/AbanteAI/LoCoDiff-bench">GitHub Repository</a></p>
    </footer>
</body>
</html>
    