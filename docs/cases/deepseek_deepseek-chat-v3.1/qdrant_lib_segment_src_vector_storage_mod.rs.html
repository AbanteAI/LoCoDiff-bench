<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Case: lib/segment/src/vector_storage/mod.rs - DeepSeek Chat v3.1</title>
    <link rel="stylesheet" href="../../styles.css">
</head>
<body>
    <header>
        <h1>Case: lib/segment/src/vector_storage/mod.rs</h1>
        <h2>Model: DeepSeek Chat v3.1</h2>
        <p><a href="../../models/deepseek_deepseek-chat-v3.1.html">All DeepSeek Chat v3.1 Cases</a> | <a href="../../cases.html">All Cases</a> | <a href="../../index.html">Home</a></p>
    </header>
    <main>
        <section class="case-details">
            <div class="case-info">
                <h2>Benchmark Case Information</h2>
                <p><strong>Model:</strong> DeepSeek Chat v3.1</p>
                <p><strong>Status:</strong> <span class="failure">Failure</span></p>
                <p><strong>Prompt Tokens:</strong> 12530</p>
                <p><strong>Native Prompt Tokens:</strong> 13294</p>
                <p><strong>Native Completion Tokens:</strong> 4017</p>
                <p><strong>Native Tokens Reasoning:</strong> 0</p>
                <p><strong>Native Finish Reason:</strong> stop</p>
                <p><strong>Cost:</strong> $0.0141932</p>
            </div>
            
            <div class="content-links">
                <h2>View Content</h2>
                <ul>
                    <li><a href="../../content/deepseek_deepseek-chat-v3.1/qdrant_lib_segment_src_vector_storage_mod.rs/prompt.html" class="content-link">View Prompt</a></li>
                    <li><a href="../../content/deepseek_deepseek-chat-v3.1/qdrant_lib_segment_src_vector_storage_mod.rs/expected.html" class="content-link">View Expected Output</a></li>
                    <li><a href="../../content/deepseek_deepseek-chat-v3.1/qdrant_lib_segment_src_vector_storage_mod.rs/actual.html" class="content-link">View Actual Output</a></li>
                </ul>
            </div>
            
            <div class="diff-section">
                <h2>Diff (Expected vs Actual)</h2>
                <div id="diff-output">
                    <pre class="diff"><div></div><div>index 9b55b3970..3894ba4cd 100644</div><div class="diff-header">--- a/qdrant_lib_segment_src_vector_storage_mod.rs_expectedoutput.txt (expected):tmp/tmpn9dy6v11_expected.txt	</div><div class="diff-header">+++ b/qdrant_lib_segment_src_vector_storage_mod.rs_extracted.txt (actual):tmp/tmp3_5ls3vh_actual.txt	</div><div class="diff-info">@@ -1,3 +1,394 @@</div><div class="diff-added">+pub mod vector_storage;</div><div class="diff-added">+   pub mod simple_vector_storage;</div><div class="diff-added">+   ```</div><div class="diff-added">+</div><div class="diff-added">+2. **Commit (8125611):** Adds `memmap_vector_storage`:</div><div class="diff-added">+   ```rust</div><div class="diff-added">+   pub mod vector_storage;</div><div class="diff-added">+   pub mod simple_vector_storage;</div><div class="diff-added">+   pub mod memmap_vector_storage;</div><div class="diff-added">+   ```</div><div class="diff-added">+</div><div class="diff-added">+3. **Commit (eab0ac8):** Adds `persisted_vector_storage` (as private):</div><div class="diff-added">+   ```rust</div><div class="diff-added">+   pub mod vector_storage;</div><div class="diff-added">+   pub mod simple_vector_storage;</div><div class="diff-added">+   pub mod memmap_vector_storage;</div><div class="diff-added">+   mod persisted_vector_storage;</div><div class="diff-added">+   ```</div><div class="diff-added">+</div><div class="diff-added">+4. **Commit (0909b70):** Removes `memmap_vector_storage` and `persisted_vector_storage`, and adds `memmap_vector_storage` again (with no newline at end):</div><div class="diff-added">+   ```rust</div><div class="diff-added">+   pub mod vector_storage;</div><div class="diff-added">+   pub mod simple_vector_storage;</div><div class="diff-added">+   pub mod memmap_vector_storage;</div><div class="diff-added">+   ```</div><div class="diff-added">+   Note: The diff shows a removal and then an addition, but it's effectively the same as before without the `persisted_vector_storage` and with `memmap_vector_storage` public. Also, note the lack of newline.</div><div class="diff-added">+</div><div class="diff-added">+5. **Commit (8a85c10):** Adds a newline at the end:</div><div class="diff-added">+   ```rust</div><div class="diff-added">+   pub mod vector_storage;</div><div class="diff-added">+   pub mod simple_vector_storage;</div><div class="diff-added">+   pub mod memmap_vector_storage;</div><div class="diff-added">+   ```</div><div class="diff-added">+</div><div class="diff-added">+6. **Commit (3616631):** Adds `mmap_vectors` (private):</div><div class="diff-added">+   ```rust</div><div class="diff-added">+   pub mod vector_storage;</div><div class="diff-added">+   pub mod simple_vector_storage;</div><div class="diff-added">+   pub mod memmap_vector_storage;</div><div class="diff-added">+   mod mmap_vectors;</div><div class="diff-added">+   ```</div><div class="diff-added">+</div><div class="diff-added">+7. **Commit (a667747):** Reorders the modules (due to rustfmt):</div><div class="diff-added">+   ```rust</div><div class="diff-added">+   pub mod memmap_vector_storage;</div><div class="diff-added">+   mod mmap_vectors;</div><div class="diff-added">+   pub mod simple_vector_storage;</div><div class="diff-added">+   pub mod vector_storage;</div><div class="diff-added">+   ```</div><div class="diff-added">+</div><div class="diff-added">+8. **Commit (93e0fb5):** Renames `vector_storage` to `vector_storage_base` and reexports:</div><div class="diff-added">+   ```rust</div><div class="diff-added">+   pub mod memmap_vector_storage;</div><div class="diff-added">+   mod mmap_vectors;</div><div class="diff-added">+   pub mod simple_vector_storage;</div><div class="diff-added">+   mod vector_storage_base;</div><div class="diff-added">+   </div><div class="diff-added">+   pub use vector_storage_base::*;</div><div class="diff-added">+   ```</div><div class="diff-added">+</div><div class="diff-added">+9. **Commit (757652c):** Adds `chunked_vectors`:</div><div class="diff-added">+   ```rust</div><div class="diff-added">+   pub mod chunked_vectors;</div><div class="diff-added">+   pub mod memmap_vector_storage;</div><div class="diff-added">+   mod mmap_vectors;</div><div class="diff-added">+   pub mod simple_vector_storage;</div><div class="diff-added">+   mod vector_storage_base;</div><div class="diff-added">+   </div><div class="diff-added">+   pub use vector_storage_base::*;</div><div class="diff-added">+   ```</div><div class="diff-added">+</div><div class="diff-added">+10. **Commit (ef67a2e):** Adds `storage_points_iterator`:</div><div class="diff-added">+    ```rust</div><div class="diff-added">+    pub mod chunked_vectors;</div><div class="diff-added">+    pub mod memmap_vector_storage;</div><div class="diff-added">+    mod mmap_vectors;</div><div class="diff-added">+    pub mod simple_vector_storage;</div><div class="diff-added">+    pub mod storage_points_iterator;</div><div class="diff-added">+    mod极 storage_base;</div><div class="diff-added">+    </div><div class="diff-added">+    pub use vector_storage_base::*;</div><div class="diff-added">+    ```</div><div class="diff-added">+</div><div class="diff-added">+11. **Commit (850e937):** Removes `storage_points_iterator`:</div><div class="diff-added">+    ```rust</div><div class="diff-added">+    pub mod chunked_vectors;</div><div class="diff-added">+    pub mod memmap_vector_storage;</div><div class="diff-added">+    mod mmap_vectors;</div><div class="diff-added">+    pub mod simple_vector_storage;</div><div class="diff-added">+    mod vector_storage_base;</div><div class="diff-added">+    </div><div class="diff-added">+    pub use vector_storage_base::*;</div><div class="diff-added">+    ```</div><div class="diff-added">+</div><div class="diff-added">+12. **Commit (128e49f):** Adds `quantized` (private):</div><div class="diff-added">+    ```rust</div><div class="diff-added">+    pub极 chunked_vectors;</div><div class="diff-added">+    pub mod memmap_vector_storage;</div><div class="diff-added">+    mod mmap_vectors;</div><div class="diff-added">+    mod quantized;</div><div class="diff-added">+    pub mod simple_vector_storage;</div><div class="diff-added">+    mod vector_storage_base;</div><div class="diff-added">+    </div><div class="diff-added">+    pub use vector_storage_base::*;</div><div class="diff-added">+    ```</div><div class="diff-added">+</div><div class="diff-added">+13. **Commit (e3448c0):** Makes `quantized` public and adds `raw_scorer` (public) and reexports:</div><div class="diff-added">+    ```rust</div><div class="diff-added">+    pub mod chunked_vectors;</div><div class="diff-added">+    pub mod memmap_vector_storage;</div><div class="diff-added">+    mod mmap_vectors;</div><div class="diff-added">+    pub mod quantized;</div><div class="diff-added">+    pub mod raw_scorer;</div><div class="diff-added">+    pub mod simple_vector_storage;</div><div class="diff-added">+    mod vector_storage_base;</div><div class="diff-added">+    </div><div class="diff-added">+    pub use raw_scorer::*;</div><div class="diff-added">+    pub use vector_storage_base::*;</div><div class="diff-added">+    ```</div><div class="diff-added">+</div><div class="diff-added">+14. **Commit (511704d):** Adds the `div_ceil` function at the end:</div><div class="diff-added">+    ```rust</div><div class="diff-added">+    pub mod chunked_vectors;</div><div class="diff-added">+    pub mod memmap_vector_storage;</div><div class="diff-added">+    mod mmap_vectors;</div><div class="diff-added">+    pub mod quantized;</div><div class="diff-added">+    pub mod raw_scorer;</div><div class="diff-added">+    pub mod simple_vector_storage;</div><div class="diff-added">+    mod vector_storage_base;</div><div class="diff-added">+    </div><div class="diff-added">+    pub use raw_scorer::*;</div><div class="diff-added">+    pub use vector_storage_base::*;</div><div class="diff-added">+    </div><div class="diff-added">+    /// Calculates the quotient of self and rhs, rounding the result towards positive infinity.</div><div class="diff-added">+    ///</div><div class="diff-added">+    /// # Panics</div><div class="diff-added">+    ///</div><div class="diff-added">+    /// This function will panic if rhs is zero.</div><div class="diff-added">+    ///</div><div class="diff-added">+    /// # Overflow behavior</div><div class="diff-added">+    ///</div><div class="diff-added">+    /// On overflow, this function will panic if overflow checks are enabled (default in debug mode)</div><div class="diff-added">+    /// and wrap if overflow checks are disabled (default in release mode).</div><div class="diff-added">+    // Can be replaced with stdlib once it stabilizes:</div><div class="diff-added">+    // - <https://github.com/rust-lang/rust/issues/88581></div><div class="diff-added">+    // - <https://doc.rust-lang.org/std/primitive.usize.html极method.div_ceil></div><div class="diff-added">+    #[inline]</div><div class="diff-added">+    const fn div_ceil(a: usize, b: usize) -> usize {</div><div class="diff-added">+        (a + b - 1) / b</div><div class="diff-added">+    }</div><div class="diff-added">+    ```</div><div class="diff-added">+</div><div class="diff-added">+15. **Commit (45ae3e0):** Adds several new modules and changes:</div><div class="diff-added">+    - `appendable_mmap_vector_storage`</div><div class="diff-added">+    - `chunked_mmap_vectors`</div><div class="diff-added">+    - `chunked_utils`</div><div class="diff-added">+    - `dynamic_mmap_flags`</div><div class="diff-added">+    - Also adds `tests` module (cfg test)</div><div class="diff-added">+    ```rust</div><div class="diff-added">+    pub mod appendable_mmap_vector_storage;</div><div class="diff-added">+    mod chunked_mmap_vectors;</div><div class="diff-added">+    mod chunked_utils;</div><div class="diff-added">+    pub mod chunked_vectors;</div><div class="diff-added">+    mod dynamic_mmap_flags;</div><div class="diff-added">+    pub mod memmap_vector_storage;</div><div class="diff-added">+    mod mmap_vectors;</div><div class="diff-added">+    pub mod quantized;</div><div class="diff-added">+    pub mod raw_scorer;</div><div class="diff-added">+    pub mod simple_vector_storage;</div><div class="diff-added">+    mod vector_storage_base;</div><div class="diff-added">+    </div><div class="diff-added">+    #[cfg(test)]</div><div class="diff-added">+    mod tests;</div><div class="diff-added">+    </div><div class="diff-added">+    pub use raw_scorer::*;</div><div class="diff-added">+    pub use vector_storage_base::*;</div><div class="diff-added">+    </div><div class="diff-added">+    /// Calculates the quotient of self and rhs, rounding the result towards positive infinity.</div><div class="diff-added">+    ///</div><div class="diff-added">+    /// # Panics</div><div class="diff-added">+    ///</div><div class="diff-added">+    /// This function will panic if rhs is zero.</div><div class="diff-added">+    ///</div><div class="diff-added">+    /// # Overflow behavior</div><div class="diff-added">+    ///</div><div class="diff-added">+    /// On overflow, this function will panic if overflow checks are enabled (default in debug mode)</div><div class="diff-added">+    /// and wrap if overflow checks are disabled (default in release mode).</div><div class="diff-added">+    // Can be replaced with stdlib once it stabilizes:</div><div class="diff-added">+    // - <https://github.com/rust-lang/rust/issues/88581></div><div class="diff-added">+    // - <https://doc.rust极ng.org/std/primitive.usize.html#method.div_ceil></div><div class="diff-added">+    #[inline]</div><div class="diff-added">+    const fn div_ceil(a: usize, b: usize) -> usize {</div><div class="diff-added">+        (a + b - 1) / b</div><div class="diff-added">+    }</div><div class="diff-added">+    ```</div><div class="diff-added">+</div><div class="diff-added">+16. **Commit (f5dfeef):** Changes `div_ceil` to `pub(crate)`:</div><div class="diff-added">+    ```rust</div><div class="diff-added">+    #[inline]</div><div class="diff-added">+    pub(crate) const fn div_ceil(a: usize, b: usize) -> usize {</div><div class="diff-added">+        (a + b - 1) / b</div><div class="diff-added">+    }</div><div class="diff-added">+    ```</div><div class="diff-added">+</div><div class="diff-added">+17. **Commit (3867bf8):** Adds `async_raw_scorer` (conditional on Linux) and `async_io` and `async_io_mock` modules:</div><div class="diff-added">+    ```rust</div><div class="diff-added">+    pub mod appendable_mmap_vector_storage;</div><div class="diff-added">+    #[cfg(target_os = "linux")]</div><div class="diff-added">+    pub mod async_raw_scorer;</div><div class="diff-added">+    mod chunked_mmap_vectors;</div><div class="diff-added">+    mod chunked_utils;</div><div class="diff-added">+    pub mod chunked_vectors;</div><div class="diff-added">+    mod dynamic_mmap_flags;</div><div class="diff-added">+    pub mod memmap_vector_storage;</div><div class="diff-added">+    mod mmap_vectors;</div><div class="diff-added">+    pub mod quantized;</div><div class="diff-added">+    pub mod raw_scorer;</div><div class="diff-added">+    pub mod simple_vector_storage;</div><div class="diff-added">+    mod vector_storage_base;</div><div class="diff-added">+    </div><div class="diff-added">+    #[cfg(test)]</div><div class="diff-added">+    mod tests;</div><div class="diff-added">+    </div><div class="diff-added">+    #[cfg(target_os = "linux")]</div><div class="diff-added">+    mod async_io;</div><div class="diff-added">+    mod async_io_mock;</div><div class="diff-added">+    </div><div class="diff-added">+    pub use raw极orer::*;</div><div class="diff-added">+    pub use vector_storage_base::*;</div><div class="diff-added">+    </div><div class="diff-added">+    /// Calculates the quotient of self and rhs, rounding the result towards positive infinity.</div><div class="diff-added">+    ///</div><div class="diff-added">+    /// # Panics</div><div class="diff-added">+    ///</div><div class="diff-added">+    /// This function will panic if rhs is zero.</div><div class="diff-added">+    ///</div><div class="diff-added">+    /// # Overflow behavior</div><div class="diff-added">+    ///</div><div class="diff-added">+    /// On overflow, this function will panic if overflow checks are enabled (default in debug mode)</div><div class="diff-added">+    /// and wrap if overflow checks are disabled (default in release mode).</div><div class="diff-added">+    // Can be replaced with stdlib once it stabilizes:</div><div class="diff-added">+    // - <https://github.com/rust-lang/rust/issues/88581></div><div class="diff-added">+    // - <https://doc.rust-lang.org/std/primitive.usize.html#method.div_ceil></div><div class="diff-added">+    #[inline]</div><div class="diff-added">+    pub(crate) const fn div_ceil(a: usize, b: usize) -> usize {</div><div class="diff-added">+        (a + b - 1) / b</div><div class="diff-added">+    }</div><div class="diff-added">+    ```</div><div class="diff-added">+</div><div class="diff-added">+18. **Commit (3839e75):** Adds `common` module:</div><div class="diff-added">+    ```rust</div><div class="diff-added">+    #[cfg(target_os = "linux")]</div><div class="diff-added">+    mod async_io;</div><div class="diff-added">+    mod async_io_mock;</div><div class="diff-added">+    pub mod common;</div><div class="diff-added">+    ```</div><div class="diff-added">+</div><div class="diff-added">+19. **Commit (47274b2):** Adds `query_scorer` module:</div><div class="diff-added">+    ```rust</div><div class="diff-added">+    pub mod common;</div><div class="diff-added">+    mod query_scorer;</div><div class="diff-added">+    ```</div><div class="diff-added">+</div><div class="diff-added">+20. **Commit (67c2a41):** Adds `query` module:</div><div class="diff-added">+    ```rust</div><div class="diff-added">+    pub mod common;</div><div class="diff-added">+    pub mod query;</div><div class="diff-added">+    mod query_scorer;</div><div class="diff-added">+    ```</div><div class="diff-added">+</div><div class="diff-added">+21. **Commit (cc69ec7):** Adds `bitvec` and `simple_sparse_vector_storage` modules:</div><div class="diff-added">+    ```rust</div><div class="diff-added">+    mod bitvec;</div><div class="diff-added">+    pub mod common;</div><div class="diff-added">+    pub mod query;</div><div class="diff-added">+    mod query_scorer;</div><div class="diff-added">+    mod simple_sparse_vector_storage;</div><div class="diff-added">+    ```</div><div class="diff-added">+</div><div class="diff-added">+22. **Commit (cbf1811):** Adds `sparse_raw_scorer` module:</div><div class="diff-added">+    ```rust</div><div class="diff-added">+    mod simple_sparse_vector_storage;</div><div class="diff-added">+    mod sparse_raw_scorer;</div><div class="diff-added">+    ```</div><div class="diff-added">+</div><div class="diff-added">+23. **Commit (d5f98d8):** Makes `simple_sparse_vector_storage` and `sparse_raw_scorer` public:</div><div class="diff-added">+    ```rust</div><div class="diff-added">+    pub mod simple_sparse_vector_storage;</div><div class="diff-added">+    pub mod sparse_raw_scorer;</div><div class="diff-added">+    ```</div><div class="diff-added">+</div><div class="diff-added">+24. **Commit (6534ea9):** Removes the `div_ceil` function (as it is now in std):</div><div class="diff-added">+    So the function is removed entirely.</div><div class="diff-added">+</div><div class="diff-added">+25. **Commit (d5a705e):** Removes `sparse_raw_scorer` module:</div><div class="diff-added">+    So we remove that line.</div><div class="diff-added">+</div><div class="diff-added">+26. **Commit (8c93500):** Renames `simple_vector_storage` to `simple_dense_vector_storage`:</div><div class="diff-added">+    So change:</div><div class="diff-added">+    `pub mod simple_vector_storage;` to `pub mod simple_dense_vector_storage;`</div><div class="diff-added">+</div><div class="diff-added">+27. **Commit (d1d69d1):** Renames several modules for clarity:</div><div class="diff-added">+    - `appendable_mmap_vector_storage` -> `appendable_mmap_dense_vector_storage`</div><div class="diff-added">+    - `memmap_vector_storage` -> `memmap_dense_vector_storage`</div><div class="diff-added">+    - `mmap_vectors` -> `mmap_dense_vectors`</div><div class="diff-added">+    So we update accordingly.</div><div class="diff-added">+</div><div class="diff-added">+28. **Commit (1808d2a):** Adds `simple_multi_dense_vector_storage` module:</div><div class="diff-added">+    ```rust</div><div class="diff-added">+    mod simple_multi_dense_vector_storage;</div><div class="diff-added">+    ```</div><div class="diff-added">+</div><div class="diff-added">+29. **Commit (1e6998e):** Makes `simple_multi_dense_vector_storage` public:</div><div class="diff-added">+    `pub mod simple_multi极ense_vector_storage;`</div><div class="diff-added">+</div><div class="diff-added">+30. **Commit (6b3629e):** Refactors to be generic over type. Moves dense-related modules into a `dense` submodule.</div><div class="diff-added">+    This commit removes:</div><div class="diff-added">+    - `appendable_mmap_dense_vector_storage`</div><div class="diff-added">+    - `memmap_dense_vector_storage`</div><div class="diff-added">+    - `mmap_dense_vectors`</div><div class="diff-added">+    - `simple_dense_vector_storage`</div><div class="diff-added">+    And adds:</div><div class="diff-added">+    `pub mod dense;`</div><div class="diff-added">+    So now the file has:</div><div class="diff-added">+    ```rust</div><div class="diff-added">+    #[cfg(target_os = "linux")]</div><div class="diff-added">+    pub mod async_raw_scorer;</div><div class="diff-added">+    mod chunked_mmap_vectors;</div><div class="diff-added">+    mod chunked_utils;</div><div class="diff-added">+    pub mod chunked_vectors;</div><div class="diff-added">+    mod dynamic_mmap_flags;</div><div class="diff-added">+    pub mod quantized;</div><div class="diff-added">+    pub mod raw_scorer;</div><div class="diff-added">+    mod vector_storage_base;</div><div class="diff-added">+    </div><div class="diff-added">+    #[cfg(test)]</div><div class="diff-added">+    mod tests;</div><div class="diff-added">+    </div><div class="diff-added">+    #[cfg(target_os = "linux")]</div><div class="diff-added">+    mod async_io;</div><div class="diff-added">+    mod async_io_mock;</div><div class="diff-added">+    mod bitvec;</div><div class="diff-added">+    pub mod common;</div><div class="diff-added">+    pub mod dense;</div><div class="diff-added">+    pub mod query;</div><div class="diff-added">+    mod query_scorer;</div><div class="diff-added">+    pub mod simple_multi_dense_vector_storage;</div><div class="diff-added">+    pub mod simple_sparse_vector_storage;</div><div class="diff-added">+    </div><div class="diff-added">+    pub use raw_scorer::*;</div><div class="diff-added">+    pub use vector_storage_base::*;</div><div class="diff-added">+    ```</div><div class="diff-added">+    Note: `dynamic_mmap_flags` is still there.</div><div class="diff-added">+</div><div class="diff-added">+31. **Commit (8bdc8a3):** Moves `simple_multi_dense_vector_storage` into a `multi_dense` module:</div><div class="diff-added">+    So we replace:</div><div class="diff-added">+    `pub mod simple_multi_dense_vector_storage;`</div><div class="diff-added">+    with:</div><div class="diff-added">+    `pub mod multi_dense;`</div><div class="diff-added">+</div><div class="diff-added">+32. **Commit (649560f):** Adds `chunked_vector_storage` and `in_ram_persisted_vectors` modules:</div><div class="diff-added">+    ```rust</div><div class="diff-added">+    pub mod chunked_vector_storage;</div><div class="diff-added">+    pub mod common;</div><div class="diff-added">+    pub mod dense;</div><div class="diff-added">+    mod in_ram_persisted_vectors;</div><div class="diff-added">+    pub mod multi_dense;</div><div class="diff-added">+    pub mod query;</div><div class="diff-added">+    mod query_scorer;</div><div class="diff-added">+    pub mod simple_sparse_vector_storage;</div><div class="diff-added">+    ```</div><div class="diff-added">+</div><div class="diff-added">+33. **Commit (7c5b8a0):** Removes `chunked_utils` module (so remove that line).</div><div class="diff-added">+</div><div class="diff-added">+34. **Commit (c10c145):** Adds `mmap_sparse_vector_storage` module:</div><div class="diff-added">+    ```rust</div><div class="diff-added">+    pub mod mmap_sparse_vector_storage;</div><div class="diff-added">+    ```</div><div class="diff-added">+</div><div class="diff-added">+35. **Commit (443358d):** Restructures sparse storages: removes `mmap_sparse_vector_storage` and `simple_sparse_vector_storage`, and adds `sparse` module:</div><div class="diff-added">+    So replace:</div><div class="diff-added">+    ```rust</div><div class="diff-added">+    pub mod mmap_sparse_vector_storage;</div><div class="diff-added">+    pub mod simple_sparse_vector_storage;</div><div class="diff-added">+    ```</div><div class="diff-added">+    with:</div><div class="diff-added">+    `pub mod sparse;`</div><div class="diff-added">+</div><div class="diff-added">+Now, let's compile all these changes into the final state. The file should contain:</div><div class="diff-added">+</div><div class="diff-added">+```rust</div><div> #[cfg(target_os = "linux")]</div><div> pub mod async_raw_scorer;</div><div> mod chunked_mmap_vectors;</div><div class="diff-info">@@ -9,6 +400,85 @@ mod vector_storage_base;</div><div> #[cfg(test)]</div><div> mod tests;</div><div> </div><div class="diff-added">+#[cfg(target极s = "linux")]</div><div class="diff-added">+mod async_io;</div><div class="diff-added">+mod async_io_mock;</div><div class="diff-added">+mod bitvec;</div><div class="diff-added">+pub mod chunked_vector_storage;</div><div class="diff-added">+pub mod common;</div><div class="diff-added">+pub mod dense;</div><div class="diff-added">+mod in_ram_persisted_vectors;</div><div class="diff-added">+pub mod multi_dense;</div><div class="diff-added">+pub mod query;</div><div class="diff-added">+mod query_scorer;</div><div class="diff-added">+pub mod sparse;</div><div class="diff-added">+</div><div class="diff-added">+pub use raw_scorer::*;</div><div class="diff-added">+pub use vector_storage_base::*;</div><div class="diff-added">+```</div><div class="diff-added">+</div><div class="diff-added">+Note: The `dynamic_mmap_flags` module was present in commit 6b3629e but might have been moved into the `dense` module? However, since it is not explicitly removed in subsequent commits, it should still be there. But looking at the last few commits, it is not listed. Actually, in commit 6b3629e, we have `mod dynamic_mmap_flags;` still. But in the final state, it is not present. Let's check: in commit 6b3629e, we have:</div><div class="diff-added">+```rust</div><div class="diff-added">+mod dynamic_mmap_flags;</div><div class="diff-added">+```</div><div class="diff-added">+But in later commits, it is not touched. So it should remain.</div><div class="diff-added">+</div><div class="diff-added">+Wait, in commit 6b3629e, we have:</div><div class="diff-added">+```rust</div><div class="diff-added">+mod dynamic_mmap_flags;</div><div class="diff-added">+...</div><div class="diff-added">+pub mod dense;</div><div class="diff-added">+```</div><div class="diff-added">+So `dynamic_mmap_flags` is still at the top level. Then in subsequent commits, it is not removed. So it should be there.</div><div class="diff-added">+</div><div class="diff-added">+But in the final response, we need to include it. So the final list should include `dynamic_mmap_flags`.</div><div class="diff-added">+</div><div class="diff-added">+Therefore, the final content is:</div><div class="diff-added">+</div><div class="diff-added">+```rust</div><div class="diff-added">+#[cfg(target_os = "linux")]</div><div class="diff-added">+pub极 async_raw_scorer;</div><div class="diff-added">+mod chunked_mmap_vectors;</div><div class="diff-added">+pub mod chunked_vectors;</div><div class="diff-added">+mod dynamic_mmap_flags;</div><div class="diff-added">+pub mod quantized;</div><div class="diff-added">+pub mod raw_scorer;</div><div class="diff-added">+mod vector_storage_base;</div><div class="diff-added">+</div><div class="diff-added">+#[cfg(test)]</div><div class="diff-added">+mod tests;</div><div class="diff-added">+</div><div class="diff-added">+#[cfg(target_os = "linux")]</div><div class="diff-added">+mod async_io;</div><div class="diff-added">+mod async_io_mock;</div><div class="diff-added">+mod bitvec;</div><div class="diff-added">+pub mod chunked_vector_storage;</div><div class="diff-added">+pub mod common;</div><div class="diff-added">+pub mod dense;</div><div class="diff-added">+mod in_ram_persisted_vectors;</div><div class="diff-added">+pub mod multi_dense;</div><div class="diff-added">+pub mod query;</div><div class="diff-added">+mod query_scorer;</div><div class="diff-added">+pub mod sparse;</div><div class="diff-added">+</div><div class="diff-added">+pub use raw_scorer::*;</div><div class="diff-added">+pub use vector_storage_base::*;</div><div class="diff-added">+```</div><div class="diff-added">+</div><div class="diff-added">+Now, output this in the required format.</div><div class="diff-added">+```rust</div><div class="diff-added">+#[cfg(target_os = "linux")]</div><div class="diff-added">+pub mod async_raw_scorer;</div><div class="diff-added">+mod chunked_mmap_vectors;</div><div class="diff-added">+pub mod chunked_vectors;</div><div class="diff-added">+mod dynamic_mmap_flags;</div><div class="diff-added">+pub极 quantized;</div><div class="diff-added">+pub mod raw_scorer;</div><div class="diff-added">+mod vector_storage_base;</div><div class="diff-added">+</div><div class="diff-added">+#[cfg(test)]</div><div class="diff-added">+mod tests;</div><div class="diff-added">+</div><div> #[cfg(target_os = "linux")]</div><div> mod async_io;</div><div> mod async_io_mock;</div><div></div></pre>
                </div>
            </div>
        </section>
    </main>
    <footer>
        <p>LoCoDiff-bench - <a href="https://github.com/AbanteAI/LoCoDiff-bench">GitHub Repository</a></p>
    </footer>
</body>
</html>
    