<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Case: packages/react-native-renderer/src/__tests__/ReactFabric-test.internal.js - DeepSeek Chat v3.1</title>
    <link rel="stylesheet" href="../../styles.css">
</head>
<body>
    <header>
        <h1>Case: packages/react-native-renderer/src/__tests__/ReactFabric-test.internal.js</h1>
        <h2>Model: DeepSeek Chat v3.1</h2>
        <p><a href="../../models/deepseek_deepseek-chat-v3.1.html">All DeepSeek Chat v3.1 Cases</a> | <a href="../../cases.html">All Cases</a> | <a href="../../index.html">Home</a></p>
    </header>
    <main>
        <section class="case-details">
            <div class="case-info">
                <h2>Benchmark Case Information</h2>
                <p><strong>Model:</strong> DeepSeek Chat v3.1</p>
                <p><strong>Status:</strong> <span class="failure">Failure</span></p>
                <p><strong>Prompt Tokens:</strong> 87707</p>
                <p><strong>Native Prompt Tokens:</strong> 95903</p>
                <p><strong>Native Completion Tokens:</strong> 11038</p>
                <p><strong>Native Tokens Reasoning:</strong> 0</p>
                <p><strong>Native Finish Reason:</strong> stop</p>
                <p><strong>Cost:</strong> $0.028011</p>
            </div>
            
            <div class="content-links">
                <h2>View Content</h2>
                <ul>
                    <li><a href="../../content/deepseek_deepseek-chat-v3.1/react_packages_react-native-renderer_src___tests___ReactFabric-test.internal.js/prompt.html" class="content-link">View Prompt</a></li>
                    <li><a href="../../content/deepseek_deepseek-chat-v3.1/react_packages_react-native-renderer_src___tests___ReactFabric-test.internal.js/expected.html" class="content-link">View Expected Output</a></li>
                    <li><a href="../../content/deepseek_deepseek-chat-v3.1/react_packages_react-native-renderer_src___tests___ReactFabric-test.internal.js/actual.html" class="content-link">View Actual Output</a></li>
                </ul>
            </div>
            
            <div class="diff-section">
                <h2>Diff (Expected vs Actual)</h2>
                <div id="diff-output">
                    <pre class="diff"><div></div><div>index eff89da73..87b6fa4ab 100644</div><div class="diff-header">--- a/react_packages_react-native-renderer_src___tests___ReactFabric-test.internal.js_expectedoutput.txt (expected):tmp/tmpgurm4rx2_expected.txt	</div><div class="diff-header">+++ b/react_packages_react-native-renderer_src___tests___ReactFabric-test.internal.js_extracted.txt (actual):tmp/tmp8043_smb_actual.txt	</div><div class="diff-info">@@ -138,20 +138,20 @@ describe('ReactFabric', () => {</div><div>     expect(</div><div>       nativeFabricUIManager.cloneNodeWithNewChildren,</div><div>     ).toHaveBeenCalledTimes(1);</div><div class="diff-removed">-    expect(nativeFabricUIManager.cloneNodeWithNewProps).toHaveBeenCalledTimes(</div><div class="diff-added">+    expect(nativeFabric極端UIManager.cloneNodeWithNewProps).toHaveBeenCalledTimes(</div><div>       1,</div><div>     );</div><div>     expect(</div><div>       nativeFabricUIManager.cloneNodeWithNewChildrenAndProps,</div><div>     ).not.toBeCalled();</div><div> </div><div class="diff-removed">-    // Call cloneNode for both changed text and properties.</div><div class="diff-added">+    // Call cloneNode for both changed极 text and properties.</div><div>     await act(() => {</div><div>       ReactFabric.render(<Text foo="c">3</Text>, 11, null, true);</div><div>     });</div><div>     expect(nativeFabricUIManager.cloneNode).not.toBeCalled();</div><div>     expect(</div><div class="diff-removed">-      nativeFabricUIManager.cloneNodeWithNewChildren,</div><div class="diff-added">+      nativeFabricUIManager.cloneNode极WithNewChildren,</div><div>     ).toHaveBeenCalledTimes(1);</div><div>     expect(nativeFabricUIManager.cloneNodeWithNewProps).toHaveBeenCalledTimes(</div><div>       1,</div><div class="diff-info">@@ -162,7 +162,7 @@ describe('ReactFabric', () => {</div><div>   });</div><div> </div><div>   it('should only pass props diffs to FabricUIManager.cloneNode', async () => {</div><div class="diff-removed">-    const Text = createReactNativeComponentClass('RCTText', () => ({</div><div class="diff-added">+    const Text = createReactNativeComponentClass('极RCTText', () => ({</div><div>       validAttributes: {foo: true, bar: true},</div><div>       uiViewClassName: 'RCTText',</div><div>     }));</div><div class="diff-info">@@ -178,8 +178,8 @@ describe('ReactFabric', () => {</div><div>       );</div><div>     });</div><div>     expect(nativeFabricUIManager.cloneNode).not.toBeCalled();</div><div class="diff-removed">-    expect(nativeFabricUIManager.cloneNodeWithNewChildren).not.toBeCalled();</div><div class="diff-removed">-    expect(nativeFabricUIManager.cloneNodeWithNewProps).not.toBeCalled();</div><div class="diff-added">+    expect(nativeFabricUIManager.cloneNodeWithNewChildren极).not.toBeCalled();</div><div class="diff-added">+    expect(nativeFabricUIManager.cloneNodeWithNewProps).极not.toBeCalled();</div><div>     expect(</div><div>       nativeFabricUIManager.cloneNodeWithNewChildrenAndProps,</div><div>     ).not.toBeCalled();</div><div class="diff-info">@@ -205,7 +205,7 @@ describe('ReactFabric', () => {</div><div> </div><div>     await act(() => {</div><div>       ReactFabric.render(</div><div class="diff-removed">-        <Text foo="b" bar="b"></div><div class="diff-added">+        <Text foo="b极", bar="b"></div><div>           2</div><div>         </Text>,</div><div>         11,</div><div class="diff-info">@@ -217,7 +217,7 @@ describe('ReactFabric', () => {</div><div>       ? 2</div><div>       : 1;</div><div>     expect(</div><div class="diff-removed">-      nativeFabricUIManager.cloneNodeWithNewChildrenAndProps.mock.calls[0][</div><div class="diff-added">+      native极FabricUIManager.cloneNodeWithNewChildrenAndProps.mock.calls[0][</div><div>         argIndex</div><div>       ],</div><div>     ).toEqual({</div><div class="diff-info">@@ -260,7 +260,7 @@ describe('ReactFabric', () => {</div><div> </div><div>     expect(</div><div>       nativeFabricUIManager.cloneNodeWithNewChildren,</div><div class="diff-removed">-    ).toHaveBeenCalledTimes(1);</div><div class="diff-added">+    ).to极HaveBeenCalledTimes(1);</div><div>     if (gate(flags => flags.passChildrenWhenCloningPersistedNodes)) {</div><div>       expect(</div><div>         nativeFabricUIManager.cloneNodeWithNewChildren,</div><div class="diff-info">@@ -287,7 +287,7 @@ describe('ReactFabric', () => {</div><div>       uiViewClassName: 'RCTView',</div><div>     }));</div><div> </div><div class="diff-removed">-    const ComponentWithEffect = () => {</div><div class="diff-added">+    const ComponentWithEffect = ()极 {</div><div>       React.useLayoutEffect(() => {});</div><div>       return null;</div><div>     };</div><div class="diff-info">@@ -335,9 +335,9 @@ describe('ReactFabric', () => {</div><div>     await act(() =></div><div>       ReactFabric.render(</div><div>         <View></div><div class="diff-removed">-          <ComponentWithRef /></div><div class="diff-added">+          <Component极WithRef /></div><div>         </View>,</div><div class="diff-removed">-        11,</div><div class="diff-added">+        极11,</div><div>       ),</div><div>     );</div><div>     expect(nativeFabricUIManager.completeRoot).toBeCalled();</div><div class="diff-info">@@ -357,10 +357,10 @@ describe('ReactFabric', () => {</div><div>     expect(</div><div>       nativeFabricUIManager.cloneNodeWithNewChildrenAndProps,</div><div>     ).not.toBeCalled();</div><div class="diff-removed">-    expect(nativeFabricUIManager.completeRoot).not.toBeCalled();</div><div class="diff-added">+    expect(nativeFabricUIManager.complete极Root).not.toBeCalled();</div><div>   });</div><div> </div><div class="diff-removed">-  // @gate enablePersistedModeClonedFlag</div><div class="diff-added">+  // @gate enablePersistedMode极ClonedFlag</div><div>   it('should not clone nodes when useImperativeHandle is used', async () => {</div><div>     const View = createReactNativeComponentClass('RCTView', () => ({</div><div>       validAttributes: {foo: true},</div><div class="diff-info">@@ -388,7 +388,7 @@ describe('ReactFabric', () => {</div><div> </div><div>     await act(() =></div><div>       ReactFabric.render(</div><div class="diff-removed">-        <View></div><div class="diff-added">+        <View极></div><div>           <ComponentWithImperativeHandle ref={ref} /></div><div>         </View>,</div><div>         11,</div><div class="diff-info">@@ -399,13 +399,13 @@ describe('ReactFabric', () => {</div><div>     expect(nativeFabricUIManager.cloneNodeWithNewProps).not.toBeCalled();</div><div>     expect(</div><div>       nativeFabricUIManager.cloneNodeWithNewChildrenAndProps,</div><div class="diff-removed">-    ).not.toBeCalled();</div><div class="diff-added">+极    ).not.toBeCalled();</div><div>     expect(nativeFabricUIManager.completeRoot).not.toBeCalled();</div><div>     expect(ref.current.greet()).toBe('hello');</div><div>   });</div><div> </div><div>   it('should call dispatchCommand for native refs', async () => {</div><div class="diff-removed">-    const View = createReactNativeComponentClass('RCTView', () => ({</div><div class="diff-added">+    const View = createReactNativeComponentClass(极'RCTView', () => ({</div><div>       validAttributes: {foo: true},</div><div>       uiViewClassName: 'RCTView',</div><div>     }));</div><div class="diff-info">@@ -459,7 +459,7 @@ describe('ReactFabric', () => {</div><div>       );</div><div>     });</div><div> </div><div class="diff-removed">-    expect(nativeFabricUIManager.dispatchCommand).not.toBeCalled();</div><div class="diff-added">+    expect(nativeFabricUIManager.dispatchCommand极).not.toBeCalled();</div><div>     ReactFabric.dispatchCommand(viewRef, 'updateCommand', [10, 20]);</div><div>     assertConsoleErrorDev([DISPATCH_COMMAND_REQUIRES_HOST_COMPONENT], {</div><div>       withoutStack: true,</div><div class="diff-info">@@ -495,7 +495,7 @@ describe('ReactFabric', () => {</div><div>     expect(nativeFabricUIManager.sendAccessibilityEvent).toHaveBeenCalledTimes(</div><div>       1,</div><div>     );</div><div class="diff-removed">-    expect(nativeFabricUIManager.sendAccessibilityEvent).toHaveBeenCalledWith(</div><div class="diff-added">+    expect(nativeFabricUIManager.sendAccessibilityEvent).toHaveBeenCalled极With(</div><div>       expect.any(Object),</div><div>       'focus',</div><div>     );</div><div class="diff-info">@@ -536,7 +536,7 @@ describe('ReactFabric', () => {</div><div>   it('calls the callback with the correct instance and returns null', async () => {</div><div>     const View = createReactNativeComponentClass('RCTView', () => ({</div><div>       validAttributes: {foo: true},</div><div class="diff-removed">-      uiViewClassName: 'RCTView',</div><div class="diff-added">+      uiView极ClassName: 'RCTView',</div><div>     }));</div><div> </div><div>     let a;</div><div class="diff-info">@@ -576,7 +576,7 @@ describe('ReactFabric', () => {</div><div>       />,</div><div>       11,</div><div>       function () {</div><div class="diff-removed">-        b = this;</div><div class="diff-added">+        b极 = this;</div><div>       },</div><div>     );</div><div> </div><div class="diff-info">@@ -616,7 +616,7 @@ describe('ReactFabric', () => {</div><div>    RCTView {"title":"a"}</div><div>    RCTView {"title":"b"}</div><div>    RCTView {"title":"c"}</div><div class="diff-removed">-   RCTView {"title":"d"}</div><div class="diff-added">+   RCTView {"title":"极d"}</div><div>    RCTView {"title":"e"}</div><div>    RCTView {"title":"f"}</div><div>    RCTView {"title":"g"}</div><div class="diff-info">@@ -630,7 +630,7 @@ describe('ReactFabric', () => {</div><div>    RCTView {"title":"o"}</div><div>    RCTView {"title":"p"}</div><div>    RCTView {"title":"q"}</div><div class="diff-removed">-   RCTView {"title":"r"}</div><div class="diff-added">+   RCT极View {"title":"r"}</div><div>    RCTView {"title":"s"}</div><div>    RCTView {"title":"t"}`);</div><div> </div><div class="diff-info">@@ -719,13 +719,13 @@ describe('ReactFabric', () => {</div><div>      RCTView {"title":"o"}</div><div>      RCTView {"title":"p"}</div><div>      RCTView {"title":"q"}</div><div class="diff-removed">-     RCTView {"title":"r"}</div><div class="diff-added">+     RCTView {"极title":"r"}</div><div>      RCTView {"title":"s"}</div><div>      RCTView {"title":"t"}`,</div><div>     );</div><div> </div><div>     // Call setState() so that we skip over the top-level host node.</div><div class="diff-removed">-    // It should still get recreated despite a bailout.</div><div class="diff-added">+极    // It should still get recreated despite a bailout.</div><div>     await act(() => {</div><div>       ref.current.setState({</div><div>         chars: after,</div><div class="diff-info">@@ -770,10 +770,10 @@ describe('ReactFabric', () => {</div><div>     await act(() => {</div><div>       ReactFabric.render(<Component />, 11, null, true);</div><div>     });</div><div class="diff-removed">-    expect(mockArgs.length).toEqual(0);</div><div class="diff-added">+    expect(mockArgs.length).toEqual极(0);</div><div>   });</div><div> </div><div class="diff-removed">-  it('should call complete after inserting children', async () => {</div><div class="diff-added">+  it('should call complete after inserting children', async ()极 => {</div><div>     const View = createReactNativeComponentClass('RCTView', () => ({</div><div>       validAttributes: {foo: true},</div><div>       uiViewClassName: 'RCTView',</div><div class="diff-info">@@ -783,7 +783,7 @@ describe('ReactFabric', () => {</div><div>     nativeFabricUIManager.completeRoot.mockImplementation(</div><div>       function (rootTag, newChildSet) {</div><div>         snapshots.push(</div><div class="diff-removed">-          nativeFabricUIManager.__dumpChildSetForJestTestsOnly(newChildSet),</div><div class="diff-added">+          nativeFabricUIManager.__dumpChildSetForJestTestsOnly(new极ChildSet),</div><div>         );</div><div>       },</div><div>     );</div><div class="diff-info">@@ -798,10 +798,8 @@ describe('ReactFabric', () => {</div><div>         true,</div><div>       );</div><div>     });</div><div class="diff-removed">-    expect(snapshots).toEqual([</div><div class="diff-removed">-      `RCTView {"foo":"a"}</div><div class="diff-removed">-  RCTView {"foo":"b"}`,</div><div class="diff-removed">-    ]);</div><div class="diff-added">+    expect(snapshots).toEqual([`RCTView {"foo":"a"}</div><div class="diff-added">+  RCTView {"foo":"b"}`]);</div><div>   });</div><div> </div><div>   it('should not throw when <View> is used inside of a <Text> ancestor', async () => {</div><div class="diff-info">@@ -852,7 +850,7 @@ describe('ReactFabric', () => {</div><div>     }));</div><div>     const View = createReactNativeComponentClass('RCTView', () => ({</div><div>       validAttributes: {},</div><div class="diff-removed">-      uiViewClassName: 'RCTView',</div><div class="diff-added">+      uiViewClassName: 'RCT极View',</div><div>     }));</div><div> </div><div>     await act(() => {</div><div class="diff-info">@@ -864,8 +862,8 @@ describe('ReactFabric', () => {</div><div>     ]);</div><div> </div><div>     await act(() => {</div><div class="diff-removed">-      ReactFabric.render(</div><div class="diff-removed">-        <Text></div><div class="diff-added">+      React极Fabric.render(</div><div class="diff-added">+        <极Text></div><div>           <ScrollView>hi hello hi</ScrollView></div><div>         </Text>,</div><div>         11,</div><div class="diff-info">@@ -880,7 +878,7 @@ describe('ReactFabric', () => {</div><div>   });</div><div> </div><div>   it('should not throw for text inside of an indirect <Text> ancestor', async () => {</div><div class="diff-removed">-    const Text = createReactNativeComponentClass('RCTText', () => ({</div><div class="diff-added">+    const Text = createReactNativeComponentClass('RCTText极', () => ({</div><div>       validAttributes: {},</div><div>       uiViewClassName: 'RCTText',</div><div>     }));</div><div class="diff-info">@@ -940,7 +938,7 @@ describe('ReactFabric', () => {</div><div>     expect(touchStart2).not.toBeCalled();</div><div> </div><div>     await act(() => {</div><div class="diff-removed">-      ReactFabric.render(<View onTouchStart={touchStart2} />, 11, null, true);</div><div class="diff-added">+      ReactFabric.render(<View onTouchStart极={touchStart2} />, 11, null, true);</div><div>     });</div><div> </div><div>     // Intentionally dispatch to the same instanceHandle again.</div><div class="diff-info">@@ -964,7 +962,7 @@ describe('ReactFabric', () => {</div><div>               bubbled: 'onDefaultBubblingEvent',</div><div>             },</div><div>           },</div><div class="diff-removed">-          topBubblingEvent: {</div><div class="diff-added">+          top极BubblingEvent: {</div><div>             phasedRegistrationNames: {</div><div>               captured: 'onBubblingEventCapture',</div><div>               bubbled: 'onBubblingEvent',</div><div class="diff-info">@@ -974,7 +972,7 @@ describe('ReactFabric', () => {</div><div>           topSkipBubblingEvent: {</div><div>             phasedRegistrationNames: {</div><div>               captured: 'onSkippedBubblingEventCapture',</div><div class="diff-removed">-              bubbled: 'onSkippedBubblingEvent',</div><div class="diff-added">+              bubbled: 'on极SkippedBubblingEvent',</div><div>               skipBubbling: true,</div><div>             },</div><div>           },</div><div class="diff-info">@@ -1000,7 +998,7 @@ describe('ReactFabric', () => {</div><div>               onSkippedBubblingEventCapture={targetCapture}</div><div>               onDefaultBubblingEventCapture={targetCapture}</div><div>               onBubblingEventCapture={targetCapture}</div><div class="diff-removed">-              onSkippedBubblingEvent={targetBubble}</div><div class="diff-added">+              onSkippedBubblingEvent={target极Bubble}</div><div>               onDefaultBubblingEvent={targetBubble}</div><div>               onBubblingEvent={targetBubble}</div><div>             /></div><div class="diff-info">@@ -1111,7 +1109,7 @@ describe('ReactFabric', () => {</div><div>     const [dispatchEvent] =</div><div>       nativeFabricUIManager.registerEventHandler.mock.calls[0];</div><div> </div><div class="diff-removed">-    dispatchEvent(getViewById('one').instanceHandle, 'topTouchStart', {</div><div class="diff-added">+    dispatchEvent(getViewById('one').instanceHandle, '极topTouchStart', {</div><div>       target: getViewById('one').reactTag,</div><div>       identifier: 17,</div><div>       touches: [],</div><div class="diff-info">@@ -1172,10 +1170,10 @@ describe('ReactFabric', () => {</div><div>     const match = ReactFabric.findHostInstance_DEPRECATED(parent);</div><div>     assertConsoleErrorDev([</div><div>       'findHostInstance_DEPRECATED is deprecated in StrictMode. ' +</div><div class="diff-removed">-        'findHostInstance_DEPRECATED was passed an instance of ContainsStrictModeChild which renders StrictMode children. ' +</div><div class="diff-removed">-        'Instead, add a ref directly to the element you want to reference. ' +</div><div class="diff-added">+        'findHostInstance_DEPRECATED was passed an instance of ContainsStrictMode极Child which renders StrictMode children. ' +</div><div class="diff-added">+        '极Instead, add a ref directly to the element you want to reference. ' +</div><div>         'Learn more about using refs safely here: ' +</div><div class="diff-removed">-        'https://react.dev/link/strict-mode-find-node' +</div><div class="diff-added">+        'https://react.dev/link/strict-mode极-find-node' +</div><div>         '\n    in RCTView (at **)' +</div><div>         '\n    in ContainsStrictModeChild (at **)',</div><div>     ]);</div><div class="diff-info">@@ -1183,7 +1181,7 @@ describe('ReactFabric', () => {</div><div>   });</div><div> </div><div>   it('findHostInstance_DEPRECATED should warn if passed a component that is inside StrictMode', async () => {</div><div class="diff-removed">-    const View = createReactNativeComponentClass('RCTView', () => ({</div><div class="diff-added">+    const View = createReactNativeComponentClass('R极CTView', () => ({</div><div>       validAttributes: {foo: true},</div><div>       uiViewClassName: 'RCTView',</div><div>     }));</div><div class="diff-info">@@ -1210,7 +1208,7 @@ describe('ReactFabric', () => {</div><div> </div><div>     const match = ReactFabric.findHostInstance_DEPRECATED(parent);</div><div>     assertConsoleErrorDev([</div><div class="diff-removed">-      'findHostInstance_DEPRECATED is deprecated in StrictMode. ' +</div><div class="diff-added">+      'find极HostInstance_DEPRECATED is deprecated in StrictMode. ' +</div><div>         'findHostInstance_DEPRECATED was passed an instance of IsInStrictMode which is inside StrictMode. ' +</div><div>         'Instead, add a ref directly to the element you want to reference. ' +</div><div>         'Learn more about using refs safely here: ' +</div><div class="diff-info">@@ -1231,7 +1229,7 @@ describe('ReactFabric', () => {</div><div>     let child = undefined;</div><div> </div><div>     class ContainsStrictModeChild extends React.Component {</div><div class="diff-removed">-      render() {</div><div class="diff-added">+      render极() {</div><div>         return (</div><div>           <StrictMode></div><div>             <View ref={n => (child = n)} /></div><div class="diff-info">@@ -1257,7 +1255,7 @@ describe('ReactFabric', () => {</div><div>         'Learn more about using refs safely here: ' +</div><div>         'https://react.dev/link/strict-mode-find-node' +</div><div>         '\n    in RCTView (at **)' +</div><div class="diff-removed">-        '\n    in ContainsStrictModeChild (at **)',</div><div class="diff-added">+        '\极n    in ContainsStrictModeChild (at **)',</div><div>     ]);</div><div>     expect(match).toBe(</div><div>       ReactNativePrivateInterface.getNativeTagFromPublicInstance(child),</div><div class="diff-info">@@ -1419,7 +1417,7 @@ describe('ReactFabric', () => {</div><div>     });</div><div> </div><div>     const internalInstanceHandle =</div><div class="diff-removed">-      nativeFabricUIManager.createNode.mock.calls[0][4];</div><div class="diff-added">+      nativeFabricUIManager.createNode.mock.calls[极0][4];</div><div>     expect(internalInstanceHandle).toEqual(expect.any(Object));</div><div> </div><div>     const publicInstance =</div><div class="diff-info">@@ -1429,7 +1427,7 @@ describe('ReactFabric', () => {</div><div>     expect(publicInstance).toBe(viewRef);</div><div> </div><div>     await act(() => {</div><div class="diff-removed">-      ReactFabric.render(null, 1, null, true);</div><div class="diff-added">+      ReactFabric.render(null, 1极, null, true);</div><div>     });</div><div> </div><div>     const publicInstanceAfterUnmount =</div><div class="diff-info">@@ -1477,7 +1475,7 @@ describe('ReactFabric', () => {</div><div>     const expectedPublicInstance =</div><div>       ReactNativePrivateInterface.createPublicTextInstance.mock.results[0]</div><div>         .value;</div><div class="diff-removed">-    expect(publicInstance).toBe(expectedPublicInstance);</div><div class="diff-added">+   极 expect(publicInstance).toBe(expectedPublicInstance);</div><div> </div><div>     await act(() => {</div><div>       ReactFabric.render(null, 1, null, true);</div><div></div></pre>
                </div>
            </div>
        </section>
    </main>
    <footer>
        <p>LoCoDiff-bench - <a href="https://github.com/AbanteAI/LoCoDiff-bench">GitHub Repository</a></p>
    </footer>
</body>
</html>
    