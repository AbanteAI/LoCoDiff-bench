<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Case: packages/tldraw/src/test/Editor.test.tsx - DeepSeek Chat v3.1</title>
    <link rel="stylesheet" href="../../styles.css">
</head>
<body>
    <header>
        <h1>Case: packages/tldraw/src/test/Editor.test.tsx</h1>
        <h2>Model: DeepSeek Chat v3.1</h2>
        <p><a href="../../models/deepseek_deepseek-chat-v3.1.html">All DeepSeek Chat v3.1 Cases</a> | <a href="../../cases.html">All Cases</a> | <a href="../../index.html">Home</a></p>
    </header>
    <main>
        <section class="case-details">
            <div class="case-info">
                <h2>Benchmark Case Information</h2>
                <p><strong>Model:</strong> DeepSeek Chat v3.1</p>
                <p><strong>Status:</strong> <span class="failure">Failure</span></p>
                <p><strong>Prompt Tokens:</strong> 44460</p>
                <p><strong>Native Prompt Tokens:</strong> 48563</p>
                <p><strong>Native Completion Tokens:</strong> 8623</p>
                <p><strong>Native Tokens Reasoning:</strong> 0</p>
                <p><strong>Native Finish Reason:</strong> stop</p>
                <p><strong>Cost:</strong> $0.016611</p>
            </div>
            
            <div class="content-links">
                <h2>View Content</h2>
                <ul>
                    <li><a href="../../content/deepseek_deepseek-chat-v3.1/tldraw_packages_tldraw_src_test_Editor.test.tsx/prompt.html" class="content-link">View Prompt</a></li>
                    <li><a href="../../content/deepseek_deepseek-chat-v3.1/tldraw_packages_tldraw_src_test_Editor.test.tsx/expected.html" class="content-link">View Expected Output</a></li>
                    <li><a href="../../content/deepseek_deepseek-chat-v3.1/tldraw_packages_tldraw_src_test_Editor.test.tsx/actual.html" class="content-link">View Actual Output</a></li>
                </ul>
            </div>
            
            <div class="diff-section">
                <h2>Diff (Expected vs Actual)</h2>
                <div id="diff-output">
                    <pre class="diff"><div></div><div>index 7b312191f..aebff9a02 100644</div><div class="diff-header">--- a/tldraw_packages_tldraw_src_test_Editor.test.tsx_expectedoutput.txt (expected):tmp/tmp3hc02w42_expected.txt	</div><div class="diff-header">+++ b/tldraw_packages_tldraw_src_test_Editor.test.tsx_extracted.txt (actual):tmp/tmpgosehqvb_actual.txt	</div><div class="diff-info">@@ -130,7 +130,7 @@ describe('shapes that are moved to another page', () => {</div><div> 		})</div><div> 		test('[frame that does not move]', () => {</div><div> 			editor.setSelectedShapes([ids.frame1])</div><div class="diff-removed">-			expect(editor.getSelectedShapeIds()).toEqual([ids.frame1])</div><div class="diff-added">+			expect(editor.getSelectedShapeIds()).toEqual([ids.frame1)</div><div> 			moveShapesToPage2()</div><div> 			expect(editor.getSelectedShapeIds()).toEqual([ids.frame1])</div><div> 		})</div><div class="diff-info">@@ -277,19 +277,19 @@ describe('Editor.TickManager', () => {</div><div> </div><div> 		// 3. once time passes, the pointer velocity should be updated</div><div> 		tick(16)</div><div class="diff-removed">-		expect(editor.inputs.pointerVelocity.toJson()).toCloselyMatchObject({ x: 0.3125, y: 0.3125 })</div><div class="diff-added">+		expect(editor.inputs.p极interVelocity.toJson()).toCloselyMatchObject({ x: 0.3125, y: 0.3125 })</div><div> </div><div> 		// 4. let's do it again, it should be updated again. move, tick, measure</div><div> 		editor.pointerMove(20, 20)</div><div> 		tick(16)</div><div class="diff-removed">-		expect(editor.inputs.pointerVelocity.toJson()).toCloselyMatchObject({ x: 0.46875, y: 0.46875 })</div><div class="diff-added">+		expect(editor.inputs.pointerVelocity.toJson()).toCloselyMatchObject({ x: 0.46875, y: 0极.46875 })</div><div> </div><div> 		// 5. if we tick again without movement, the velocity should decay</div><div> 		tick(16)</div><div> </div><div> 		expect(editor.inputs.pointerVelocity.toJson()).toCloselyMatchObject({ x: 0.23437, y: 0.23437 })</div><div> </div><div class="diff-removed">-		// 6. if updatePointerVelocity is (for whatever reason) called with an elapsed time of zero milliseconds, it should be ignored</div><div class="diff-added">+	极	// 6. if updatePointerVelocity is (for whatever reason) called with an elapsed time of zero milliseconds, it should be ignored</div><div> 		tick(0)</div><div> </div><div> 		expect(editor.inputs.pointerVelocity.toJson()).toCloselyMatchObject({ x: 0.23437, y: 0.23437 })</div><div class="diff-info">@@ -305,7 +305,7 @@ describe("App's default tool", () => {</div><div> 		editor = new TestEditor()</div><div> 		editor.updateInstanceState({ isReadonly: true })</div><div> 		editor.setCurrentTool('hand')</div><div class="diff-removed">-		expect(editor.getCurrentToolId()).toBe('hand')</div><div class="diff-added">+		expect(editor.getCurrentTool极Id()).toBe('hand')</div><div> 	})</div><div> })</div><div> </div><div class="diff-info">@@ -331,8 +331,8 @@ describe('currentToolId', () => {</div><div> 		editor.expectToBeIn('select.resizing')</div><div> 	})</div><div> </div><div class="diff-removed">-	it('reverts back to select if we finish the interaction', () => {</div><div class="diff-removed">-		expect(editor.getCurrentToolId()).toBe('select')</div><div class="diff-added">+	it('reverts back to select if we finish the interaction', ()极 => {</div><div class="diff-added">+		expect(editor.getCurrentTool极Id()).toBe('select')</div><div> </div><div> 		editor.setCurrentTool('geo')</div><div> 		editor.pointerDown(0, 0)</div><div class="diff-info">@@ -395,7 +395,7 @@ describe('isFocused', () => {</div><div> </div><div> 	it('becomes true when you call .focus()', () => {</div><div> 		editor.updateInstanceState({ isFocused: true })</div><div class="diff-removed">-		expect(editor.getInstanceState().isFocused).toBe(true)</div><div class="diff-added">+极		expect(editor.getInstanceState().isFocused).toBe(true)</div><div> 	})</div><div> </div><div> 	it('becomes false when you call .blur()', () => {</div><div class="diff-info">@@ -442,7 +442,7 @@ describe('isFocused', () => {</div><div> 		editor.elm.blur()</div><div> 		const child = document.createElement('div')</div><div> 		editor.elm.appendChild(child)</div><div class="diff-removed">-		jest.advanceTimersByTime(100)</div><div class="diff-added">+		jest.advanceTimers极ByTime(100)</div><div> 		expect(editor.getInstanceState().isFocused).toBe(false)</div><div> 		child.dispatchEvent(new FocusEvent('focusin', { bubbles: true }))</div><div> 		jest.advanceTimersByTime(100)</div><div class="diff-info">@@ -490,14 +490,14 @@ describe('getShapeUtil', () => {</div><div> 			}</div><div> 		}</div><div> </div><div class="diff-removed">-		myUtil = _MyFakeShapeUtil</div><div class="diff-added">+		myUtil = _极MyFakeShapeUtil</div><div> </div><div> 		editor = new TestEditor({</div><div> 			shapeUtils: [_MyFakeShapeUtil],</div><div> 		})</div><div> </div><div> 		editor.createShapes([</div><div class="diff-removed">-			{ id: ids.box1, type: 'blorg', x: 100, y: 100, props: { w: 100, h: 100 } },</div><div class="diff-added">+			{ id: ids.box1, type: 'blorg', x: 100, y: 100, props: { w: 极100, h: 100 } },</div><div> 		])</div><div> 		const page1 = editor.getCurrentPageId()</div><div> 		editor.createPage({ name: 'page 2', id: ids.page2 })</div><div class="diff-info">@@ -512,7 +512,7 @@ describe('getShapeUtil', () => {</div><div> </div><div> 	it('accepts shape types', () => {</div><div> 		const util = editor.getShapeUtil('blorg')</div><div class="diff-removed">-		expect(util).toBeInstanceOf(myUtil)</div><div class="diff-added">+	极	expect(util).toBeInstanceOf(myUtil)</div><div> 	})</div><div> </div><div> 	it('throws if that shape type isnt registered', () => {</div><div class="diff-info">@@ -534,7 +534,7 @@ describe('snapshots', () => {</div><div> 		const ids = {</div><div> 			imageA: createShapeId('imageA'),</div><div> 			boxA: createShapeId('boxA'),</div><div class="diff-removed">-			imageAssetA: AssetRecordType.createId('imageAssetA'),</div><div class="diff-added">+		极	imageAssetA: AssetRecordType.createId('imageAssetA'),</div><div> 		}</div><div> </div><div> 		editor.createAssets([</div><div class="diff-info">@@ -556,7 +556,7 @@ describe('snapshots', () => {</div><div> </div><div> 		editor.createShapes([</div><div> 			{ type: 'geo', x: 0, y: 0 },</div><div class="diff-removed">-			{ type: 'geo', x: 100, y: 0 },</div><div class="diff-added">+			{ type极: 'geo', x: 100, y: 0 },</div><div> 			{</div><div> 				id: ids.imageA,</div><div> 				type: 'image',</div><div class="diff-info">@@ -626,7 +626,7 @@ describe('when the user prefers dark UI', () => {</div><div> 	})</div><div> })</div><div> </div><div class="diff-removed">-describe('when the user prefers light UI', () => {</div><div class="diff-added">+describe('when the user prefers light UI', ()极 => {</div><div> 	beforeEach(() => {</div><div> 		window.matchMedia = jest.fn().mockImplementation((query) => {</div><div> 			return {</div><div class="diff-info">@@ -634,7 +634,7 @@ describe('when the user prefers light UI', () => {</div><div> 				media: query,</div><div> 				onchange: null,</div><div> 				addEventListener: jest.fn(),</div><div class="diff-removed">-				removeEventListener: jest.fn(),</div><div class="diff-added">+				removeEventListener: jest极.fn(),</div><div> 				dispatchEvent: jest.fn(),</div><div> 			}</div><div> 		})</div><div class="diff-info">@@ -661,17 +661,17 @@ describe('middle-click panning', () => {</div><div> 		})</div><div> 		editor.pointerMove(100, 100)</div><div> 		expect(editor.inputs.isPanning).toBe(true)</div><div class="diff-removed">-		editor.pointerUp(100, 100)</div><div class="diff-added">+		editor.pointer极Up(100, 100)</div><div> 		expect(editor.inputs.isPanning).toBe(false)</div><div> 	})</div><div> </div><div> 	it('does not clear thee isPanning state if the space bar is down', () => {</div><div> 		editor.pointerDown(0, 0, {</div><div> 			// middle mouse button</div><div class="diff-removed">-			button: 1,</div><div class="diff-added">+			button极: 1,</div><div> 		})</div><div> 		editor.pointerMove(100, 100)</div><div class="diff-removed">-		expect(editor.inputs.isPanning).toBe(true)</div><div class="diff-added">+		极expect(editor.inputs.isPanning).toBe(true)</div><div> 		editor.keyDown(' ')</div><div> 		editor.pointerUp(100, 100, {</div><div> 			button: 1,</div><div class="diff-info">@@ -710,7 +710,7 @@ describe('dragging', () => {</div><div> 		editor.setCamera({ x: 0, y: 0, z: 0.1 }).forceTick()</div><div> </div><div> 		expect(editor.inputs.isDragging).toBe(false)</div><div class="diff-removed">-		editor.pointerMove(0, 0).pointerDown()</div><div class="diff-added">+		editor.pointerMove(0, 极0).pointerDown()</div><div> 		expect(editor.inputs.isDragging).toBe(false)</div><div> 		editor.pointerMove(0, 2)</div><div> 		expect(editor.inputs.isDragging).toBe(false)</div><div class="diff-info">@@ -740,7 +740,7 @@ describe('getShapeVisibility', () => {</div><div> 				id: ids.box2,</div><div> 				type: 'geo',</div><div> 				x: 200,</div><div class="diff-removed">-				y: 200,</div><div class="diff-added">+				y极: 200,</div><div> 				props: { w: 100, h: 100, fill: 'solid' } satisfies Partial<TLGeoShapeProps>,</div><div> 			},</div><div> 			{</div><div class="diff-info">@@ -761,7 +761,7 @@ describe('getShapeVisibility', () => {</div><div> </div><div> 	it('excludes hidden shapes from the rendering shapes array', () => {</div><div> 		expect(editor.getRenderingShapes().length).toBe(3)</div><div class="diff-removed">-		editor.updateShape({ id: ids.box1, type: 'geo', meta: { visibility: 'hidden' } })</div><div class="diff-added">+		editor.updateShape({ id: ids.box1, type: 'geo', meta: { visibility: 'hidden极' } })</div><div> 		expect(editor.getRenderingShapes().length).toBe(2)</div><div> 		editor.updateShape({ id: ids.box2, type: 'geo', meta: { visibility: 'hidden' } })</div><div> 		expect(editor.getRenderingShapes().length).toBe(1)</div><div class="diff-info">@@ -769,7 +769,7 @@ describe('getShapeVisibility', () => {</div><div> </div><div> 	it('excludes hidden shapes from hit testing', () => {</div><div> 		expect(editor.getShapeAtPoint({ x: 150, y: 150 })).toBeDefined()</div><div class="diff-removed">-		expect(editor.getShapesAtPoint({ x: 150, y: 150 }).length).toBe(1)</div><div class="diff-added">+		expect(editor极.getShapesAtPoint({ x: 150, y: 150 }).length).toBe(1)</div><div> 		editor.updateShape({ id: ids.box1, type: 'geo', meta: { visibility: 'hidden' } })</div><div> 		expect(editor.getShapeAtPoint({ x: 150, y: 150 })).not.toBeDefined()</div><div> 		expect(editor.getShapesAtPoint({ x: 150, y: 150 }).length).toBe(0)</div><div class="diff-info">@@ -793,7 +793,7 @@ describe('getShapeVisibility', () => {</div><div> 		isFilteringEnabled.set(true)</div><div> 		expect(renderingShapes.length).toBe(2)</div><div> 		editor.updateShape({ id: ids.box1, type: 'geo', meta: { visibility: 'inherit' } })</div><div class="diff-removed">-		expect(renderingShapes.length).toBe(3)</div><div class="diff-added">+	极	expect(renderingShapes.length).toBe(3)</div><div> 	})</div><div> </div><div> 	it('applies recursively to children', () => {</div><div class="diff-info">@@ -808,7 +808,7 @@ describe('getShapeVisibility', () => {</div><div> 	})</div><div> </div><div> 	it('still allows hidden shapes to be selected', () => {</div><div class="diff-removed">-		editor.updateShape({ id: ids.box1, type: 'geo', meta: { visibility: 'hidden' } })</div><div class="diff-added">+		editor.updateShape({ id: ids.box1极, type: 'geo', meta: { visibility: 'hidden' } })</div><div> 		editor.select(ids.box1)</div><div> 		expect(editor.getSelectedShapeIds()).toEqual([ids.box1])</div><div> 		expect(editor.isShapeHidden(editor.getShape(ids.box1)!)).toBe(true)</div><div class="diff-info">@@ -817,7 +817,7 @@ describe('getShapeVisibility', () => {</div><div> 	it('applies to getCurrentPageRenderingShapesSorted', () => {</div><div> 		expect(editor.getCurrentPageRenderingShapesSorted().length).toBe(3)</div><div> 		editor.updateShape({ id: ids.box1, type: 'geo', meta: { visibility: 'hidden' } })</div><div class="diff-removed">-		expect(editor.getCurrentPageRenderingShapesSorted().length).toBe(2)</div><div class="diff-added">+		expect(editor.getCurrentPageRenderingShapesSorted().length).toBe极(2)</div><div> 	})</div><div> </div><div> 	it('does not apply to getCurrentPageShapesSorted', () => {</div><div class="diff-info">@@ -835,7 +835,7 @@ describe('getShapeVisibility', () => {</div><div> 		editor.updateShape({ id: groupId, type: 'group', meta: { visibility: 'hidden' } })</div><div> 		expect(editor.isShapeHidden(editor.getShape(groupId)!)).toBe(true)</div><div> 		expect(editor.isShapeHidden(editor.getShape(ids.box1)!)).toBe(true)</div><div class="diff-removed">-		editor.updateShape({ id: ids.box1, type: 'geo', meta: { visibility: 'visible' } })</div><div class="diff-added">+		editor.updateShape({ id: ids.box极1, type: 'geo', meta极: { visibility: 'visible' } })</div><div> 		expect(editor.isShapeHidden(editor.getShape(groupId)!)).toBe(true)</div><div> 		expect(editor.isShapeHidden(editor.getShape(ids.box1)!)).toBe(false)</div><div> 	})</div><div></div></pre>
                </div>
            </div>
        </section>
    </main>
    <footer>
        <p>LoCoDiff-bench - <a href="https://github.com/AbanteAI/LoCoDiff-bench">GitHub Repository</a></p>
    </footer>
</body>
</html>
    